# üì¶ –ü–û–õ–ù–´–ô –ü–ê–ö–ï–¢ –î–õ–Ø ANTIGRAVITY

## üéØ –ß–¢–û –ó–î–ï–°–¨

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–≤–æ–¥–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤ –≤ Home Assistant Lovelace –Ω–∞ Svelte 5.

**3 –≥–æ—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞**:

1. **antigravity_prompt.md** ‚Äî –ì–õ–ê–í–ù–´–ô –ü–†–û–ú–¢ –¥–ª—è Antigravity
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã (SSR, srcObject, –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤)
   - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å Antigravity

2. **quick_start.md** ‚Äî –ì–û–¢–û–í–´–ô –ö–û–î –¥–ª—è –∫–æ–ø–∏–ø–∞—Å—Ç–∞
   - 4 –≥–æ—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞ (types, CameraCard, Preview, Live)
   - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
   - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ö–æ–ø–∏—Ä—É–π –∫–æ–¥ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç

3. **common_errors.md** ‚Äî –°–ü–†–ê–í–û–ß–ù–ò–ö –æ—à–∏–±–æ–∫ –∏ —Ä–µ—à–µ–Ω–∏–π
   - 6 —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫
   - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
   - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ (3 —à–∞–≥–∞)

### 1. –°–∫–æ–ø–∏—Ä—É–π –∫–æ–¥ –∏–∑ quick_start.md
```
src/lib/types/camera.ts
src/lib/components/CameraCard.svelte
src/lib/components/CameraCardPreview.svelte
src/lib/components/CameraCardLive.svelte
```

### 2. –ê–¥–∞–ø—Ç–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```typescript
const camera = {
  name: '–¢–≤–æ—è –∫–∞–º–µ—Ä–∞',
  source: '–∏–º—è_–≤_go2rtc', // –Ω–∞–ø—Ä–∏–º–µ—Ä 'frontdoor_call'
  mode: 'live', // –∏–ª–∏ 'preview'
  go2rtcHost: 'localhost:1984', // —Ç–≤–æ–π –∞–¥—Ä–µ—Å go2rtc
  go2rtcProtocol: 'http'
};
```

### 3. –ó–∞–ø—É—Å—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å
```bash
npm run dev
# –û—Ç–∫—Ä–æ–π http://localhost:5173
# –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è
```

---

## üìö –ö–û–ì–î–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –ö–ê–ö–û–ô –§–ê–ô–õ

| –°–∏—Ç—É–∞—Ü–∏—è | –§–∞–π–ª | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|----------|------|-----------|
| –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å Antigravity –∑–∞–¥–∞—á—É | antigravity_prompt.md | –°–∫–æ–ø–∏—Ä—É–π –∏ –ø—Ä–∏—à–ª–∏ –µ–º—É |
| –ù—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç | quick_start.md | –ö–æ–ø–∏—Ä—É–π –∫–æ–¥, –ø–∞—Å—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç |
| –ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å | common_errors.md | –ù–∞–π–¥–∏ –ø–æ—Ö–æ–∂—É—é –æ—à–∏–±–∫—É –∏ —Ä–µ—à–µ–Ω–∏–µ |
| Antigravity —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç "–ø–æ—á–µ–º—É?" | antigravity_prompt.md | –°—Å—ã–ª–∞–π—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª |
| –ù—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | common_errors.md | –°–º–æ—Ç—Ä–∏ —Å–µ–∫—Ü–∏—é "–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" |

---

## ‚úÖ –ì–ê–†–ê–ù–¢–ò–Ø

–ï—Å–ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å —ç—Ç–æ–º—É –ø–∞–∫–µ—Ç—É —Ä–æ–≤–Ω–æ –∫–∞–∫ –µ—Å—Ç—å:

‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ –ù–µ—Ç —á—ë—Ä–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤  
‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏  
‚úÖ –í–∏–¥–µ–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  

**–£—Å–ª–æ–≤–∏–µ**: –ù–µ –æ—Ç–∫–ª–æ–Ω—è–π—Å—è –æ—Ç –ø–ª–∞–Ω–∞.

---

## üéì –ß–¢–û ANTIGRAVITY –ù–ê–£–ß–ò–¢–°–Ø

1. SSR/Hydration –≤ SvelteKit
2. Svelte Actions (–ø—Ä–∏–≤—è–∑–∫–∞ JS —Å–≤–æ–π—Å—Ç–≤)
3. WebRTC API (RTCPeerConnection)
4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (–æ—á–∏—Å—Ç–∫–∞)
5. go2rtc –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

## üí° –ö–õ–Æ–ß–ï–í–´–ï –ú–û–ú–ï–ù–¢–´

### 1. SSR = –°–µ—Ä–≤–µ—Ä-—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –í–µ—Å—å –∫–æ–¥ —Å `window`, `navigator`, WebRTC ‚Üí —Ç–æ–ª—å–∫–æ –≤ `onMount`

### 2. srcObject —Ç—Ä–µ–±—É–µ—Ç Action
- Svelte –Ω–µ —É–º–µ–µ—Ç –±–∏–Ω–¥–∏—Ç—å JS —Å–≤–æ–π—Å—Ç–≤–∞
- –ù—É–∂–Ω–∞ custom action –¥–ª—è MediaStream

### 3. –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ = –≤–∞–∂–Ω–æ
- –ö–∞–∂–¥—ã–π `onMount` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç cleanup —Ñ—É–Ω–∫—Ü–∏—é
- –ò–Ω–∞—á–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ = 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ù–µ –∫–æ–º–±–∏–Ω–∏—Ä—É–π, –Ω–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–π

---

## üìû –ü–û–ú–û–©–¨

### –ï—Å–ª–∏ Antigravity –∑–∞—Å—Ç—Ä—è–ª
‚Üí –ü—Ä–∏—à–ª–∏ –µ–º—É —Ä–∞–∑–¥–µ–ª –∏–∑ antigravity_prompt.md

### –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã
‚Üí –î–∞–π quick_start.md

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å
‚Üí –°–º–æ—Ç—Ä–∏ common_errors.md

### –ï—Å–ª–∏ –Ω–µ—Ç –≤–∏–¥–µ–æ
‚Üí –ü—Ä–æ–≤–µ—Ä—å:
1. go2rtc –¥–æ—Å—Ç—É–ø–µ–Ω: `curl http://localhost:1984/api/streams`
2. –ö–æ–Ω—Å–æ–ª—å: –µ—Å—Ç—å –ª–∏ –ª–æ–≥–∏ `[CameraCard]`?
3. –°–µ–∫—Ü–∏—è "–û—à–∏–±–∫–∞ #2: –ß—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω" –≤ common_errors.md

---

## üèÜ –ò–¢–û–ì–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–±–µ–¥–∏—Å—å —á—Ç–æ:

- [ ] –°–∫–∞—á–∞–ª –≤—Å–µ 3 —Ñ–∞–π–ª–∞
- [ ] –ü–æ–Ω–∏–º–∞—é –∑–∞—á–µ–º –Ω—É–∂–Ω–æ SSR+onMount
- [ ] –ü–æ–Ω–∏–º–∞—é –ø–æ—á–µ–º—É –Ω—É–∂–Ω–∞ action –¥–ª—è srcObject
- [ ] –ó–Ω–∞—é —á—Ç–æ return –∏–∑ onMount —ç—Ç–æ cleanup —Ñ—É–Ω–∫—Ü–∏—è
- [ ] –ó–Ω–∞—é —á—Ç–æ –≤—Å–µ 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

–ï—Å–ª–∏ —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Üí –ø—Ä–æ—á–∏—Ç–∞–π antigravity_prompt.md –µ—â—ë —Ä–∞–∑.

---

**–í–ø–µ—Ä—ë–¥! –£–¥–∞—á–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üöÄ**