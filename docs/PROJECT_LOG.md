
| 2025-05-24 | refactor-phase-1 | decompose-settings | Decompose SettingsDrawer | Refactor large SettingsDrawer into sub-components (Connection, Theme, Widget, Data) and use direct store binding. Add composable for resizing. | src/domains/ui/composables/usePersistedWidth.svelte.ts, src/domains/ui/settings/sections/*, src/domains/ui/settings/SettingsDrawer.svelte | npm run check && npm run build | **Completed** | Next | Refactor Sidebar to use usePersistedWidth | God component decomposed, code is cleaner. |
| 2025-05-24 | refactor-phase-1 | fix-settings-conflict | Fix SettingsDrawer Syntax Error | Remove git merge conflict markers from SettingsDrawer.svelte that caused build failure. | src/domains/ui/settings/SettingsDrawer.svelte | npm run check | **Completed** | Next | Refactor Sidebar | Fixed accidental merge markers. |
| 2025-05-24 | i18n-fix-01 | translate-widget-settings | Translate Widget Settings | Add missing translations for Clock and Weather Style settings in the Settings drawer. | src/lib/i18n/locales/ru.json, src/lib/i18n/locales/en.json, src/domains/ui/settings/sections/WidgetSettings.svelte | npm run check && npm run build | **Completed** | Next | N/A | Added keys settings.widgets.clock and weatherStyle to en/ru locales. |
| 2025-05-24 | security-fix-01 | crypto-pbkdf2 | Implement PBKDF2 PIN Security | Rewrite crypto to use PBKDF2 derived keys, add Session Store, add PIN UI, update persistence logic to rely on session key. | src/domains/ha/crypto.ts, src/domains/app/session.ts, src/domains/ui/lock/PinScreen.svelte, src/domains/app/store.ts, src/routes/+layout.svelte | npm run check && npm run build | **Completed** | Next | Create ha/storage.ts | Critical security fix implemented. Data previous to this will be lost/reset. |
| 2025-05-25 | refactor-storage-01 | create-storage-module | Create Centralized Storage Module | Implement src/domains/ha/storage.ts with typed keys and helpers. | src/domains/ha/storage.ts | npm run check | **Completed** | Next | Refactor stores to use storage.ts | Foundation for secure storage migration. |
| 2025-05-25 | fix-weather-settings-01 | restore-layout-option | Restore Forecast Layout Setting | Add missing Forecast Layout dropdown to WidgetSettings. | src/domains/ui/settings/sections/WidgetSettings.svelte | npm run check | **Completed** | Next | N/A | Fixed regression in settings UI. |
| 2025-05-25 | security-fix-02 | implement-change-pin | Implement PIN Change Functionality | Add Security settings section, changePin method in session, and re-encryption logic. | src/domains/app/session.ts, src/domains/ui/settings/sections/SecuritySettings.svelte, src/domains/ui/settings/SettingsDrawer.svelte, src/lib/i18n/locales/en.json, src/lib/i18n/locales/ru.json | npm run check && npm run build | **Completed** | Next | Fix DashboardHeader buttons | Added ability to change PIN without losing data. |
| 2025-05-25 | fix-import-paths-01 | fix-security-settings-imports | Fix Imports in SecuritySettings | Correct relative import paths in SecuritySettings.svelte to resolve build error. | src/domains/ui/settings/sections/SecuritySettings.svelte | npm run check | **Completed** | Next | N/A | Fixed relative paths (../../../../ -> ../../../). |
| 2025-05-25 | ui-polish-01 | improve-theme-editor-toggles | Improve Theme Editor Mode Toggles | Refine visual layout of Light/Dark mode toggle buttons in ThemeEditor to be centered and look like a segmented control. | src/domains/ui/theme/ThemeEditor.svelte | npm run check | **Completed** | Next | Fix DashboardHeader buttons | Added iconify-icons and improved flex styling for mode switch. |
