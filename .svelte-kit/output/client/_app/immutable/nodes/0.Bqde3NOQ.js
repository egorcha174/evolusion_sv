var tn=Object.defineProperty;var en=(t,n,e)=>n in t?tn(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var at=(t,n,e)=>en(t,typeof n!="symbol"?n+"":n,e);import{b as Zt,g as nn,d as _e,f as B,a as T,s as kt,e as on,t as wt,c as we}from"../chunks/BB0mxiVI.js";import{o as Rt}from"../chunks/DIUvlOIK.js";import{C as V,V as H,$ as te,e as sn,b5 as rn,a4 as At,a5 as Ie,al as Tt,b4 as cn,b1 as an,Z as Et,_ as X,X as Se,az as ln,W as un,b6 as fn,a3 as ee,w as dn,z as mt,B as v,E as vt,s as A,a as E,F as Z,A as S,G as b,H as Y,b7 as hn,ax as Lt,m as pn}from"../chunks/ckSiSke7.js";import{B as gn,i as W,a as Dt,s as D}from"../chunks/DVoR1FOb.js";import{t as mn,b as lt,a as vn,d as bn,e as yn}from"../chunks/g01pLsAg.js";import{h as _n,i as wn,d as In}from"../chunks/Bo0WoD40.js";import{b as k,e as Sn}from"../chunks/DvsBgBqP.js";import{s as xn,g as Cn}from"../chunks/CpStgHip.js";import{t as ne,i as kn,b as An,s as Tn,a as En}from"../chunks/DGCjLhpl.js";import{i as Pn}from"../chunks/BkOfiBb2.js";import{t as jn,a as On}from"../chunks/a0xp_F8u.js";function Mn(t,n,e=!1,i=!1,o=!1){var s=t,r="";V(()=>{var a=sn;if(r===(r=n()??"")){H&&te();return}if(a.nodes!==null&&(rn(a.nodes.start,a.nodes.end),a.nodes=null),r!==""){if(H){At.data;for(var c=te(),l=c;c!==null&&(c.nodeType!==Ie||c.data!=="");)l=c,c=Tt(c);if(c===null)throw cn(),an;Zt(At,l),s=Et(c);return}var u=r+"";e?u=`<svg>${u}</svg>`:i&&(u=`<math>${u}</math>`);var f=nn(u);if((e||i)&&(f=X(f)),Zt(X(f),f.lastChild),e||i)for(;X(f);)s.before(X(f));else s.before(f)}})}function $n(t,n,...e){var i=new gn(t);Se(()=>{const o=n()??null;i.ensure(o,o&&(s=>o(s,...e)))},ln)}function zn(t,n){let e=null,i=H;var o;if(H){e=At;for(var s=X(document.head);s!==null&&(s.nodeType!==Ie||s.data!==t);)s=Tt(s);if(s===null)ee(!1);else{var r=Tt(s);s.remove(),Et(r)}}H||(o=document.head.appendChild(un()));try{Se(()=>n(o),fn)}finally{i&&(ee(!0),Et(e))}}function Fn(t,n,e,i){var o=t.__style;if(H||o!==n){var s=mn(n);(!H||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=n}return i}const Ht=dn(320),xe="evolusion.infoPanel.width";function Nn(){try{const t=localStorage.getItem(xe);if(t){const n=parseInt(t,10);!isNaN(n)&&n>=280&&n<=500&&Ht.set(n)}}catch(t){console.error("Failed to load UI state",t)}}function Rn(t){try{localStorage.setItem(xe,t.toString()),Ht.set(t)}catch(n){console.error("Failed to save UI state",n)}}var Ln=B('<aside class="info-panel svelte-rjw8n6"><div class="resize-handle svelte-rjw8n6"></div> <div class="panel-content svelte-rjw8n6"><div class="section clock-section svelte-rjw8n6"><div class="clock svelte-rjw8n6"> </div></div> <div class="section weather-section svelte-rjw8n6"><div class="card weather-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Weather Widget (TODO)</span></div></div> <div class="section camera-section svelte-rjw8n6"><div class="card camera-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Camera Feed (TODO)</span></div></div></div></aside>');function Dn(t,n){mt(n,!0);let e=Z(320),i=Z(!1),o=Z("");Rt(()=>{Nn();const y=Ht.subscribe(P=>A(e,P,!0)),g=()=>{A(o,new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),!0)};g();const $=setInterval(g,1e3);return()=>{y(),clearInterval($)}});function s(y){y.preventDefault(),A(i,!0),window.addEventListener("mousemove",r),window.addEventListener("mouseup",a),document.body.style.cursor="col-resize"}function r(y){if(!E(i))return;let g=y.clientX;g<280&&(g=280),g>500&&(g=500),A(e,g,!0)}function a(){E(i)&&(A(i,!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",a),document.body.style.cursor="",Rn(E(e)))}var c=Ln(),l=v(c);l.__mousedown=s;var u=S(l,2),f=v(u),d=v(f),p=v(d,!0);b(d),b(f),Y(4),b(u),b(c),V(()=>{Fn(c,`width: ${E(e)??""}px`),kt(p,E(o))}),T(t,c),vt()}_e(["mousedown"]);const Hn=()=>{const t=xn;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},qn={subscribe(t){return Hn().page.subscribe(t)}};/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const Ce=Object.freeze({left:0,top:0,width:16,height:16}),ht=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),st=Object.freeze({...Ce,...ht}),Pt=Object.freeze({...st,body:"",hidden:!1}),Bn=Object.freeze({width:null,height:null}),ke=Object.freeze({...Bn,...ht});function Qn(t,n=0){const e=t.replace(/^-?[0-9.]*/,"");function i(o){for(;o<0;)o+=4;return o%4}if(e===""){const o=parseInt(t);return isNaN(o)?0:i(o)}else if(e!==t){let o=0;switch(e){case"%":o=25;break;case"deg":o=90}if(o){let s=parseFloat(t.slice(0,t.length-e.length));return isNaN(s)?0:(s=s/o,s%1===0?i(s):0)}}return n}const Un=/[\s,]+/;function Vn(t,n){n.split(Un).forEach(e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}const Ae={...ke,preserveAspectRatio:""};function oe(t){const n={...Ae},e=(i,o)=>t.getAttribute(i)||o;return n.width=e("width",null),n.height=e("height",null),n.rotate=Qn(e("rotate","")),Vn(n,e("flip","")),n.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),n}function Gn(t,n){for(const e in Ae)if(t[e]!==n[e])return!0;return!1}const tt=/^[a-z0-9]+(-[a-z0-9]+)*$/,rt=(t,n,e,i="")=>{const o=t.split(":");if(t.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;i=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const a=o.pop(),c=o.pop(),l={provider:o.length>0?o[0]:i,prefix:c,name:a};return n&&!ft(l)?null:l}const s=o[0],r=s.split("-");if(r.length>1){const a={provider:i,prefix:r.shift(),name:r.join("-")};return n&&!ft(a)?null:a}if(e&&i===""){const a={provider:i,prefix:"",name:s};return n&&!ft(a,e)?null:a}return null},ft=(t,n)=>t?!!((t.provider===""||t.provider.match(tt))&&(n&&t.prefix===""||t.prefix.match(tt))&&t.name.match(tt)):!1;function Kn(t,n){const e={};!t.hFlip!=!n.hFlip&&(e.hFlip=!0),!t.vFlip!=!n.vFlip&&(e.vFlip=!0);const i=((t.rotate||0)+(n.rotate||0))%4;return i&&(e.rotate=i),e}function ie(t,n){const e=Kn(t,n);for(const i in Pt)i in ht?i in t&&!(i in e)&&(e[i]=ht[i]):i in n?e[i]=n[i]:i in t&&(e[i]=t[i]);return e}function Wn(t,n){const e=t.icons,i=t.aliases||Object.create(null),o=Object.create(null);function s(r){if(e[r])return o[r]=[];if(!(r in o)){o[r]=null;const a=i[r]&&i[r].parent,c=a&&s(a);c&&(o[r]=[a].concat(c))}return o[r]}return Object.keys(e).concat(Object.keys(i)).forEach(s),o}function Jn(t,n,e){const i=t.icons,o=t.aliases||Object.create(null);let s={};function r(a){s=ie(i[a]||o[a],s)}return r(n),e.forEach(r),ie(t,s)}function Te(t,n){const e=[];if(typeof t!="object"||typeof t.icons!="object")return e;t.not_found instanceof Array&&t.not_found.forEach(o=>{n(o,null),e.push(o)});const i=Wn(t);for(const o in i){const s=i[o];s&&(n(o,Jn(t,o,s)),e.push(o))}return e}const Xn={provider:"",aliases:{},not_found:{},...Ce};function It(t,n){for(const e in n)if(e in t&&typeof t[e]!=typeof n[e])return!1;return!0}function Ee(t){if(typeof t!="object"||t===null)return null;const n=t;if(typeof n.prefix!="string"||!t.icons||typeof t.icons!="object"||!It(t,Xn))return null;const e=n.icons;for(const o in e){const s=e[o];if(!o.match(tt)||typeof s.body!="string"||!It(s,Pt))return null}const i=n.aliases||Object.create(null);for(const o in i){const s=i[o],r=s.parent;if(!o.match(tt)||typeof r!="string"||!e[r]&&!i[r]||!It(s,Pt))return null}return n}const pt=Object.create(null);function Yn(t,n){return{provider:t,prefix:n,icons:Object.create(null),missing:new Set}}function N(t,n){const e=pt[t]||(pt[t]=Object.create(null));return e[n]||(e[n]=Yn(t,n))}function qt(t,n){return Ee(n)?Te(n,(e,i)=>{i?t.icons[e]=i:t.missing.add(e)}):[]}function Zn(t,n,e){try{if(typeof e.body=="string")return t.icons[n]={...e},!0}catch{}return!1}function to(t,n){let e=[];return(typeof t=="string"?[t]:Object.keys(pt)).forEach(o=>{(typeof o=="string"&&typeof n=="string"?[n]:Object.keys(pt[o]||{})).forEach(r=>{const a=N(o,r);e=e.concat(Object.keys(a.icons).map(c=>(o!==""?"@"+o+":":"")+r+":"+c))})}),e}let nt=!1;function Pe(t){return typeof t=="boolean"&&(nt=t),nt}function ot(t){const n=typeof t=="string"?rt(t,!0,nt):t;if(n){const e=N(n.provider,n.prefix),i=n.name;return e.icons[i]||(e.missing.has(i)?null:void 0)}}function je(t,n){const e=rt(t,!0,nt);if(!e)return!1;const i=N(e.provider,e.prefix);return Zn(i,e.name,n)}function se(t,n){if(typeof t!="object")return!1;if(typeof n!="string"&&(n=t.provider||""),nt&&!n&&!t.prefix){let o=!1;return Ee(t)&&(t.prefix="",Te(t,(s,r)=>{r&&je(s,r)&&(o=!0)})),o}const e=t.prefix;if(!ft({provider:n,prefix:e,name:"a"}))return!1;const i=N(n,e);return!!qt(i,t)}function eo(t){return!!ot(t)}function no(t){const n=ot(t);return n?{...st,...n}:null}function oo(t){const n={loaded:[],missing:[],pending:[]},e=Object.create(null);t.sort((o,s)=>o.provider!==s.provider?o.provider.localeCompare(s.provider):o.prefix!==s.prefix?o.prefix.localeCompare(s.prefix):o.name.localeCompare(s.name));let i={provider:"",prefix:"",name:""};return t.forEach(o=>{if(i.name===o.name&&i.prefix===o.prefix&&i.provider===o.provider)return;i=o;const s=o.provider,r=o.prefix,a=o.name,c=e[s]||(e[s]=Object.create(null)),l=c[r]||(c[r]=N(s,r));let u;a in l.icons?u=n.loaded:r===""||l.missing.has(a)?u=n.missing:u=n.pending;const f={provider:s,prefix:r,name:a};u.push(f)}),n}function Oe(t,n){t.forEach(e=>{const i=e.loaderCallbacks;i&&(e.loaderCallbacks=i.filter(o=>o.id!==n))})}function io(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const n=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!n.length)return;let e=!1;const i=t.provider,o=t.prefix;n.forEach(s=>{const r=s.icons,a=r.pending.length;r.pending=r.pending.filter(c=>{if(c.prefix!==o)return!0;const l=c.name;if(t.icons[l])r.loaded.push({provider:i,prefix:o,name:l});else if(t.missing.has(l))r.missing.push({provider:i,prefix:o,name:l});else return e=!0,!0;return!1}),r.pending.length!==a&&(e||Oe([t],s.id),s.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),s.abort))})}))}let so=0;function ro(t,n,e){const i=so++,o=Oe.bind(null,e,i);if(!n.pending.length)return o;const s={id:i,icons:n,callback:t,abort:o};return e.forEach(r=>{(r.loaderCallbacks||(r.loaderCallbacks=[])).push(s)}),o}const jt=Object.create(null);function re(t,n){jt[t]=n}function Ot(t){return jt[t]||jt[""]}function co(t,n=!0,e=!1){const i=[];return t.forEach(o=>{const s=typeof o=="string"?rt(o,n,e):o;s&&i.push(s)}),i}var ao={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function lo(t,n,e,i){const o=t.resources.length,s=t.random?Math.floor(Math.random()*o):t.index;let r;if(t.random){let h=t.resources.slice(0);for(r=[];h.length>1;){const x=Math.floor(Math.random()*h.length);r.push(h[x]),h=h.slice(0,x).concat(h.slice(x+1))}r=r.concat(h)}else r=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let c="pending",l=0,u,f=null,d=[],p=[];typeof i=="function"&&p.push(i);function y(){f&&(clearTimeout(f),f=null)}function g(){c==="pending"&&(c="aborted"),y(),d.forEach(h=>{h.status==="pending"&&(h.status="aborted")}),d=[]}function $(h,x){x&&(p=[]),typeof h=="function"&&p.push(h)}function P(){return{startTime:a,payload:n,status:c,queriesSent:l,queriesPending:d.length,subscribe:$,abort:g}}function _(){c="failed",p.forEach(h=>{h(void 0,u)})}function I(){d.forEach(h=>{h.status==="pending"&&(h.status="aborted")}),d=[]}function G(h,x,L){const Q=x!=="success";switch(d=d.filter(j=>j!==h),c){case"pending":break;case"failed":if(Q||!t.dataAfterTimeout)return;break;default:return}if(x==="abort"){u=L,_();return}if(Q){u=L,d.length||(r.length?R():_());return}if(y(),I(),!t.random){const j=t.resources.indexOf(h.resource);j!==-1&&j!==t.index&&(t.index=j)}c="completed",p.forEach(j=>{j(L)})}function R(){if(c!=="pending")return;y();const h=r.shift();if(h===void 0){if(d.length){f=setTimeout(()=>{y(),c==="pending"&&(I(),_())},t.timeout);return}_();return}const x={status:"pending",resource:h,callback:(L,Q)=>{G(x,L,Q)}};d.push(x),l++,f=setTimeout(R,t.rotate),e(h,n,x.callback)}return setTimeout(R),P}function Me(t){const n={...ao,...t};let e=[];function i(){e=e.filter(a=>a().status==="pending")}function o(a,c,l){const u=lo(n,a,c,(f,d)=>{i(),l&&l(f,d)});return e.push(u),u}function s(a){return e.find(c=>a(c))||null}return{query:o,find:s,setIndex:a=>{n.index=a},getIndex:()=>n.index,cleanup:i}}function Bt(t){let n;if(typeof t.resources=="string")n=[t.resources];else if(n=t.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const bt=Object.create(null),J=["https://api.simplesvg.com","https://api.unisvg.com"],dt=[];for(;J.length>0;)J.length===1||Math.random()>.5?dt.push(J.shift()):dt.push(J.pop());bt[""]=Bt({resources:["https://api.iconify.design"].concat(dt)});function ce(t,n){const e=Bt(n);return e===null?!1:(bt[t]=e,!0)}function yt(t){return bt[t]}function uo(){return Object.keys(bt)}function ae(){}const St=Object.create(null);function fo(t){if(!St[t]){const n=yt(t);if(!n)return;const e=Me(n),i={config:n,redundancy:e};St[t]=i}return St[t]}function $e(t,n,e){let i,o;if(typeof t=="string"){const s=Ot(t);if(!s)return e(void 0,424),ae;o=s.send;const r=fo(t);r&&(i=r.redundancy)}else{const s=Bt(t);if(s){i=Me(s);const r=t.resources?t.resources[0]:"",a=Ot(r);a&&(o=a.send)}}return!i||!o?(e(void 0,424),ae):i.query(n,o,e)().abort}const le="iconify2",it="iconify",ze=it+"-count",ue=it+"-version",Fe=36e5,ho=168;function Mt(t,n){try{return t.getItem(n)}catch{}}function Qt(t,n,e){try{return t.setItem(n,e),!0}catch{}}function fe(t,n){try{t.removeItem(n)}catch{}}function $t(t,n){return Qt(t,ze,n.toString())}function zt(t){return parseInt(Mt(t,ze))||0}const q={local:!0,session:!0},Ne={local:new Set,session:new Set};let Ut=!1;function po(t){Ut=t}let ut=typeof window>"u"?{}:window;function Re(t){const n=t+"Storage";try{if(ut&&ut[n]&&typeof ut[n].length=="number")return ut[n]}catch{}q[t]=!1}function Le(t,n){const e=Re(t);if(!e)return;const i=Mt(e,ue);if(i!==le){if(i){const a=zt(e);for(let c=0;c<a;c++)fe(e,it+c.toString())}Qt(e,ue,le),$t(e,0);return}const o=Math.floor(Date.now()/Fe)-ho,s=a=>{const c=it+a.toString(),l=Mt(e,c);if(typeof l=="string"){try{const u=JSON.parse(l);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>o&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&n(u,a))return!0}catch{}fe(e,c)}};let r=zt(e);for(let a=r-1;a>=0;a--)s(a)||(a===r-1?(r--,$t(e,r)):Ne[t].add(a))}function De(){if(!Ut){po(!0);for(const t in q)Le(t,n=>{const e=n.data,i=n.provider,o=e.prefix,s=N(i,o);if(!qt(s,e).length)return!1;const r=e.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,r):r,!0})}}function go(t,n){const e=t.lastModifiedCached;if(e&&e>=n)return e===n;if(t.lastModifiedCached=n,e)for(const i in q)Le(i,o=>{const s=o.data;return o.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===n});return!0}function mo(t,n){Ut||De();function e(i){let o;if(!q[i]||!(o=Re(i)))return;const s=Ne[i];let r;if(s.size)s.delete(r=Array.from(s).shift());else if(r=zt(o),!$t(o,r+1))return;const a={cached:Math.floor(Date.now()/Fe),provider:t.provider,data:n};return Qt(o,it+r.toString(),JSON.stringify(a))}n.lastModified&&!go(t,n.lastModified)||Object.keys(n.icons).length&&(n.not_found&&(n=Object.assign({},n),delete n.not_found),e("local")||e("session"))}function de(){}function vo(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,io(t)}))}function bo(t,n){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(n).sort():t.iconsToLoad=n,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:i}=t,o=t.iconsToLoad;delete t.iconsToLoad;let s;if(!o||!(s=Ot(e)))return;s.prepare(e,i,o).forEach(a=>{$e(e,a,c=>{if(typeof c!="object")a.icons.forEach(l=>{t.missing.add(l)});else try{const l=qt(t,c);if(!l.length)return;const u=t.pendingIcons;u&&l.forEach(f=>{u.delete(f)}),mo(t,c)}catch(l){console.error(l)}vo(t)})})}))}const Vt=(t,n)=>{const e=co(t,!0,Pe()),i=oo(e);if(!i.pending.length){let c=!0;return n&&setTimeout(()=>{c&&n(i.loaded,i.missing,i.pending,de)}),()=>{c=!1}}const o=Object.create(null),s=[];let r,a;return i.pending.forEach(c=>{const{provider:l,prefix:u}=c;if(u===a&&l===r)return;r=l,a=u,s.push(N(l,u));const f=o[l]||(o[l]=Object.create(null));f[u]||(f[u]=[])}),i.pending.forEach(c=>{const{provider:l,prefix:u,name:f}=c,d=N(l,u),p=d.pendingIcons||(d.pendingIcons=new Set);p.has(f)||(p.add(f),o[l][u].push(f))}),s.forEach(c=>{const{provider:l,prefix:u}=c;o[l][u].length&&bo(c,o[l][u])}),n?ro(n,i,s):de},yo=t=>new Promise((n,e)=>{const i=typeof t=="string"?rt(t,!0):t;if(!i){e(t);return}Vt([i||t],o=>{if(o.length&&i){const s=ot(i);if(s){n({...st,...s});return}}e(t)})});function _o(t){try{const n=typeof t=="string"?JSON.parse(t):t;if(typeof n.body=="string")return{...n}}catch{}}function wo(t,n){const e=typeof t=="string"?rt(t,!0,!0):null;if(!e){const s=_o(t);return{value:t,data:s}}const i=ot(e);if(i!==void 0||!e.prefix)return{value:t,name:e,data:i};const o=Vt([e],()=>n(t,e,ot(e)));return{value:t,name:e,loading:o}}function xt(t){return t.hasAttribute("inline")}let He=!1;try{He=navigator.vendor.indexOf("Apple")===0}catch{}function Io(t,n){switch(n){case"svg":case"bg":case"mask":return n}return n!=="style"&&(He||t.indexOf("<a")===-1)?"svg":t.indexOf("currentColor")===-1?"bg":"mask"}const So=/(-?[0-9.]*[0-9]+[0-9.]*)/g,xo=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ft(t,n,e){if(n===1)return t;if(e=e||100,typeof t=="number")return Math.ceil(t*n*e)/e;if(typeof t!="string")return t;const i=t.split(So);if(i===null||!i.length)return t;const o=[];let s=i.shift(),r=xo.test(s);for(;;){if(r){const a=parseFloat(s);isNaN(a)?o.push(s):o.push(Math.ceil(a*n*e)/e)}else o.push(s);if(s=i.shift(),s===void 0)return o.join("");r=!r}}const Co=t=>t==="unset"||t==="undefined"||t==="none";function qe(t,n){const e={...st,...t},i={...ke,...n},o={left:e.left,top:e.top,width:e.width,height:e.height};let s=e.body;[e,i].forEach(y=>{const g=[],$=y.hFlip,P=y.vFlip;let _=y.rotate;$?P?_+=2:(g.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),g.push("scale(-1 1)"),o.top=o.left=0):P&&(g.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),g.push("scale(1 -1)"),o.top=o.left=0);let I;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:I=o.height/2+o.top,g.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:g.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:I=o.width/2+o.left,g.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}_%2===1&&(o.left!==o.top&&(I=o.left,o.left=o.top,o.top=I),o.width!==o.height&&(I=o.width,o.width=o.height,o.height=I)),g.length&&(s='<g transform="'+g.join(" ")+'">'+s+"</g>")});const r=i.width,a=i.height,c=o.width,l=o.height;let u,f;r===null?(f=a===null?"1em":a==="auto"?l:a,u=Ft(f,c/l)):(u=r==="auto"?c:r,f=a===null?Ft(u,l/c):a==="auto"?l:a);const d={},p=(y,g)=>{Co(g)||(d[y]=g.toString())};return p("width",u),p("height",f),d.viewBox=o.left.toString()+" "+o.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:d,body:s}}const ko=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let gt=ko();function Ao(t){gt=t}function To(){return gt}function Eo(t,n){const e=yt(t);if(!e)return 0;let i;if(!e.maxURL)i=0;else{let o=0;e.resources.forEach(r=>{o=Math.max(o,r.length)});const s=n+".json?icons=";i=e.maxURL-o-e.path.length-s.length}return i}function Po(t){return t===404}const jo=(t,n,e)=>{const i=[],o=Eo(t,n),s="icons";let r={type:s,provider:t,prefix:n,icons:[]},a=0;return e.forEach((c,l)=>{a+=c.length+1,a>=o&&l>0&&(i.push(r),r={type:s,provider:t,prefix:n,icons:[]},a=c.length),r.icons.push(c)}),i.push(r),i};function Oo(t){if(typeof t=="string"){const n=yt(t);if(n)return n.path}return"/"}const Mo=(t,n,e)=>{if(!gt){e("abort",424);return}let i=Oo(n.provider);switch(n.type){case"icons":{const s=n.prefix,a=n.icons.join(","),c=new URLSearchParams({icons:a});i+=s+".json?"+c.toString();break}case"custom":{const s=n.uri;i+=s.slice(0,1)==="/"?s.slice(1):s;break}default:e("abort",400);return}let o=503;gt(t+i).then(s=>{const r=s.status;if(r!==200){setTimeout(()=>{e(Po(r)?"abort":"next",r)});return}return o=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?e("abort",s):e("next",o)});return}setTimeout(()=>{e("success",s)})}).catch(()=>{e("next",o)})},$o={prepare:jo,send:Mo};function he(t,n){switch(t){case"local":case"session":q[t]=n;break;case"all":for(const e in q)q[e]=n;break}}const Ct="data-style";let Be="";function zo(t){Be=t}function pe(t,n){let e=Array.from(t.childNodes).find(i=>i.hasAttribute&&i.hasAttribute(Ct));e||(e=document.createElement("style"),e.setAttribute(Ct,Ct),t.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(n?"-0.125em":"0")+"}span,svg{display:block}"+Be}function Qe(){re("",$o),Pe(!0);let t;try{t=window}catch{}if(t){if(De(),t.IconifyPreload!==void 0){const e=t.IconifyPreload,i="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!se(o))&&console.error(i)}catch{console.error(i)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(const i in e){const o="IconifyProviders["+i+"] is invalid.";try{const s=e[i];if(typeof s!="object"||!s||s.resources===void 0)continue;ce(i,s)||console.error(o)}catch{console.error(o)}}}}return{enableCache:e=>he(e,!0),disableCache:e=>he(e,!1),iconExists:eo,getIcon:no,listIcons:to,addIcon:je,addCollection:se,calculateSize:Ft,buildIcon:qe,loadIcons:Vt,loadIcon:yo,addAPIProvider:ce,appendCustomStyle:zo,_api:{getAPIConfig:yt,setAPIModule:re,sendAPIQuery:$e,setFetch:Ao,getFetch:To,listAPIProviders:uo}}}function Ue(t,n){let e=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in n)e+=" "+i+'="'+n[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+t+"</svg>"}function Fo(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function No(t){return"data:image/svg+xml,"+Fo(t)}function Ro(t){return'url("'+No(t)+'")'}const Nt={"background-color":"currentColor"},Ve={"background-color":"transparent"},ge={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},me={"-webkit-mask":Nt,mask:Nt,background:Ve};for(const t in me){const n=me[t];for(const e in ge)n[t+"-"+e]=ge[e]}function ve(t){return t?t+(t.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Lo(t,n,e){const i=document.createElement("span");let o=t.body;o.indexOf("<a")!==-1&&(o+="<!-- "+Date.now()+" -->");const s=t.attributes,r=Ue(o,{...s,width:n.width+"",height:n.height+""}),a=Ro(r),c=i.style,l={"--svg":a,width:ve(s.width),height:ve(s.height),...e?Nt:Ve};for(const u in l)c.setProperty(u,l[u]);return i}let et;function Do(){try{et=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{et=null}}function Ho(t){return et===void 0&&Do(),et?et.createHTML(t):t}function qo(t){const n=document.createElement("span"),e=t.attributes;let i="";e.width||(i="width: inherit;"),e.height||(i+="height: inherit;"),i&&(e.style=i);const o=Ue(t.body,e);return n.innerHTML=Ho(o),n.firstChild}function be(t,n){const e=n.icon.data,i=n.customisations,o=qe(e,i);i.preserveAspectRatio&&(o.attributes.preserveAspectRatio=i.preserveAspectRatio);const s=n.renderedMode;let r;switch(s){case"svg":r=qo(o);break;default:r=Lo(o,{...st,...e},s==="mask")}const a=Array.from(t.childNodes).find(c=>{const l=c.tagName&&c.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});a?r.tagName==="SPAN"&&a.tagName===r.tagName?a.setAttribute("style",r.getAttribute("style")):t.replaceChild(r,a):t.appendChild(r)}function ye(t,n,e){const i=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:n,icon:t,lastRender:i}}function Bo(t="iconify-icon"){let n,e;try{n=window.customElements,e=window.HTMLElement}catch{return}if(!n||!e)return;const i=n.get(t);if(i)return i;const o=["icon","mode","inline","width","height","rotate","flip"],s=class extends e{constructor(){super();at(this,"_shadowRoot");at(this,"_state");at(this,"_checkQueued",!1);const c=this._shadowRoot=this.attachShadow({mode:"open"}),l=xt(this);pe(c,l),this._state=ye({value:""},l),this._queueCheck()}static get observedAttributes(){return o.slice(0)}attributeChangedCallback(c){if(c==="inline"){const l=xt(this),u=this._state;l!==u.inline&&(u.inline=l,pe(this._shadowRoot,l))}else this._queueCheck()}get icon(){const c=this.getAttribute("icon");if(c&&c.slice(0,1)==="{")try{return JSON.parse(c)}catch{}return c}set icon(c){typeof c=="object"&&(c=JSON.stringify(c)),this.setAttribute("icon",c)}get inline(){return xt(this)}set inline(c){c?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const c=this._state;if(c.rendered){const l=this._shadowRoot;if(c.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}be(l,c)}}get status(){const c=this._state;return c.rendered?"rendered":c.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const c=this._state,l=this.getAttribute("icon");if(l!==c.icon.value){this._iconChanged(l);return}if(!c.rendered)return;const u=this.getAttribute("mode"),f=oe(this);(c.attrMode!==u||Gn(c.customisations,f))&&this._renderIcon(c.icon,f,u)}_iconChanged(c){const l=wo(c,(u,f,d)=>{const p=this._state;if(p.rendered||this.getAttribute("icon")!==u)return;const y={value:u,name:f,data:d};y.data?this._gotIconData(y):p.icon=y});l.data?this._gotIconData(l):this._state=ye(l,this._state.inline,this._state)}_gotIconData(c){this._checkQueued=!1,this._renderIcon(c,oe(this),this.getAttribute("mode"))}_renderIcon(c,l,u){const f=Io(c.data.body,u),d=this._state.inline;be(this._shadowRoot,this._state={rendered:!0,icon:c,inline:d,customisations:l,attrMode:u,renderedMode:f})}};o.forEach(a=>{a in s.prototype||Object.defineProperty(s.prototype,a,{get:function(){return this.getAttribute(a)},set:function(c){c!==null?this.setAttribute(a,c):this.removeAttribute(a)}})});const r=Qe();for(const a in r)s[a]=s.prototype[a]=r[a];return n.define(t,s),s}const Qo=Bo()||Qe(),{enableCache:fi,disableCache:di,iconExists:hi,getIcon:pi,listIcons:gi,addIcon:mi,addCollection:vi,calculateSize:bi,buildIcon:yi,loadIcons:_i,loadIcon:wi,addAPIProvider:Ii,_api:Si}=Qo;var Uo=B("<iconify-icon></iconify-icon>",2),Vo=B("<button> <!></button>"),Go=B('<button class="tab-btn add-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button>',2),Ko=B('<div class="dropdown-menu svelte-1ra6ezt"><a href="/settings" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Settings</a> <a href="/entities" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> All Entities</a> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Refresh Page</button> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item highlight svelte-1ra6ezt"><iconify-icon></iconify-icon> </button></div>',2),Wo=B('<header class="dashboard-header svelte-1ra6ezt"><div class="header-left svelte-1ra6ezt"><button class="icon-btn mobile-only svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <div class="logo svelte-1ra6ezt"><iconify-icon></iconify-icon> <span class="logo-text">Evolusion</span></div> <nav class="desktop-tabs svelte-1ra6ezt"><!> <!></nav></div> <div class="header-right svelte-1ra6ezt"><div class="status svelte-1ra6ezt"><span></span> <span class="status-text"><!></span></div> <div class="menu-container svelte-1ra6ezt"><button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <!></div></div></header>',2);function Jo(t,n){mt(n,!0);const e=()=>D(qn,"$page",a),i=()=>D(ne,"$tabs",a),o=()=>D(En,"$activeTabId",a),s=()=>D(kn,"$isEditMode",a),r=()=>D(_n,"$haStore",a),[a,c]=Dt();let l=Z(!1),u=Z(!1);function f(){A(u,!1)}function d(m){Tn(m),A(l,!1),e().url.pathname!=="/"&&Cn("/")}function p(){window.location.reload()}function y(){A(l,!E(l)),A(u,!1)}function g(m){m.stopPropagation(),A(u,!E(u)),A(l,!1)}var $=Wo();on("click",hn,f);var P=v($),_=v(P);_.__click=m=>{m.stopPropagation(),y()};var I=v(_);k(I,"icon","mdi:menu"),k(I,"width","24"),b(_);var G=S(_,2),R=v(G);k(R,"icon","mdi:home-assistant"),k(R,"width","24"),lt(R,1,"logo-icon svelte-1ra6ezt"),Y(2),b(G);var h=S(G,2),x=v(h);Sn(x,1,i,m=>m.id,(m,w)=>{var C=Vo();let U;C.__click=()=>d(E(w).id);var z=v(C),O=S(z);{var M=K=>{var F=Uo();k(F,"icon","mdi:pencil"),k(F,"width","14"),lt(F,1,"edit-icon"),T(K,F)};W(O,K=>{s()&&K(M)})}b(C),V(()=>{U=lt(C,1,"tab-btn svelte-1ra6ezt",null,U,{active:o()===E(w).id}),kt(z,`${E(w).title??""} `)}),T(m,C)});var L=S(x,2);{var Q=m=>{var w=Go();w.__click=()=>ne.addTab();var C=v(w);k(C,"icon","mdi:plus"),k(C,"width","20"),b(w),T(m,w)};W(L,m=>{s()&&m(Q)})}b(h),b(P);var j=S(P,2),_t=v(j),Gt=v(_t);let Kt;var Wt=S(Gt,2),Ge=v(Wt);{var Ke=m=>{var w=wt("Connected");T(m,w)},We=m=>{var w=we(),C=Lt(w);{var U=O=>{var M=wt("Connecting...");T(O,M)},z=O=>{var M=wt("Disconnected");T(O,M)};W(C,O=>{r().isLoading?O(U):O(z,!1)},!0)}T(m,w)};W(Ge,m=>{r().isConnected?m(Ke):m(We,!1)})}b(Wt),b(_t);var Jt=S(_t,2),ct=v(Jt);ct.__click=g;var Xt=v(ct);k(Xt,"icon","mdi:dots-vertical"),k(Xt,"width","24"),b(ct);var Je=S(ct,2);{var Xe=m=>{var w=Ko();w.__click=Ze=>Ze.stopPropagation();var C=v(w);C.__click=()=>A(u,!1);var U=v(C);k(U,"icon","mdi:cog-outline"),Y(),b(C);var z=S(C,2);z.__click=()=>A(u,!1);var O=v(z);k(O,"icon","mdi:format-list-bulleted"),Y(),b(z);var M=S(z,4);M.__click=p;var K=v(M);k(K,"icon","mdi:refresh"),Y(),b(M);var F=S(M,4);F.__click=()=>{An(),A(u,!1)};var Yt=v(F);V(()=>k(Yt,"icon",s()?"mdi:check":"mdi:view-dashboard-edit-outline"));var Ye=S(Yt);b(F),b(w),V(()=>kt(Ye,` ${s()?"Done":"Edit Dashboard"}`)),T(m,w)};W(Je,m=>{E(u)&&m(Xe)})}b(Jt),b(j),b($),V(()=>Kt=lt(Gt,1,"indicator svelte-1ra6ezt",null,Kt,{connected:r().isConnected})),T(t,$),vt(),c()}_e(["click"]);function Xo(t,n){mt(n,!1);const e=()=>D(On,"$themeState",i),[i,o]=Dt();Rt(()=>{jn.init()}),Pn(),zn("nh1qkz",s=>{var r=we(),a=Lt(r);Mn(a,()=>`<style id="theme-styles">${e().css}</style>`),T(s,r)}),vt(),o()}var Yo=B('<!> <div class="layout-container svelte-12qhfyh"><!> <div class="main-content svelte-12qhfyh"><!> <main class="svelte-12qhfyh"><!></main></div></div>',1);function xi(t,n){mt(n,!0);const e=()=>D(vn,"$appState",i),[i,o]=Dt();Rt(async()=>{await bn(),await yn()}),pn(()=>{const p=e().activeServer;p!=null&&p.url&&(p!=null&&p.token)?wn(p.url,p.token):In()});var s=Yo(),r=Lt(s);Xo(r,{});var a=S(r,2),c=v(a);Dn(c,{});var l=S(c,2),u=v(l);Jo(u,{});var f=S(u,2),d=v(f);$n(d,()=>n.children),b(f),b(l),b(a),T(t,s),vt(),o()}export{xi as component};
