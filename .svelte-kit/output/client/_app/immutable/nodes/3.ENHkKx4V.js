import{d as ot,f as c,s as b,a as v,c as Y}from"../chunks/Bgs4iDMG.js";import{H as $,J as i,Q as a,I as e,a as t,O as N,aD as M,K as D,M as tt,s as S,a1 as W}from"../chunks/D78c_VIb.js";import{i as A,a as st,s as Z}from"../chunks/DcjxvNrN.js";import{a as rt,r as nt}from"../chunks/DLuiIGct.js";import{b as lt,a as vt}from"../chunks/fuqYoDOe.js";import{t as dt,e as _t,h as ct,a as ut}from"../chunks/DXSKJMQ0.js";import{p as pt}from"../chunks/CSca0pXz.js";import{e as et,i as mt}from"../chunks/CZ606ANP.js";var ft=c('<div class="error-text svelte-oocbx9"> </div>'),gt=c('<button class="action-button svelte-oocbx9"> </button>'),yt=c('<div class="entity-row svelte-oocbx9"><div class="entity-info svelte-oocbx9"><div class="entity-name svelte-oocbx9"> </div> <div class="entity-id svelte-oocbx9"> </div> <!></div> <div class="entity-state svelte-oocbx9"><div class="state-badge svelte-oocbx9"> </div></div> <!></div>');function ht(C,o){$(o,!0);let d=N(!1),s=N(null);async function u(){try{S(d,!0),S(s,null),await dt(o.entity.entity_id)}catch(n){console.error("Toggle error:",n),S(s,n.message||"Toggle failed",!0)}finally{S(d,!1)}}let x=M(()=>et(o.entity.entity_id)),L=M(()=>o.entity.attributes.friendly_name||o.entity.entity_id),w=M(()=>mt(t(x)));var g=yt(),y=i(g),j=i(y),Q=i(j,!0);a(j);var T=e(j,2),r=i(T,!0);a(T);var p=e(T,2);{var k=n=>{var l=ft(),_=i(l,!0);a(l),D(()=>b(_,t(s))),v(n,l)};A(p,n=>{t(s)&&n(k)})}a(y);var h=e(y,2),O=i(h),m=i(O,!0);a(O),a(h);var f=e(h,2);{var E=n=>{var l=gt();l.__click=u;var _=i(l,!0);a(l),D(()=>{l.disabled=t(d),b(_,t(d)?"...":o.entity.state==="on"?"Off":"On")}),v(n,l)};A(f,n=>{t(w)&&n(E)})}a(g),D(()=>{rt(g,"data-domain",t(x)),b(Q,t(L)),b(r,o.entity.entity_id),b(m,o.entity.state)}),v(C,g),tt()}ot(["click"]);var bt=c('<div class="entity-list svelte-t6avkx"></div>');function xt(C,o){let d=pt(o,"entities",19,()=>[]);var s=bt();_t(s,21,d,u=>u.entity_id,(u,x)=>{ht(u,{get entity(){return t(x)}})}),a(s),v(C,s)}var Lt=c("<p>Loading entities...</p>"),wt=c('<p class="error svelte-1ipj8go"> </p>'),St=c("<p>No entities connected. Check your Home Assistant settings.</p>"),Ct=c('<div class="filters svelte-1ipj8go"><input type="text" placeholder="Search entities..." class="search-input svelte-1ipj8go"/> <select class="domain-select svelte-1ipj8go"><option>All domains</option><option>Lights</option><option>Switches</option><option>Sensors</option><option>Binary Sensors</option><option>Climate</option><option>Covers</option><option>Media Players</option></select></div> <div class="results-count svelte-1ipj8go"> </div> <!>',1),jt=c('<div class="page-entities svelte-1ipj8go"><h1>All Entities</h1> <!></div>');function Nt(C,o){$(o,!0);const d=()=>Z(ut,"$entityList",u),s=()=>Z(ct,"$haStore",u),[u,x]=st();let L=N(""),w=N(null),g=M(()=>d().filter(r=>{const p=r.entity_id.toLowerCase().includes(t(L).toLowerCase())||(r.attributes.friendly_name||"").toLowerCase().includes(t(L).toLowerCase()),k=et(r.entity_id),h=!t(w)||k===t(w);return p&&h}));var y=jt(),j=e(i(y),2);{var Q=r=>{var p=Lt();v(r,p)},T=r=>{var p=Y(),k=W(p);{var h=m=>{var f=wt(),E=i(f);a(f),D(()=>b(E,`Error: ${s().error??""}`)),v(m,f)},O=m=>{var f=Y(),E=W(f);{var n=_=>{var H=St();v(_,H)},l=_=>{var H=Ct(),B=W(H),I=i(B);nt(I);var J=e(I,2),K=i(J);K.value=(K.__value=null)??"";var P=e(K);P.value=P.__value="light";var R=e(P);R.value=R.__value="switch";var q=e(R);q.value=q.__value="sensor";var z=e(q);z.value=z.__value="binary_sensor";var F=e(z);F.value=F.__value="climate";var G=e(F);G.value=G.__value="cover";var X=e(G);X.value=X.__value="media_player",a(J),a(B);var U=e(B,2),at=i(U);a(U);var it=e(U,2);xt(it,{get entities(){return t(g)}}),D(()=>b(at,`Showing ${t(g).length??""} of ${d().length??""} entities`)),lt(I,()=>t(L),V=>S(L,V)),vt(J,()=>t(w),V=>S(w,V)),v(_,H)};A(E,_=>{d().length===0?_(n):_(l,!1)},!0)}v(m,f)};A(k,m=>{s().error?m(h):m(O,!1)},!0)}v(r,p)};A(j,r=>{s().isLoading?r(Q):r(T,!1)})}a(y),v(C,y),tt(),x()}export{Nt as component};
