import{f as U,a as $}from"../chunks/DYWGbwQD.js";import{r as C,K as O,o as G,a as s,s as e,O as f,Q as c,M as J,ad as m,n as T,R as d,ac as K}from"../chunks/BWA2oz35.js";import{d as P,s as Q}from"../chunks/8JZ3AmGw.js";import{s as W,i as j,a as z}from"../chunks/MLiwW76i.js";import{b as L,r as R}from"../chunks/CdCvGuyU.js";import{a as B,s as D}from"../chunks/DxFgX8oq.js";function E(r,p,l){var n=r==null?"":""+r;return n=n?n+" "+p:p,n===""?null:n}function F(r,p,l,n,k,o){var i=r.__className;if(C||i!==l||i===void 0){var t=E(l,n);(!C||t!==r.getAttribute("class"))&&(t==null?r.removeAttribute("class"):r.className=t),r.__className=l}return o}var I=U("<div> </div>"),V=U('<div class="settings-container svelte-1i19ct2"><h1 class="svelte-1i19ct2">Settings</h1> <p class="description svelte-1i19ct2">Configure your Home Assistant connection details.</p> <div class="form-group svelte-1i19ct2"><label for="url" class="svelte-1i19ct2">Server URL</label> <input id="url" type="url" placeholder="http://homeassistant.local:8123" autocomplete="url" class="svelte-1i19ct2"/> <span class="hint svelte-1i19ct2">e.g. http://192.168.1.100:8123</span></div> <div class="form-group svelte-1i19ct2"><label for="token" class="svelte-1i19ct2">Long-Lived Access Token</label> <input id="token" type="password" placeholder="eyJhbGciOi..." autocomplete="current-password" class="svelte-1i19ct2"/> <span class="hint svelte-1i19ct2">Create this in your HA profile settings.</span></div> <div class="actions svelte-1i19ct2"><button class="btn-secondary svelte-1i19ct2">Test Connection</button> <button class="btn-primary svelte-1i19ct2">Save Configuration</button></div> <!></div>');function ae(r,p){O(p,!0);const l=()=>W(B,"$appState",n),[n,k]=z();let o=m(""),i=m(""),t=m(""),v=m("info");G(()=>{l().activeServer&&s(o)===""&&s(i)===""&&(e(o,l().activeServer.url,!0),e(i,l().activeServer.token,!0))});function H(){if(e(t,""),!s(o)){e(t,"Server URL is required."),e(v,"error");return}if(!s(i)){e(t,"Access Token is required."),e(v,"error");return}let a=s(o).trim();a.endsWith("/")&&(a=a.slice(0,-1));const u={url:a,token:s(i).trim(),name:"Home Assistant"};D(u),e(t,"Configuration saved."),e(v,"success")}function N(){if(e(t,""),!s(o)||!s(i)){e(t,"Please enter URL and Token first."),e(v,"error");return}e(t,"Ready to connect (Mock)"),e(v,"info")}var _=V(),g=c(f(_),4),S=c(f(g),2);R(S),T(2),d(g);var b=c(g,2),y=c(f(b),2);R(y),T(2),d(b);var h=c(b,2),A=f(h);A.__click=N;var q=c(A,2);q.__click=H,d(h);var w=c(h,2);{var x=a=>{var u=I(),M=f(u,!0);d(u),K(()=>{F(u,1,`message ${s(v)??""}`,"svelte-1i19ct2"),Q(M,s(t))}),$(a,u)};j(w,a=>{s(t)&&a(x)})}d(_),L(S,()=>s(o),a=>e(o,a)),L(y,()=>s(i),a=>e(i,a)),$(r,_),J(),k()}P(["click"]);export{ae as component};
