import{d as ot,f as c,s as b,a as v,c as Y}from"../chunks/Y60M5pzQ.js";import{z as $,B as i,G as a,A as e,a as t,F as z,aE as O,C as A,E as tt,s as S,ax as W}from"../chunks/CXj4HnGG.js";import{i as D,a as st,s as Z}from"../chunks/BAi1BYcP.js";import{a as rt,e as nt,r as lt}from"../chunks/CG6x82nw.js";import{b as vt,a as dt}from"../chunks/CWKor5o7.js";import{t as _t,h as ct,e as ut}from"../chunks/Cj1dWHaT.js";import{p as pt}from"../chunks/CVyURxy9.js";import{e as et,i as mt}from"../chunks/CZ606ANP.js";var ft=c('<div class="error-text svelte-oocbx9"> </div>'),gt=c('<button class="action-button svelte-oocbx9"> </button>'),yt=c('<div class="entity-row svelte-oocbx9"><div class="entity-info svelte-oocbx9"><div class="entity-name svelte-oocbx9"> </div> <div class="entity-id svelte-oocbx9"> </div> <!></div> <div class="entity-state svelte-oocbx9"><div class="state-badge svelte-oocbx9"> </div></div> <!></div>');function ht(C,o){$(o,!0);let d=z(!1),s=z(null);async function u(){try{S(d,!0),S(s,null),await _t(o.entity.entity_id)}catch(n){console.error("Toggle error:",n),S(s,n.message||"Toggle failed",!0)}finally{S(d,!1)}}let x=O(()=>et(o.entity.entity_id)),L=O(()=>o.entity.attributes.friendly_name||o.entity.entity_id),w=O(()=>mt(t(x)));var g=yt(),y=i(g),E=i(y),F=i(E,!0);a(E);var j=e(E,2),r=i(j,!0);a(j);var p=e(j,2);{var T=n=>{var l=ft(),_=i(l,!0);a(l),A(()=>b(_,t(s))),v(n,l)};D(p,n=>{t(s)&&n(T)})}a(y);var h=e(y,2),B=i(h),m=i(B,!0);a(B),a(h);var f=e(h,2);{var k=n=>{var l=gt();l.__click=u;var _=i(l,!0);a(l),A(()=>{l.disabled=t(d),b(_,t(d)?"...":o.entity.state==="on"?"Off":"On")}),v(n,l)};D(f,n=>{t(w)&&n(k)})}a(g),A(()=>{rt(g,"data-domain",t(x)),b(F,t(L)),b(r,o.entity.entity_id),b(m,o.entity.state)}),v(C,g),tt()}ot(["click"]);var bt=c('<div class="entity-list svelte-t6avkx"></div>');function xt(C,o){let d=pt(o,"entities",19,()=>[]);var s=bt();nt(s,21,d,u=>u.entity_id,(u,x)=>{ht(u,{get entity(){return t(x)}})}),a(s),v(C,s)}var Lt=c("<p>Loading entities...</p>"),wt=c('<p class="error svelte-1ipj8go"> </p>'),St=c("<p>No entities connected. Check your Home Assistant settings.</p>"),Ct=c('<div class="filters svelte-1ipj8go"><input type="text" placeholder="Search entities..." class="search-input svelte-1ipj8go"/> <select class="domain-select svelte-1ipj8go"><option>All domains</option><option>Lights</option><option>Switches</option><option>Sensors</option><option>Binary Sensors</option><option>Climate</option><option>Covers</option><option>Media Players</option></select></div> <div class="results-count svelte-1ipj8go"> </div> <!>',1),Et=c('<div class="page-entities svelte-1ipj8go"><h1>All Entities</h1> <!></div>');function zt(C,o){$(o,!0);const d=()=>Z(ut,"$entityList",u),s=()=>Z(ct,"$haStore",u),[u,x]=st();let L=z(""),w=z(null),g=O(()=>d().filter(r=>{const p=r.entity_id.toLowerCase().includes(t(L).toLowerCase())||(r.attributes.friendly_name||"").toLowerCase().includes(t(L).toLowerCase()),T=et(r.entity_id),h=!t(w)||T===t(w);return p&&h}));var y=Et(),E=e(i(y),2);{var F=r=>{var p=Lt();v(r,p)},j=r=>{var p=Y(),T=W(p);{var h=m=>{var f=wt(),k=i(f);a(f),A(()=>b(k,`Error: ${s().error??""}`)),v(m,f)},B=m=>{var f=Y(),k=W(f);{var n=_=>{var N=St();v(_,N)},l=_=>{var N=Ct(),G=W(N),H=i(G);lt(H);var M=e(H,2),P=i(M);P.value=(P.__value=null)??"";var Q=e(P);Q.value=Q.__value="light";var R=e(Q);R.value=R.__value="switch";var q=e(R);q.value=q.__value="sensor";var I=e(q);I.value=I.__value="binary_sensor";var J=e(I);J.value=J.__value="climate";var K=e(J);K.value=K.__value="cover";var X=e(K);X.value=X.__value="media_player",a(M),a(G);var U=e(G,2),at=i(U);a(U);var it=e(U,2);xt(it,{get entities(){return t(g)}}),A(()=>b(at,`Showing ${t(g).length??""} of ${d().length??""} entities`)),vt(H,()=>t(L),V=>S(L,V)),dt(M,()=>t(w),V=>S(w,V)),v(_,N)};D(k,_=>{d().length===0?_(n):_(l,!1)},!0)}v(m,f)};D(T,m=>{s().error?m(h):m(B,!1)},!0)}v(r,p)};D(E,r=>{s().isLoading?r(F):r(j,!1)})}a(y),v(C,y),tt(),x()}export{zt as component};
