var yn=Object.defineProperty;var _n=(e,n,t)=>n in e?yn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Me=(e,n,t)=>_n(e,typeof n!="symbol"?n+"":n,t);import{f as x,a as b,c as se,d as jt,s as j,e as wn}from"../chunks/Ce4_kbAy.js";import{o as Ot}from"../chunks/M-PbikfX.js";import{H as M,B as ve,a as R,N as xn,I as he,M as U,G as v,J as f,aV as In,ag as zt,s as D,C as Oe,F as m,K as Sn,aW as kn,v as Cn}from"../chunks/CM9YBULs.js";import{i as O,a as Re,s as B}from"../chunks/BlMTQ3nd.js";import{a as xe,s as An}from"../chunks/D-ksKLD4.js";import{g as k,$ as Ft,h as Tn,e as Nt,i as qn,q as En,u as Pn,b as Mn,v as Ln,w as $n,x as jn}from"../chunks/3QiWljis.js";import{e as On,f as zn,g as Fn,b as Nn,w as Rn,h as Dn,t as Bn}from"../chunks/j97TzuOC.js";import{i as Hn}from"../chunks/D91iyqOG.js";import{s as W}from"../chunks/9tXmumpb.js";import{l as Qn,c as Un,d as Vn,t as mt,b as Gn,f as Wn,g as Kn,h as Jn}from"../chunks/TQTxLml0.js";import{s as Xn,g as Yn}from"../chunks/CkREA0SI.js";var Zn=x('<div class="solid-bg svelte-2mry8v"></div>');function ei(e,n){var t=Zn();let o;M(()=>o=xe(t,"",o,{"background-color":n.color||"#1C1C1E"})),b(e,t)}var ti=x('<div class="gradient-bg svelte-rgxxro"></div>');function ni(e,n){ve(n,!0);let t=xn(()=>n.config?`linear-gradient(${n.config.angle}deg, ${n.config.stops.map(r=>`${r.color} ${r.position}%`).join(", ")})`:"linear-gradient(135deg, #EAEAEB 0%, #DCDCDC 100%)");var o=ti();let i;M(()=>i=xe(o,"",i,{"background-image":R(t)})),b(e,o),he()}var ii=x('<div class="image-bg svelte-d6med1"></div>');function oi(e,n){ve(n,!0);var t=se(),o=U(t);{var i=r=>{var s=ii();let c;M(()=>c=xe(s,"",c,{"background-image":`url(${n.config.url??""})`,"background-size":n.config.size,"background-position":n.config.position,"background-repeat":n.config.repeat,opacity:n.config.opacity??1,filter:n.config.blur?`blur(${n.config.blur}px)`:"none"})),b(r,s)};O(o,r=>{n.config&&r(i)})}b(e,t),he()}var ri=x('<div class="animation-bg svelte-bhgbb2"><div class="placeholder-gradient svelte-bhgbb2"></div></div>');function si(e,n){var t=ri();b(e,t)}var ci=x('<div class="background-container svelte-wckzi8"><!></div>');function ai(e,n){ve(n,!1);const t=()=>B(On,"$activeScheme",o),[o,i]=Re();Hn();var r=ci(),s=v(r);{var c=l=>{ei(l,{get color(){return t().dashboardBackgroundColor}})},a=l=>{var d=se(),u=U(d);{var h=y=>{ni(y,{get config(){return t().dashboardGradient}})},I=y=>{var S=se(),L=U(S);{var z=_=>{oi(_,{get config(){return t().dashboardBackgroundImage}})},C=_=>{var H=se(),V=U(H);{var p=A=>{si(A)};O(V,A=>{t().dashboardBackgroundType==="animation"&&A(p)},!0)}b(_,H)};O(L,_=>{t().dashboardBackgroundType==="image"?_(z):_(C,!1)},!0)}b(y,S)};O(u,y=>{t().dashboardBackgroundType==="gradient"?y(h):y(I,!1)},!0)}b(l,d)};O(s,l=>{t().dashboardBackgroundType==="color"?l(c):l(a,!1)})}f(r),b(e,r),he(),i()}const Rt=In(new Date,e=>{const n=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(n)});zt(Rt,e=>e.getHours()*60+e.getMinutes());const li=zt(Rt,e=>e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}));var di=x('<div class="spinner svelte-5d5q0c"></div>'),ui=x('<div class="weather-error svelte-5d5q0c"><iconify-icon></iconify-icon></div>',2),fi=x('<span class="min svelte-5d5q0c"> </span>'),vi=x('<div class="forecast-item svelte-5d5q0c"><div class="forecast-day svelte-5d5q0c"> </div> <div class="forecast-icon svelte-5d5q0c"><iconify-icon></iconify-icon></div> <div class="forecast-temp svelte-5d5q0c"><span class="max svelte-5d5q0c"> </span> <!></div></div>',2),hi=x("<div></div>"),pi=x('<div class="current-weather svelte-5d5q0c"><div class="weather-icon svelte-5d5q0c"><iconify-icon></iconify-icon></div> <div class="weather-info svelte-5d5q0c"><div class="temp svelte-5d5q0c"> </div> <div class="condition svelte-5d5q0c"> </div></div></div> <!>',3),gi=x('<div class="current-weather svelte-5d5q0c"><div class="weather-icon svelte-5d5q0c"><iconify-icon></iconify-icon></div> <div class="weather-info svelte-5d5q0c"><div class="temp svelte-5d5q0c">--째</div> <div class="condition svelte-5d5q0c"> </div></div></div>',2),mi=x('<span class="latency svelte-5d5q0c"> </span>'),bi=x('<div class="status-dot connected svelte-5d5q0c"></div> <span class="status-text svelte-5d5q0c"> </span> <!>',1),yi=x('<div class="status-dot loading svelte-5d5q0c"></div> <span class="status-text svelte-5d5q0c"> </span>',1),_i=x('<div class="status-dot disconnected svelte-5d5q0c"></div> <span class="status-text svelte-5d5q0c"> </span>',1),wi=x('<aside class="sidebar svelte-5d5q0c"><div></div> <div class="widget clock-widget svelte-5d5q0c"><div class="time svelte-5d5q0c"> </div> <div class="date svelte-5d5q0c"> </div></div> <div class="widget weather-widget svelte-5d5q0c"><!></div> <div class="widget camera-widget svelte-5d5q0c"><div class="camera-placeholder svelte-5d5q0c"><iconify-icon></iconify-icon> <span class="svelte-5d5q0c"> </span></div></div> <div class="status-info svelte-5d5q0c"><div class="status-row svelte-5d5q0c"><!></div></div></aside>',2);function xi(e,n){ve(n,!0);const t=()=>B(Ft,"$t",c),o=()=>B(li,"$timeString",c),i=()=>B(Nn,"$weatherStore",c),r=()=>B(Rn,"$weatherSettings",c),s=()=>B(Tn,"$haStore",c),[c,a]=Re();let l=Oe(280),d=Oe(!1);Ot(()=>{Qn(),zn();const g=Un.subscribe(w=>D(l,w,!0));return()=>{g(),Fn()}});function u(g){g.preventDefault(),D(d,!0),window.addEventListener("mousemove",h),window.addEventListener("mouseup",I),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}function h(g){if(!R(d))return;let w=g.clientX;document.dir==="rtl"&&(w=window.innerWidth-g.clientX),w<240&&(w=240),w>480&&(w=480),D(l,w,!0)}function I(){R(d)&&(D(d,!1),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",I),document.body.style.cursor="",document.body.style.userSelect="",Vn(R(l)))}function y(g){return g===void 0?"var(--text-muted)":g<50?"var(--accent-success)":g<150?"var(--accent-warning)":"var(--accent-error)"}function S(g){return g.toLocaleDateString(t()("currentLang")||"en",{weekday:"short"})}var L=wi(),z=v(L);let C;z.__mousedown=u;var _=m(z,2),H=v(_),V=v(H,!0);f(H);var p=m(H,2),A=v(p,!0);f(p),f(_);var G=m(_,2),Y=v(G);{var Q=g=>{var w=di();b(g,w)},Te=g=>{var w=se(),$=U(w);{var ie=P=>{var T=ui(),q=v(T);k(q,"icon","mdi:cloud-off-outline"),k(q,"width","24"),W(q,1,"svelte-5d5q0c"),f(T),b(P,T)},K=P=>{var T=se(),q=U(T);{var J=de=>{var ue=pi(),oe=U(ue),re=v(oe),fe=v(re);M(()=>k(fe,"icon",i().current.icon)),k(fe,"width","48"),W(fe,1,"svelte-5d5q0c"),f(re);var ge=m(re,2),me=v(ge),He=v(me);f(me);var ht=m(me,2),dn=v(ht,!0);f(ht),f(ge),f(oe);var un=m(oe,2);{var fn=Qe=>{var Ee=hi();let pt;Nt(Ee,5,()=>i().current.forecast,qn,(vn,Pe)=>{var Ue=vi(),Ve=v(Ue),hn=v(Ve,!0);f(Ve);var Ge=m(Ve,2),We=v(Ge);M(()=>k(We,"icon",R(Pe).icon)),k(We,"width","20"),W(We,1,"svelte-5d5q0c"),f(Ge);var gt=m(Ge,2),Ke=v(gt),pn=v(Ke);f(Ke);var gn=m(Ke,2);{var mn=be=>{var Je=fi(),bn=v(Je);f(Je),M(()=>j(bn,`${R(Pe).minTemp??""}째`)),b(be,Je)};O(gn,be=>{r().forecastLayout==="vertical"&&be(mn)})}f(gt),f(Ue),M(be=>{j(hn,be),j(pn,`${R(Pe).maxTemp??""}째`)},[()=>S(R(Pe).date)]),b(vn,Ue)}),f(Ee),M(()=>pt=W(Ee,1,"forecast-list svelte-5d5q0c",null,pt,{horizontal:r().forecastLayout==="horizontal"})),b(Qe,Ee)};O(un,Qe=>{r().showForecast&&i().current.forecast.length>0&&Qe(fn)})}M(()=>{j(He,`${i().current.temperature??""}째`),j(dn,i().current.condition)}),b(de,ue)},X=de=>{var ue=gi(),oe=v(ue),re=v(oe);k(re,"icon","mdi:weather-partly-cloudy"),k(re,"width","48"),W(re,1,"svelte-5d5q0c"),f(oe);var fe=m(oe,2),ge=m(v(fe),2),me=v(ge,!0);f(ge),f(fe),f(ue),M(He=>j(me,He),[()=>t()("sidebar.offline")]),b(de,ue)};O(q,de=>{i().current?de(J):de(X,!1)},!0)}b(P,T)};O($,P=>{i().error?P(ie):P(K,!1)},!0)}b(g,w)};O(Y,g=>{i().isLoading&&!i().current?g(Q):g(Te,!1)})}f(G);var Z=m(G,2),pe=v(Z),ae=v(pe);k(ae,"icon","mdi:cctv"),k(ae,"width","32"),W(ae,1,"svelte-5d5q0c");var qe=m(ae,2),E=v(qe,!0);f(qe),f(pe),f(Z);var F=m(Z,2),N=v(F),ne=v(N);{var le=g=>{var w=bi(),$=m(U(w),2),ie=v($,!0);f($);var K=m($,2);{var P=T=>{var q=mi(),J=v(q);f(q),M(X=>{xe(q,`color: ${X??""}`),j(J,`(${s().latency??""}ms)`)},[()=>y(s().latency)]),b(T,q)};O(K,T=>{s().latency!==void 0&&T(P)})}M(T=>j(ie,T),[()=>t()("sidebar.connected")]),b(g,w)},ee=g=>{var w=se(),$=U(w);{var ie=P=>{var T=yi(),q=m(U(T),2),J=v(q,!0);f(q),M(X=>j(J,X),[()=>t()("sidebar.connecting")]),b(P,T)},K=P=>{var T=_i(),q=m(U(T),2),J=v(q,!0);f(q),M(X=>j(J,X),[()=>t()("sidebar.offline")]),b(P,T)};O($,P=>{s().isLoading?P(ie):P(K,!1)},!0)}b(g,w)};O(ne,g=>{s().isConnected?g(le):g(ee,!1)})}f(N),f(F),f(L),M((g,w)=>{xe(L,`width: ${R(l)??""}px`),C=W(z,1,"resize-handle svelte-5d5q0c",null,C,{active:R(d)}),j(V,o()),j(A,g),j(E,w)},[()=>new Date().toLocaleDateString(t()("currentLang")||"en",{weekday:"long",month:"short",day:"numeric"}),()=>t()("sidebar.camera")]),b(e,L),he(),a()}jt(["mousedown"]);const Ii=()=>{const e=Xn;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},Si={subscribe(e){return Ii().page.subscribe(e)}};/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const Dt=Object.freeze({left:0,top:0,width:16,height:16}),ze=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ce=Object.freeze({...Dt,...ze}),tt=Object.freeze({...Ce,body:"",hidden:!1}),ki=Object.freeze({width:null,height:null}),Bt=Object.freeze({...ki,...ze});function Ci(e,n=0){const t=e.replace(/^-?[0-9.]*/,"");function o(i){for(;i<0;)i+=4;return i%4}if(t===""){const i=parseInt(e);return isNaN(i)?0:o(i)}else if(t!==e){let i=0;switch(t){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(e.slice(0,e.length-t.length));return isNaN(r)?0:(r=r/i,r%1===0?o(r):0)}}return n}const Ai=/[\s,]+/;function Ti(e,n){n.split(Ai).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const Ht={...Bt,preserveAspectRatio:""};function bt(e){const n={...Ht},t=(o,i)=>e.getAttribute(o)||i;return n.width=t("width",null),n.height=t("height",null),n.rotate=Ci(t("rotate","")),Ti(n,t("flip","")),n.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),n}function qi(e,n){for(const t in Ht)if(e[t]!==n[t])return!0;return!1}const _e=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ae=(e,n,t,o="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;o=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),a=i.pop(),l={provider:i.length>0?i[0]:o,prefix:a,name:c};return n&&!$e(l)?null:l}const r=i[0],s=r.split("-");if(s.length>1){const c={provider:o,prefix:s.shift(),name:s.join("-")};return n&&!$e(c)?null:c}if(t&&o===""){const c={provider:o,prefix:"",name:r};return n&&!$e(c,t)?null:c}return null},$e=(e,n)=>e?!!((e.provider===""||e.provider.match(_e))&&(n&&e.prefix===""||e.prefix.match(_e))&&e.name.match(_e)):!1;function Ei(e,n){const t={};!e.hFlip!=!n.hFlip&&(t.hFlip=!0),!e.vFlip!=!n.vFlip&&(t.vFlip=!0);const o=((e.rotate||0)+(n.rotate||0))%4;return o&&(t.rotate=o),t}function yt(e,n){const t=Ei(e,n);for(const o in tt)o in ze?o in e&&!(o in t)&&(t[o]=ze[o]):o in n?t[o]=n[o]:o in e&&(t[o]=e[o]);return t}function Pi(e,n){const t=e.icons,o=e.aliases||Object.create(null),i=Object.create(null);function r(s){if(t[s])return i[s]=[];if(!(s in i)){i[s]=null;const c=o[s]&&o[s].parent,a=c&&r(c);a&&(i[s]=[c].concat(a))}return i[s]}return Object.keys(t).concat(Object.keys(o)).forEach(r),i}function Mi(e,n,t){const o=e.icons,i=e.aliases||Object.create(null);let r={};function s(c){r=yt(o[c]||i[c],r)}return s(n),t.forEach(s),yt(e,r)}function Qt(e,n){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(i=>{n(i,null),t.push(i)});const o=Pi(e);for(const i in o){const r=o[i];r&&(n(i,Mi(e,i,r)),t.push(i))}return t}const Li={provider:"",aliases:{},not_found:{},...Dt};function Xe(e,n){for(const t in n)if(t in e&&typeof e[t]!=typeof n[t])return!1;return!0}function Ut(e){if(typeof e!="object"||e===null)return null;const n=e;if(typeof n.prefix!="string"||!e.icons||typeof e.icons!="object"||!Xe(e,Li))return null;const t=n.icons;for(const i in t){const r=t[i];if(!i.match(_e)||typeof r.body!="string"||!Xe(r,tt))return null}const o=n.aliases||Object.create(null);for(const i in o){const r=o[i],s=r.parent;if(!i.match(_e)||typeof s!="string"||!t[s]&&!o[s]||!Xe(r,tt))return null}return n}const Fe=Object.create(null);function $i(e,n){return{provider:e,prefix:n,icons:Object.create(null),missing:new Set}}function te(e,n){const t=Fe[e]||(Fe[e]=Object.create(null));return t[n]||(t[n]=$i(e,n))}function lt(e,n){return Ut(n)?Qt(n,(t,o)=>{o?e.icons[t]=o:e.missing.add(t)}):[]}function ji(e,n,t){try{if(typeof t.body=="string")return e.icons[n]={...t},!0}catch{}return!1}function Oi(e,n){let t=[];return(typeof e=="string"?[e]:Object.keys(Fe)).forEach(i=>{(typeof i=="string"&&typeof n=="string"?[n]:Object.keys(Fe[i]||{})).forEach(s=>{const c=te(i,s);t=t.concat(Object.keys(c.icons).map(a=>(i!==""?"@"+i+":":"")+s+":"+a))})}),t}let Ie=!1;function Vt(e){return typeof e=="boolean"&&(Ie=e),Ie}function Se(e){const n=typeof e=="string"?Ae(e,!0,Ie):e;if(n){const t=te(n.provider,n.prefix),o=n.name;return t.icons[o]||(t.missing.has(o)?null:void 0)}}function Gt(e,n){const t=Ae(e,!0,Ie);if(!t)return!1;const o=te(t.provider,t.prefix);return ji(o,t.name,n)}function _t(e,n){if(typeof e!="object")return!1;if(typeof n!="string"&&(n=e.provider||""),Ie&&!n&&!e.prefix){let i=!1;return Ut(e)&&(e.prefix="",Qt(e,(r,s)=>{s&&Gt(r,s)&&(i=!0)})),i}const t=e.prefix;if(!$e({provider:n,prefix:t,name:"a"}))return!1;const o=te(n,t);return!!lt(o,e)}function zi(e){return!!Se(e)}function Fi(e){const n=Se(e);return n?{...Ce,...n}:null}function Ni(e){const n={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return e.forEach(i=>{if(o.name===i.name&&o.prefix===i.prefix&&o.provider===i.provider)return;o=i;const r=i.provider,s=i.prefix,c=i.name,a=t[r]||(t[r]=Object.create(null)),l=a[s]||(a[s]=te(r,s));let d;c in l.icons?d=n.loaded:s===""||l.missing.has(c)?d=n.missing:d=n.pending;const u={provider:r,prefix:s,name:c};d.push(u)}),n}function Wt(e,n){e.forEach(t=>{const o=t.loaderCallbacks;o&&(t.loaderCallbacks=o.filter(i=>i.id!==n))})}function Ri(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const n=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!n.length)return;let t=!1;const o=e.provider,i=e.prefix;n.forEach(r=>{const s=r.icons,c=s.pending.length;s.pending=s.pending.filter(a=>{if(a.prefix!==i)return!0;const l=a.name;if(e.icons[l])s.loaded.push({provider:o,prefix:i,name:l});else if(e.missing.has(l))s.missing.push({provider:o,prefix:i,name:l});else return t=!0,!0;return!1}),s.pending.length!==c&&(t||Wt([e],r.id),r.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),r.abort))})}))}let Di=0;function Bi(e,n,t){const o=Di++,i=Wt.bind(null,t,o);if(!n.pending.length)return i;const r={id:o,icons:n,callback:e,abort:i};return t.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(r)}),i}const nt=Object.create(null);function wt(e,n){nt[e]=n}function it(e){return nt[e]||nt[""]}function Hi(e,n=!0,t=!1){const o=[];return e.forEach(i=>{const r=typeof i=="string"?Ae(i,n,t):i;r&&o.push(r)}),o}var Qi={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ui(e,n,t,o){const i=e.resources.length,r=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let p=e.resources.slice(0);for(s=[];p.length>1;){const A=Math.floor(Math.random()*p.length);s.push(p[A]),p=p.slice(0,A).concat(p.slice(A+1))}s=s.concat(p)}else s=e.resources.slice(r).concat(e.resources.slice(0,r));const c=Date.now();let a="pending",l=0,d,u=null,h=[],I=[];typeof o=="function"&&I.push(o);function y(){u&&(clearTimeout(u),u=null)}function S(){a==="pending"&&(a="aborted"),y(),h.forEach(p=>{p.status==="pending"&&(p.status="aborted")}),h=[]}function L(p,A){A&&(I=[]),typeof p=="function"&&I.push(p)}function z(){return{startTime:c,payload:n,status:a,queriesSent:l,queriesPending:h.length,subscribe:L,abort:S}}function C(){a="failed",I.forEach(p=>{p(void 0,d)})}function _(){h.forEach(p=>{p.status==="pending"&&(p.status="aborted")}),h=[]}function H(p,A,G){const Y=A!=="success";switch(h=h.filter(Q=>Q!==p),a){case"pending":break;case"failed":if(Y||!e.dataAfterTimeout)return;break;default:return}if(A==="abort"){d=G,C();return}if(Y){d=G,h.length||(s.length?V():C());return}if(y(),_(),!e.random){const Q=e.resources.indexOf(p.resource);Q!==-1&&Q!==e.index&&(e.index=Q)}a="completed",I.forEach(Q=>{Q(G)})}function V(){if(a!=="pending")return;y();const p=s.shift();if(p===void 0){if(h.length){u=setTimeout(()=>{y(),a==="pending"&&(_(),C())},e.timeout);return}C();return}const A={status:"pending",resource:p,callback:(G,Y)=>{H(A,G,Y)}};h.push(A),l++,u=setTimeout(V,e.rotate),t(p,n,A.callback)}return setTimeout(V),z}function Kt(e){const n={...Qi,...e};let t=[];function o(){t=t.filter(c=>c().status==="pending")}function i(c,a,l){const d=Ui(n,c,a,(u,h)=>{o(),l&&l(u,h)});return t.push(d),d}function r(c){return t.find(a=>c(a))||null}return{query:i,find:r,setIndex:c=>{n.index=c},getIndex:()=>n.index,cleanup:o}}function dt(e){let n;if(typeof e.resources=="string")n=[e.resources];else if(n=e.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const De=Object.create(null),ye=["https://api.simplesvg.com","https://api.unisvg.com"],je=[];for(;ye.length>0;)ye.length===1||Math.random()>.5?je.push(ye.shift()):je.push(ye.pop());De[""]=dt({resources:["https://api.iconify.design"].concat(je)});function xt(e,n){const t=dt(n);return t===null?!1:(De[e]=t,!0)}function Be(e){return De[e]}function Vi(){return Object.keys(De)}function It(){}const Ye=Object.create(null);function Gi(e){if(!Ye[e]){const n=Be(e);if(!n)return;const t=Kt(n),o={config:n,redundancy:t};Ye[e]=o}return Ye[e]}function Jt(e,n,t){let o,i;if(typeof e=="string"){const r=it(e);if(!r)return t(void 0,424),It;i=r.send;const s=Gi(e);s&&(o=s.redundancy)}else{const r=dt(e);if(r){o=Kt(r);const s=e.resources?e.resources[0]:"",c=it(s);c&&(i=c.send)}}return!o||!i?(t(void 0,424),It):o.query(n,i,t)().abort}const St="iconify2",ke="iconify",Xt=ke+"-count",kt=ke+"-version",Yt=36e5,Wi=168;function ot(e,n){try{return e.getItem(n)}catch{}}function ut(e,n,t){try{return e.setItem(n,t),!0}catch{}}function Ct(e,n){try{e.removeItem(n)}catch{}}function rt(e,n){return ut(e,Xt,n.toString())}function st(e){return parseInt(ot(e,Xt))||0}const ce={local:!0,session:!0},Zt={local:new Set,session:new Set};let ft=!1;function Ki(e){ft=e}let Le=typeof window>"u"?{}:window;function en(e){const n=e+"Storage";try{if(Le&&Le[n]&&typeof Le[n].length=="number")return Le[n]}catch{}ce[e]=!1}function tn(e,n){const t=en(e);if(!t)return;const o=ot(t,kt);if(o!==St){if(o){const c=st(t);for(let a=0;a<c;a++)Ct(t,ke+a.toString())}ut(t,kt,St),rt(t,0);return}const i=Math.floor(Date.now()/Yt)-Wi,r=c=>{const a=ke+c.toString(),l=ot(t,a);if(typeof l=="string"){try{const d=JSON.parse(l);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>i&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&n(d,c))return!0}catch{}Ct(t,a)}};let s=st(t);for(let c=s-1;c>=0;c--)r(c)||(c===s-1?(s--,rt(t,s)):Zt[e].add(c))}function nn(){if(!ft){Ki(!0);for(const e in ce)tn(e,n=>{const t=n.data,o=n.provider,i=t.prefix,r=te(o,i);if(!lt(r,t).length)return!1;const s=t.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,s):s,!0})}}function Ji(e,n){const t=e.lastModifiedCached;if(t&&t>=n)return t===n;if(e.lastModifiedCached=n,t)for(const o in ce)tn(o,i=>{const r=i.data;return i.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===n});return!0}function Xi(e,n){ft||nn();function t(o){let i;if(!ce[o]||!(i=en(o)))return;const r=Zt[o];let s;if(r.size)r.delete(s=Array.from(r).shift());else if(s=st(i),!rt(i,s+1))return;const c={cached:Math.floor(Date.now()/Yt),provider:e.provider,data:n};return ut(i,ke+s.toString(),JSON.stringify(c))}n.lastModified&&!Ji(e,n.lastModified)||Object.keys(n.icons).length&&(n.not_found&&(n=Object.assign({},n),delete n.not_found),t("local")||t("session"))}function At(){}function Yi(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Ri(e)}))}function Zi(e,n){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:o}=e,i=e.iconsToLoad;delete e.iconsToLoad;let r;if(!i||!(r=it(t)))return;r.prepare(t,o,i).forEach(c=>{Jt(t,c,a=>{if(typeof a!="object")c.icons.forEach(l=>{e.missing.add(l)});else try{const l=lt(e,a);if(!l.length)return;const d=e.pendingIcons;d&&l.forEach(u=>{d.delete(u)}),Xi(e,a)}catch(l){console.error(l)}Yi(e)})})}))}const vt=(e,n)=>{const t=Hi(e,!0,Vt()),o=Ni(t);if(!o.pending.length){let a=!0;return n&&setTimeout(()=>{a&&n(o.loaded,o.missing,o.pending,At)}),()=>{a=!1}}const i=Object.create(null),r=[];let s,c;return o.pending.forEach(a=>{const{provider:l,prefix:d}=a;if(d===c&&l===s)return;s=l,c=d,r.push(te(l,d));const u=i[l]||(i[l]=Object.create(null));u[d]||(u[d]=[])}),o.pending.forEach(a=>{const{provider:l,prefix:d,name:u}=a,h=te(l,d),I=h.pendingIcons||(h.pendingIcons=new Set);I.has(u)||(I.add(u),i[l][d].push(u))}),r.forEach(a=>{const{provider:l,prefix:d}=a;i[l][d].length&&Zi(a,i[l][d])}),n?Bi(n,o,r):At},eo=e=>new Promise((n,t)=>{const o=typeof e=="string"?Ae(e,!0):e;if(!o){t(e);return}vt([o||e],i=>{if(i.length&&o){const r=Se(o);if(r){n({...Ce,...r});return}}t(e)})});function to(e){try{const n=typeof e=="string"?JSON.parse(e):e;if(typeof n.body=="string")return{...n}}catch{}}function no(e,n){const t=typeof e=="string"?Ae(e,!0,!0):null;if(!t){const r=to(e);return{value:e,data:r}}const o=Se(t);if(o!==void 0||!t.prefix)return{value:e,name:t,data:o};const i=vt([t],()=>n(e,t,Se(t)));return{value:e,name:t,loading:i}}function Ze(e){return e.hasAttribute("inline")}let on=!1;try{on=navigator.vendor.indexOf("Apple")===0}catch{}function io(e,n){switch(n){case"svg":case"bg":case"mask":return n}return n!=="style"&&(on||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const oo=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ro=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ct(e,n,t){if(n===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*n*t)/t;if(typeof e!="string")return e;const o=e.split(oo);if(o===null||!o.length)return e;const i=[];let r=o.shift(),s=ro.test(r);for(;;){if(s){const c=parseFloat(r);isNaN(c)?i.push(r):i.push(Math.ceil(c*n*t)/t)}else i.push(r);if(r=o.shift(),r===void 0)return i.join("");s=!s}}const so=e=>e==="unset"||e==="undefined"||e==="none";function rn(e,n){const t={...Ce,...e},o={...Bt,...n},i={left:t.left,top:t.top,width:t.width,height:t.height};let r=t.body;[t,o].forEach(y=>{const S=[],L=y.hFlip,z=y.vFlip;let C=y.rotate;L?z?C+=2:(S.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),S.push("scale(-1 1)"),i.top=i.left=0):z&&(S.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),S.push("scale(1 -1)"),i.top=i.left=0);let _;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:_=i.height/2+i.top,S.unshift("rotate(90 "+_.toString()+" "+_.toString()+")");break;case 2:S.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:_=i.width/2+i.left,S.unshift("rotate(-90 "+_.toString()+" "+_.toString()+")");break}C%2===1&&(i.left!==i.top&&(_=i.left,i.left=i.top,i.top=_),i.width!==i.height&&(_=i.width,i.width=i.height,i.height=_)),S.length&&(r='<g transform="'+S.join(" ")+'">'+r+"</g>")});const s=o.width,c=o.height,a=i.width,l=i.height;let d,u;s===null?(u=c===null?"1em":c==="auto"?l:c,d=ct(u,a/l)):(d=s==="auto"?a:s,u=c===null?ct(d,l/a):c==="auto"?l:c);const h={},I=(y,S)=>{so(S)||(h[y]=S.toString())};return I("width",d),I("height",u),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+a.toString()+" "+l.toString(),{attributes:h,body:r}}const co=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Ne=co();function ao(e){Ne=e}function lo(){return Ne}function uo(e,n){const t=Be(e);if(!t)return 0;let o;if(!t.maxURL)o=0;else{let i=0;t.resources.forEach(s=>{i=Math.max(i,s.length)});const r=n+".json?icons=";o=t.maxURL-i-t.path.length-r.length}return o}function fo(e){return e===404}const vo=(e,n,t)=>{const o=[],i=uo(e,n),r="icons";let s={type:r,provider:e,prefix:n,icons:[]},c=0;return t.forEach((a,l)=>{c+=a.length+1,c>=i&&l>0&&(o.push(s),s={type:r,provider:e,prefix:n,icons:[]},c=a.length),s.icons.push(a)}),o.push(s),o};function ho(e){if(typeof e=="string"){const n=Be(e);if(n)return n.path}return"/"}const po=(e,n,t)=>{if(!Ne){t("abort",424);return}let o=ho(n.provider);switch(n.type){case"icons":{const r=n.prefix,c=n.icons.join(","),a=new URLSearchParams({icons:c});o+=r+".json?"+a.toString();break}case"custom":{const r=n.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:t("abort",400);return}let i=503;Ne(e+o).then(r=>{const s=r.status;if(s!==200){setTimeout(()=>{t(fo(s)?"abort":"next",s)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?t("abort",r):t("next",i)});return}setTimeout(()=>{t("success",r)})}).catch(()=>{t("next",i)})},go={prepare:vo,send:po};function Tt(e,n){switch(e){case"local":case"session":ce[e]=n;break;case"all":for(const t in ce)ce[t]=n;break}}const et="data-style";let sn="";function mo(e){sn=e}function qt(e,n){let t=Array.from(e.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(et));t||(t=document.createElement("style"),t.setAttribute(et,et),e.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(n?"-0.125em":"0")+"}span,svg{display:block}"+sn}function cn(){wt("",go),Vt(!0);let e;try{e=window}catch{}if(e){if(nn(),e.IconifyPreload!==void 0){const t=e.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!_t(i))&&console.error(o)}catch{console.error(o)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(const o in t){const i="IconifyProviders["+o+"] is invalid.";try{const r=t[o];if(typeof r!="object"||!r||r.resources===void 0)continue;xt(o,r)||console.error(i)}catch{console.error(i)}}}}return{enableCache:t=>Tt(t,!0),disableCache:t=>Tt(t,!1),iconExists:zi,getIcon:Fi,listIcons:Oi,addIcon:Gt,addCollection:_t,calculateSize:ct,buildIcon:rn,loadIcons:vt,loadIcon:eo,addAPIProvider:xt,appendCustomStyle:mo,_api:{getAPIConfig:Be,setAPIModule:wt,sendAPIQuery:Jt,setFetch:ao,getFetch:lo,listAPIProviders:Vi}}}function an(e,n){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)t+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function bo(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function yo(e){return"data:image/svg+xml,"+bo(e)}function _o(e){return'url("'+yo(e)+'")'}const at={"background-color":"currentColor"},ln={"background-color":"transparent"},Et={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Pt={"-webkit-mask":at,mask:at,background:ln};for(const e in Pt){const n=Pt[e];for(const t in Et)n[e+"-"+t]=Et[t]}function Mt(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function wo(e,n,t){const o=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const r=e.attributes,s=an(i,{...r,width:n.width+"",height:n.height+""}),c=_o(s),a=o.style,l={"--svg":c,width:Mt(r.width),height:Mt(r.height),...t?at:ln};for(const d in l)a.setProperty(d,l[d]);return o}let we;function xo(){try{we=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{we=null}}function Io(e){return we===void 0&&xo(),we?we.createHTML(e):e}function So(e){const n=document.createElement("span"),t=e.attributes;let o="";t.width||(o="width: inherit;"),t.height||(o+="height: inherit;"),o&&(t.style=o);const i=an(e.body,t);return n.innerHTML=Io(i),n.firstChild}function Lt(e,n){const t=n.icon.data,o=n.customisations,i=rn(t,o);o.preserveAspectRatio&&(i.attributes.preserveAspectRatio=o.preserveAspectRatio);const r=n.renderedMode;let s;switch(r){case"svg":s=So(i);break;default:s=wo(i,{...Ce,...t},r==="mask")}const c=Array.from(e.childNodes).find(a=>{const l=a.tagName&&a.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});c?s.tagName==="SPAN"&&c.tagName===s.tagName?c.setAttribute("style",s.getAttribute("style")):e.replaceChild(s,c):e.appendChild(s)}function $t(e,n,t){const o=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:n,icon:e,lastRender:o}}function ko(e="iconify-icon"){let n,t;try{n=window.customElements,t=window.HTMLElement}catch{return}if(!n||!t)return;const o=n.get(e);if(o)return o;const i=["icon","mode","inline","width","height","rotate","flip"],r=class extends t{constructor(){super();Me(this,"_shadowRoot");Me(this,"_state");Me(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),l=Ze(this);qt(a,l),this._state=$t({value:""},l),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(a){if(a==="inline"){const l=Ze(this),d=this._state;l!==d.inline&&(d.inline=l,qt(this._shadowRoot,l))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return Ze(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const l=this._shadowRoot;if(a.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}Lt(l,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,l=this.getAttribute("icon");if(l!==a.icon.value){this._iconChanged(l);return}if(!a.rendered)return;const d=this.getAttribute("mode"),u=bt(this);(a.attrMode!==d||qi(a.customisations,u))&&this._renderIcon(a.icon,u,d)}_iconChanged(a){const l=no(a,(d,u,h)=>{const I=this._state;if(I.rendered||this.getAttribute("icon")!==d)return;const y={value:d,name:u,data:h};y.data?this._gotIconData(y):I.icon=y});l.data?this._gotIconData(l):this._state=$t(l,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,bt(this),this.getAttribute("mode"))}_renderIcon(a,l,d){const u=io(a.data.body,d),h=this._state.inline;Lt(this._shadowRoot,this._state={rendered:!0,icon:a,inline:h,customisations:l,attrMode:d,renderedMode:u})}};i.forEach(c=>{c in r.prototype||Object.defineProperty(r.prototype,c,{get:function(){return this.getAttribute(c)},set:function(a){a!==null?this.setAttribute(c,a):this.removeAttribute(c)}})});const s=cn();for(const c in s)r[c]=r.prototype[c]=s[c];return n.define(e,r),r}const Co=ko()||cn(),{enableCache:Wo,disableCache:Ko,iconExists:Jo,getIcon:Xo,listIcons:Yo,addIcon:Zo,addCollection:er,calculateSize:tr,buildIcon:nr,loadIcons:ir,loadIcon:or,addAPIProvider:rr,_api:sr}=Co;var Ao=x("<iconify-icon></iconify-icon>",2),To=x("<button> <!></button>"),qo=x('<button class="tab-btn add-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button>',2),Eo=x('<div class="dropdown-menu svelte-1ra6ezt"><a href="/settings" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> </a> <a href="/entities" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> </a> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Refresh Page</button> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item highlight svelte-1ra6ezt"><iconify-icon></iconify-icon> </button></div>',2),Po=x('<header class="dashboard-header svelte-1ra6ezt"><div class="header-left svelte-1ra6ezt"><button class="icon-btn mobile-only svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <div class="logo svelte-1ra6ezt"><iconify-icon></iconify-icon></div> <nav class="desktop-tabs svelte-1ra6ezt"><!> <!></nav></div> <div class="header-right svelte-1ra6ezt"><div class="menu-container svelte-1ra6ezt"><button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <!></div></div></header>',2);function Mo(e,n){ve(n,!0);const t=()=>B(Si,"$page",c),o=()=>B(mt,"$tabs",c),i=()=>B(Gn,"$activeTabId",c),r=()=>B(Wn,"$isEditMode",c),s=()=>B(Ft,"$t",c),[c,a]=Re();let l=Oe(!1),d=Oe(!1);function u(){D(d,!1)}function h(E){Kn(E),D(l,!1),t().url.pathname!=="/"&&Yn("/")}function I(){window.location.reload()}function y(){D(l,!R(l)),D(d,!1)}function S(E){E.stopPropagation(),D(d,!R(d)),D(l,!1)}var L=Po();wn("click",kn,u);var z=v(L),C=v(z);C.__click=E=>{E.stopPropagation(),y()};var _=v(C);k(_,"icon","mdi:menu"),k(_,"width","24"),f(C);var H=m(C,2),V=v(H);k(V,"icon","mdi:home-assistant"),k(V,"width","24"),W(V,1,"logo-icon svelte-1ra6ezt"),f(H);var p=m(H,2),A=v(p);Nt(A,1,o,E=>E.id,(E,F)=>{var N=To();let ne;N.__click=()=>h(R(F).id);var le=v(N),ee=m(le);{var g=w=>{var $=Ao();k($,"icon","mdi:pencil"),k($,"width","14"),W($,1,"edit-icon"),b(w,$)};O(ee,w=>{r()&&w(g)})}f(N),M(()=>{ne=W(N,1,"tab-btn svelte-1ra6ezt",null,ne,{active:i()===R(F).id}),j(le,`${R(F).title??""} `)}),b(E,N)});var G=m(A,2);{var Y=E=>{var F=qo();F.__click=()=>mt.addTab();var N=v(F);k(N,"icon","mdi:plus"),k(N,"width","20"),f(F),b(E,F)};O(G,E=>{r()&&E(Y)})}f(p),f(z);var Q=m(z,2),Te=v(Q),Z=v(Te);Z.__click=S;var pe=v(Z);k(pe,"icon","mdi:dots-vertical"),k(pe,"width","24"),f(Z);var ae=m(Z,2);{var qe=E=>{var F=Eo();F.__click=q=>q.stopPropagation();var N=v(F);N.__click=()=>D(d,!1);var ne=v(N);k(ne,"icon","mdi:cog-outline");var le=m(ne);f(N);var ee=m(N,2);ee.__click=()=>D(d,!1);var g=v(ee);k(g,"icon","mdi:format-list-bulleted");var w=m(g);f(ee);var $=m(ee,4);$.__click=I;var ie=v($);k(ie,"icon","mdi:refresh"),Sn(),f($);var K=m($,4);K.__click=()=>{Jn(),D(d,!1)};var P=v(K);M(()=>k(P,"icon",r()?"mdi:check":"mdi:view-dashboard-edit-outline"));var T=m(P);f(K),f(F),M((q,J,X)=>{j(le,` ${q??""}`),j(w,` ${J??""}`),j(T,` ${X??""}`)},[()=>s()("settings.title"),()=>s()("entities.title"),()=>r()?s()("dashboard.done"):s()("dashboard.edit")]),b(E,F)};O(ae,E=>{R(d)&&E(qe)})}f(Te),f(Q),f(L),b(e,L),he(),a()}jt(["click"]);var Lo=x('<div class="loading-screen svelte-12qhfyh"></div>'),$o=x('<div class="layout-container svelte-12qhfyh"><!> <div class="main-content svelte-12qhfyh"><!> <main class="svelte-12qhfyh"><!></main></div></div>'),jo=x("<!> <!>",1);function cr(e,n){ve(n,!0);const t=()=>B(Mn,"$appState",i),o=()=>B(jn,"$isLoading",i),[i,r]=Re();Ot(async()=>{await Dn(),await Ln(),await $n(),await Bn.init()}),Cn(()=>{const u=t().activeServer;u!=null&&u.url&&(u!=null&&u.token)?En(u.url,u.token):Pn()});var s=jo(),c=U(s);ai(c,{});var a=m(c,2);{var l=u=>{var h=Lo();b(u,h)},d=u=>{var h=$o(),I=v(h);xi(I,{});var y=m(I,2),S=v(y);Mo(S,{});var L=m(S,2),z=v(L);An(z,()=>n.children),f(L),f(y),f(h),b(u,h)};O(a,u=>{o()?u(l):u(d,!1)})}b(e,s),he(),r()}export{cr as component};
