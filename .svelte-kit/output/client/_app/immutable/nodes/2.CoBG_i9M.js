import{a as x,f as G,c as $t}from"../chunks/CYiN1Ptg.js";import{i as he}from"../chunks/DJz4CdqN.js";import{F as jt,m as ft,a as t,A as U,C as s,n as gt,z as ut,al as j,B as o,Q as me,E as f,ak as q,b as Pt,t as St,s as h,u as pe,o as be,aV as ye,aC as Nt}from"../chunks/DrE23S9z.js";import{d as kt,s as T,e as Qt}from"../chunks/Dx6vUp0w.js";import{i as J,s as yt,a as B,b as we}from"../chunks/d16_jLoQ.js";import{e as Rt,s as Z,a as At,i as qt,h as xe,b as Ot,r as Jt,j as Kt,$ as Tt,k as Se,d as F}from"../chunks/DoxDpSa6.js";import{d as Ct,c as Lt,f as Ce,h as ee,g as Zt,j as $e,b as ke}from"../chunks/-3n6O5sP.js";import{D as Me}from"../chunks/DphtNWIa.js";import{e as m,a as Ie,b as Re,c as te}from"../chunks/Bx8OnE0S.js";const je=5;function Ge(u,e){const a=jt(m);if(!a.enabled)return;u.target.setPointerCapture(u.pointerId),m.selectCard(e);const c=a.drafts.get(e);c&&m.update(n=>({...n,pointerOp:{kind:"drag",cardId:e,startRect:{...c},startX:u.clientX,startY:u.clientY}}))}function De(u,e,a){const p=jt(m);if(!p.enabled)return;u.stopPropagation(),u.target.setPointerCapture(u.pointerId);const n=p.drafts.get(e);n&&m.update(r=>({...r,pointerOp:{kind:"resize",cardId:e,handle:a,startRect:{...n},startX:u.clientX,startY:u.clientY}}))}function Wt(u){const e=jt(m);if(!e.enabled||e.pointerOp.kind==="idle")return;const{pointerOp:a,gridMetrics:p}=e,c=p.halfUnitSizePx,n=u.clientX-a.startX,r=u.clientY-a.startY;if(a.kind==="drag"&&Math.sqrt(n*n+r*r)<je)return;const M=n/c*.5,S=r/c*.5;let k;a.kind==="drag"?k=Ie(a.startRect,M,S):a.kind==="resize"&&(k=Re(a.startRect,a.handle,M,S,{maxCols:p.cols,maxRows:p.rows})),k&&m.updateDraft(a.cardId,k)}function Yt(u){const e=jt(m);if(!e.enabled||e.pointerOp.kind==="idle")return;const{pointerOp:a,collision:p,drafts:c}=e;try{u.target.releasePointerCapture(u.pointerId)}catch{}if(p)m.updateDraft(a.cardId,a.startRect);else{const n=c.get(a.cardId);n&&(n.col!==a.startRect.col||n.row!==a.startRect.row||n.w!==a.startRect.w||n.h!==a.startRect.h)&&m.pushHistory(a.cardId,a.startRect,n)}m.update(n=>({...n,pointerOp:{kind:"idle"},collision:!1}))}function zt(u){const e=jt(m);e.pointerOp.kind!=="idle"&&(m.updateDraft(e.pointerOp.cardId,e.pointerOp.startRect),m.update(a=>({...a,pointerOp:{kind:"idle"},collision:!1})))}var Oe=G("<div></div>"),qe=G('<div class="handles-container svelte-1621fsa"></div>');function Te(u,e){ft(e,!0);const a=["n","s","e","w","ne","nw","se","sw"];var p=qe();Rt(p,21,()=>a,qt,(c,n)=>{var r=Oe();r.__pointerdown=M=>De(M,e.cardId,t(n)),U(()=>{Z(r,1,`handle ${t(n)??""}`,"svelte-1621fsa"),At(r,"data-handle",t(n))}),x(c,r)}),s(p),x(u,p),gt()}kt(["pointerdown"]);var He=G("<div><!></div>");function Xe(u,e){ft(e,!0);const a=()=>B(m,"$editorStore",p),[p,c]=yt();let n=j(()=>a().selectedCardId===e.cardId),r=j(()=>t(n)&&a().collision);var M=$t(),S=ut(M);{var k=C=>{var I=He();let z;var E=o(I);Te(E,{get cardId(){return e.cardId}}),s(I),U(()=>z=Z(I,1,"edit-overlay svelte-rjj0c3",null,z,{collision:t(r)})),x(C,I)};J(S,C=>{t(n)&&C(k)})}x(u,M),gt(),c()}var Ee=G('<div><div class="content-wrapper svelte-1qslh51"><!></div> <!></div>');function We(u,e){ft(e,!0);const a=()=>B(m,"$editorStore",p),[p,c]=yt();let n=j(()=>a().enabled&&!a().drafts.has(e.card.id)),r=j(()=>a().enabled&&a().drafts.has(e.card.id)?a().drafts.get(e.card.id):{col:e.card.position.x,row:e.card.position.y,w:e.card.position.w,h:e.card.position.h}),M=j(()=>{const l=Math.floor(t(r).col)+1,w=Math.floor(t(r).row)+1,R=Math.ceil(t(r).col+t(r).w)-Math.floor(t(r).col),$=Math.ceil(t(r).row+t(r).h)-Math.floor(t(r).row);let d=`grid-column: ${l} / span ${R}; grid-row: ${w} / span ${$};`;return t(r).w===.5?(d+=`width: calc(50% - ${8/2}px);`,t(r).col%1>.1?d+="justify-self: end;":d+="justify-self: start;"):d+="width: 100%;",t(r).h===.5?(d+=`height: calc(50% - ${8/2}px);`,t(r).row%1>.1?d+="align-self: end;":d+="align-self: start;"):d+="height: 100%;",d}),S=j(()=>a().selectedCardId===e.card.id),k=j(()=>t(S)&&a().pointerOp.kind==="drag");function C(b){e.oncontextmenu&&e.oncontextmenu(b,e.card.id)}var I=$t(),z=ut(I);{var E=b=>{var l=Ee();let w;l.__pointerdown=D=>Ge(D,e.card.id),l.__contextmenu=C;var R=o(l),$=o(R);xe($,()=>e.children??me),s(R);var d=f(R,2);Xe(d,{get cardId(){return e.card.id}}),s(l),U(()=>{w=Z(l,1,"grid-item svelte-1qslh51",null,w,{"edit-mode":a().enabled,dragging:t(k)}),Ot(l,t(M)),At(l,"data-card-id",e.card.id)}),x(b,l)};J(z,b=>{t(n)||b(E)})}x(u,I),gt(),c()}kt(["pointerdown","contextmenu"]);var Ye=G('<div class="grid-settings svelte-avt70v"><h3 class="svelte-avt70v"> </h3> <div class="control svelte-avt70v"><label for="cols" class="svelte-avt70v"> </label> <input id="cols" type="range" min="4" max="16" step="1" class="svelte-avt70v"/></div> <div class="control svelte-avt70v"><label for="rows" class="svelte-avt70v"> </label> <input id="rows" type="range" min="3" max="12" step="1" class="svelte-avt70v"/></div> <div class="hint svelte-avt70v"> </div></div>');function ze(u,e){ft(e,!0);const a=()=>B(Tt,"$t",p),[p,c]=yt();let n=q(Pt(e.cols)),r=q(Pt(e.rows));function M(){Ct.updateTabSettings(e.tabId,t(n),t(r))}St(()=>{h(n,e.cols,!0),h(r,e.rows,!0)});var S=Ye(),k=o(S),C=o(k,!0);s(k);var I=f(k,2),z=o(I),E=o(z);s(z);var b=f(z,2);Jt(b),b.__change=M,s(I);var l=f(I,2),w=o(l),R=o(w);s(w);var $=f(w,2);Jt($),$.__change=M,s(l);var d=f(l,2),D=o(d,!0);s(d),s(S),U((W,N,et,at)=>{T(C,W),T(E,`${N??""}: ${t(n)??""}`),T(R,`${et??""}: ${t(r)??""}`),T(D,at)},[()=>a()("dashboard.edit"),()=>a()("dashboard.grid.columns"),()=>a()("dashboard.grid.rows"),()=>a()("dashboard.grid.hint")]),Kt(b,()=>t(n),W=>h(n,W)),Kt($,()=>t(r),W=>h(r,W)),x(u,S),gt(),c()}kt(["change"]);var Pe=G("<option> </option>"),Le=G('<div class="card-settings-overlay svelte-uf8uct"><div class="card-settings-modal svelte-uf8uct"><h3 class="svelte-uf8uct"> </h3> <div class="field svelte-uf8uct"><label for="tpl-select" class="svelte-uf8uct"> </label> <select id="tpl-select" class="svelte-uf8uct"><option> </option><!></select> <p class="hint svelte-uf8uct"> </p></div> <div class="footer svelte-uf8uct"><button class="btn text svelte-uf8uct" type="button"> </button> <button class="btn primary svelte-uf8uct" type="button"> </button></div></div></div>');function Ae(u,e){ft(e,!0);const a=()=>B(Ct,"$dashboardStore",n),p=()=>B(m,"$editorStore",n),c=()=>B(Tt,"$t",n),[n,r]=yt();let M=j(()=>Object.values(a().templates||{})),S=q(Pt(pe(()=>e.card.templateId)));St(()=>{const H=p().templateOverrides.get(e.card.id);H!==void 0&&h(S,H,!0)});function k(){m.setCardTemplate(e.card.id,t(S)),e.onClose()}function C(H){H.target===H.currentTarget&&e.onClose()}var I=Le();I.__click=C;var z=o(I),E=o(z),b=o(E,!0);s(E);var l=f(E,2),w=o(l),R=o(w,!0);s(w);var $=f(w,2),d=o($),D=o(d,!0);s(d),d.value=(d.__value=void 0)??"";var W=f(d);Rt(W,17,()=>t(M),qt,(H,Q,it,xt)=>{var tt=Pe(),_t=o(tt,!0);s(tt);var nt={};U(()=>{T(_t,t(Q).name),nt!==(nt=t(Q).id)&&(tt.value=(tt.__value=t(Q).id)??"")}),x(H,tt)}),s($);var N=f($,2),et=o(N,!0);s(N),s(l);var at=f(l,2),K=o(at);K.__click=function(...H){var Q;(Q=e.onClose)==null||Q.apply(this,H)};var lt=o(K,!0);s(K);var ot=f(K,2);ot.__click=k;var wt=o(ot,!0);s(ot),s(at),s(z),s(I),U((H,Q,it,xt,tt,_t)=>{T(b,H),T(R,Q),T(D,it),T(et,xt),T(lt,tt),T(wt,_t)},[()=>c()("cardSettings.title"),()=>c()("cardSettings.template"),()=>c()("cardSettings.noTemplate"),()=>c()("cardSettings.manageHint"),()=>c()("common.cancel"),()=>c()("common.save")]),Se($,()=>t(S),H=>h(S,H)),x(u,I),gt(),r()}kt(["click"]);var Be=G('<div class="edit-toolbar svelte-14v96qe"><div class="group svelte-14v96qe"><button title="Grid Settings"><iconify-icon></iconify-icon></button></div> <div class="divider svelte-14v96qe"></div> <div class="group svelte-14v96qe"><button class="tool-btn svelte-14v96qe" title="Undo"><iconify-icon></iconify-icon></button> <button class="tool-btn svelte-14v96qe" title="Redo"><iconify-icon></iconify-icon></button></div> <div class="divider svelte-14v96qe"></div> <div class="group actions svelte-14v96qe"><button class="tool-btn cancel svelte-14v96qe"><iconify-icon></iconify-icon> <span class="btn-text svelte-14v96qe"> </span></button> <button class="tool-btn primary svelte-14v96qe"><iconify-icon></iconify-icon> <span class="btn-text svelte-14v96qe"> </span></button></div></div>',2);function Ve(u,e){ft(e,!0);const a=()=>B(m,"$editorStore",c),p=()=>B(Tt,"$t",c),[c,n]=yt();function r(){m.commit(),Lt.set(!1)}function M(){m.cancel(),Lt.set(!1)}function S(){m.undo()}function k(){m.redo()}function C(){m.toggleGridSettings()}let I=j(()=>te.canUndo()),z=j(()=>te.canRedo()),E=j(()=>a().showGridSettings);var b=Be(),l=o(b),w=o(l);let R;w.__click=C;var $=o(w);F($,"icon","mdi:grid"),Z($,1,"svelte-14v96qe"),s(w),s(l);var d=f(l,4),D=o(d);D.__click=S;var W=o(D);F(W,"icon","mdi:undo"),Z(W,1,"svelte-14v96qe"),s(D);var N=f(D,2);N.__click=k;var et=o(N);F(et,"icon","mdi:redo"),Z(et,1,"svelte-14v96qe"),s(N),s(d);var at=f(d,4),K=o(at);K.__click=M;var lt=o(K);F(lt,"icon","mdi:close"),Z(lt,1,"svelte-14v96qe");var ot=f(lt,2),wt=o(ot,!0);s(ot),s(K);var H=f(K,2);H.__click=r;var Q=o(H);F(Q,"icon","mdi:check"),Z(Q,1,"svelte-14v96qe");var it=f(Q,2),xt=o(it,!0);s(it),s(H),s(at),s(b),U((tt,_t)=>{R=Z(w,1,"tool-btn svelte-14v96qe",null,R,{active:t(E)}),D.disabled=!t(I),N.disabled=!t(z),T(wt,tt),T(xt,_t)},[()=>p()("common.cancel"),()=>p()("dashboard.done")]),x(u,b),gt(),n()}kt(["click"]);var Ue=G('<div class="cell svelte-1xu6imp"></div>'),Fe=G('<div class="grid-overlay svelte-1xu6imp"></div>');function Ne(u,e){let a=j(()=>e.cols*e.rows),p=j(()=>`
    --cols: ${e.cols};
    --rows: ${e.rows};
    --cell-w: ${e.cellW}px;
    --cell-h: ${e.cellH}px;
    --gap-x: ${e.gapX}px;
    --gap-y: ${e.gapY}px;
  `);var c=Fe();Rt(c,21,()=>({length:t(a)}),qt,(n,r)=>{var M=Ue();x(n,M)}),s(c),U(()=>Ot(c,t(p))),x(u,c)}var Qe=G('<div class="welcome-msg svelte-wf2j5s"><h1 class="svelte-wf2j5s">Welcome!</h1> <p class="svelte-wf2j5s">Your dashboard is ready.</p></div>'),Je=G("<p> </p>"),Ke=G('<div class="empty-state svelte-wf2j5s"><div class="empty-content svelte-wf2j5s"><!> <button class="btn primary svelte-wf2j5s"><iconify-icon></iconify-icon> </button></div></div>',2),Ze=G('<div role="region" aria-label="Dashboard Grid"><!> <!></div>'),ta=G('<!> <!> <button class="fab-add svelte-wf2j5s"><iconify-icon></iconify-icon></button>',3),ea=G('<button class="menu-item svelte-wf2j5s"><iconify-icon></iconify-icon> </button>',2),aa=G('<div class="context-menu svelte-wf2j5s" role="menu"><button class="menu-item svelte-wf2j5s"><iconify-icon></iconify-icon> </button> <div class="divider svelte-wf2j5s"></div> <button class="menu-item svelte-wf2j5s"><iconify-icon></iconify-icon> </button> <div class="submenu-label svelte-wf2j5s"> </div> <!> <div class="divider svelte-wf2j5s"></div> <button class="menu-item danger svelte-wf2j5s"><iconify-icon></iconify-icon> </button></div>',2),ia=G('<div class="dashboard-container svelte-wf2j5s"><!> <!></div> <!> <!>',1);function na(u,e){ft(e,!0);const a=()=>B($e,"$selectVisibleDashboardCards",C),p=()=>B(Ct,"$dashboardStore",C),c=()=>B(Ce,"$activeTabId",C),n=()=>B(Lt,"$isEditMode",C),r=()=>B(m,"$editorStore",C),M=()=>B(ee,"$haStore",C),S=()=>B(Tt,"$t",C),k=()=>B(ke,"$tabs",C),[C,I]=yt();let z=j(a),E=j(()=>p().tabs[c()]),b=j(()=>{var i;return((i=t(E))==null?void 0:i.gridColumns)??8}),l=j(()=>{var i;return((i=t(E))==null?void 0:i.gridRows)??6}),w=j(()=>{var i;if(n()&&r().enabled){const v=[];return r().drafts.forEach((g,y)=>{const O=r().cardEntities.get(y);if(O){const Y=r().templateOverrides.get(y),P=t(E).cards.find(X=>X.id===y),_=r().templateOverrides.has(y)?Y:P==null?void 0:P.templateId;v.push({id:y,entityId:O,position:{x:g.col,y:g.row,w:g.w,h:g.h},templateId:_})}}),v}else return((i=t(E))==null?void 0:i.cards)??[]}),R,$=q(0),d=q(0),D=q(0),W=q(10),N=q(10),et=q(0),at=q(0),K=q(0),lt=q(0),ot=q(0),wt=q(0),H=q(0);function Q(){if(!t($)||!t(d)||!t(b)||!t(l))return;const i=t($),v=t(d),g=t(b),y=t(l),O=10,Y=Math.max(0,i-2*O),P=Math.max(0,v-2*O);if(Y<=0||P<=0)return;const _=8,X=8,L=(Y-(g-1)*_)/g,V=(P-(y-1)*X)/y;let A=Math.floor(Math.min(L,V));A<1&&(A=1),t(D)===A&&Math.abs(t($)-i)<1,h(D,A,!0),h(et,A/2);const dt=g*A+(g-1)*_,ht=y*A+(y-1)*X,ct=Math.max(Y-dt,0),vt=Math.max(P-ht,0);let st=g>1?_+ct/(g-1):0,mt=y>1?X+vt/(y-1):0;g>1&&st<_&&(st=_),y>1&&mt<X&&(mt=X),h(W,st,!0),h(N,mt,!0);const Mt=g*A+(g-1)*t(W),pt=y*A+(y-1)*t(N);h(at,Mt),h(K,pt);let bt=Math.max((i-Mt)/2,0),It=Math.max((v-pt)/2,0),Et=Math.max(i-Mt-bt,0),_e=Math.max(v-pt-It,0);h(lt,Math.min(bt,O),!0),h(ot,Math.min(Et,O),!0),h(wt,Math.min(It,O),!0),h(H,Math.min(_e,O),!0)}St(()=>{t(b),t(l);const i=t($),v=t(d);i>0&&v>0&&Q()}),be(()=>{Ct.init(),Ct.ensureTabConfig(c());const i=new ResizeObserver(v=>{for(const g of v){const y=Math.round(g.contentRect.width),O=Math.round(g.contentRect.height);(Math.abs(y-t($))>=1||Math.abs(O-t(d))>=1)&&(h($,y,!0),h(d,O,!0))}});return R&&i.observe(R),()=>i.disconnect()});let it=j(()=>r().enabled);St(()=>{n()?(!t(it)||r().tabId!==c())&&(t(it)&&r().tabId&&m.commit(),m.initSession(c())):t(it)&&m.reset()}),St(()=>{t(it)&&t(et)>0&&m.setGridMetrics(t(et),t(b),t(l))}),St(()=>{!n()&&M().isConnected&&t(z).length>0&&Ct.syncEntitiesToGrid(c(),t(z))});function xt(i){return M().entities.get(i)}function tt(i){return i?p().templates[i]:void 0}let _t=j(()=>`
    --cols: ${t(b)};
    --rows: ${t(l)};
    --cell-size: ${t(D)}px;
    --gap-x: ${t(W)}px;
    --gap-y: ${t(N)}px;
    --grid-width: ${t(at)}px;
    --grid-height: ${t(K)}px;
    --margin-left: ${t(lt)}px;
    --margin-right: ${t(ot)}px;
    --margin-top: ${t(wt)}px;
    --margin-bottom: ${t(H)}px;
  `),nt=q(!1),Ht=q(0),Bt=q(0),rt=q(null),Xt=q(!1),Gt=q(null);function ae(i,v){if(!n())return;i.preventDefault(),i.stopPropagation();const g=200;i.clientX+g>window.innerWidth?h(Ht,i.clientX-g):h(Ht,i.clientX,!0),h(Bt,i.clientY,!0),h(rt,v,!0),h(nt,!0)}function ie(){h(nt,!1)}function ne(){t(rt)&&m.deleteCard(t(rt)),h(nt,!1)}function se(){t(rt)&&m.duplicateCard(t(rt)),h(nt,!1)}function oe(i){t(rt)&&m.moveCardToTab(t(rt)),h(nt,!1)}function re(){if(t(rt)){const i=t(w).find(v=>v.id===t(rt));i&&(h(Gt,i,!0),h(Xt,!0))}h(nt,!1)}var Vt=ia();Qt("click",ye,ie);var Dt=ut(Vt),Ut=o(Dt);{var ce=i=>{var v=Ke(),g=o(v),y=o(g);{var O=L=>{var V=Qe();x(L,V)},Y=L=>{var V=Je(),A=o(V,!0);s(V),U(dt=>T(A,dt),[()=>S()("dashboard.noDevices")]),x(L,V)};J(y,L=>{c()==="welcome"||t(E).title==="Welcome"?L(O):L(Y,!1)})}var P=f(y,2);P.__click=function(...L){var V;(V=Zt)==null||V.apply(this,L)};var _=o(P);F(_,"icon","mdi:plus");var X=f(_);s(P),s(g),s(v),U(L=>T(X,` ${L??""}`),[()=>S()("dashboard.addWidget")]),x(i,v)},le=i=>{var v=Ze();let g,y;v.__pointermove=function(..._){Wt==null||Wt.apply(this,_)},v.__pointerup=function(..._){Yt==null||Yt.apply(this,_)};var O=o(v);{var Y=_=>{Ne(_,{get cols(){return t(b)},get rows(){return t(l)},get cellW(){return t(D)},get cellH(){return t(D)},get gapX(){return t(W)},get gapY(){return t(N)}})};J(O,_=>{n()&&_(Y)})}var P=f(O,2);Rt(P,17,()=>t(w),_=>_.id,(_,X)=>{const L=j(()=>xt(t(X).entityId));var V=$t(),A=ut(V);{var dt=ht=>{We(ht,{get card(){return t(X)},oncontextmenu:ae,children:(ct,vt)=>{{let st=j(()=>tt(t(X).templateId));Me(ct,{get entity(){return t(L)},get template(){return t(st)}})}},$$slots:{default:!0}})};J(A,ht=>{t(L)&&ht(dt)})}x(_,V)}),s(v),U(()=>{g=Z(v,1,"grid-layout svelte-wf2j5s",null,g,{"edit-mode":n()}),y=Ot(v,t(_t),y,{"touch-action":n()?"none":"auto"})}),Qt("pointercancel",v,function(..._){zt==null||zt.apply(this,_)}),x(i,v)};J(Ut,i=>{t(w).length===0?i(ce):i(le,!1)})}var de=f(Ut,2);{var ve=i=>{var v=ta(),g=ut(v);Ve(g,{});var y=f(g,2);{var O=_=>{ze(_,{get tabId(){return c()},get cols(){return t(b)},get rows(){return t(l)}})};J(y,_=>{r().showGridSettings&&_(O)})}var Y=f(y,2);Y.__click=function(..._){var X;(X=Zt)==null||X.apply(this,_)};var P=o(Y);F(P,"icon","mdi:plus"),s(Y),U(_=>At(Y,"title",_),[()=>S()("dashboard.addWidget")]),x(i,v)};J(de,i=>{n()&&i(ve)})}s(Dt),we(Dt,i=>R=i,()=>R);var Ft=f(Dt,2);{var ue=i=>{var v=aa();v.__click=ct=>ct.stopPropagation();var g=o(v);g.__click=re;var y=o(g);F(y,"icon","mdi:palette-swatch-outline");var O=f(y);s(g);var Y=f(g,4);Y.__click=se;var P=o(Y);F(P,"icon","mdi:content-copy");var _=f(P);s(Y);var X=f(Y,2),L=o(X,!0);s(X);var V=f(X,2);Rt(V,1,k,qt,(ct,vt)=>{var st=$t(),mt=ut(st);{var Mt=pt=>{var bt=ea();bt.__click=()=>oe(t(vt).id);var It=o(bt);F(It,"icon","mdi:arrow-right");var Et=f(It);s(bt),U(()=>T(Et,` ${t(vt).title??""}`)),x(pt,bt)};J(mt,pt=>{t(vt).id!==c()&&pt(Mt)})}x(ct,st)});var A=f(V,4);A.__click=ne;var dt=o(A);F(dt,"icon","mdi:delete");var ht=f(dt);s(A),s(v),U((ct,vt,st,mt)=>{Ot(v,`top: ${t(Bt)??""}px; left: ${t(Ht)??""}px`),T(O,` ${ct??""}`),T(_,` ${vt??""}`),T(L,st),T(ht,` ${mt??""}`)},[()=>S()("dashboard.menu.appearance"),()=>S()("dashboard.menu.duplicateCard"),()=>S()("dashboard.menu.moveCard"),()=>S()("dashboard.menu.deleteCard")]),x(i,v)};J(Ft,i=>{t(nt)&&i(ue)})}var fe=f(Ft,2);{var ge=i=>{Ae(i,{get tabId(){return c()},get card(){return t(Gt)},onClose:()=>{h(Xt,!1),h(Gt,null)}})};J(fe,i=>{t(Xt)&&t(Gt)&&i(ge)})}x(u,Vt),gt(),I()}kt(["click","pointermove","pointerup"]);var sa=G('<div class="status-message svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Connecting to Home Assistant...</p></div>'),oa=G('<div class="status-message error svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Connection Error</h3> <p class="svelte-1uha8ag"> </p> <a href="/settings" class="btn svelte-1uha8ag">Check Settings</a></div>',2),ra=G('<div class="status-message warning svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Not Connected</h3> <p class="svelte-1uha8ag">Please configure your server connection in Settings.</p> <a href="/settings" class="btn svelte-1uha8ag">Go to Settings</a></div>',2),ca=G('<div class="dashboard-page svelte-1uha8ag"><!></div>');function pa(u,e){ft(e,!1);const a=()=>B(ee,"$haStore",p),[p,c]=yt();he();var n=ca(),r=o(n);{var M=k=>{var C=sa();x(k,C)},S=k=>{var C=$t(),I=ut(C);{var z=b=>{var l=oa(),w=o(l);F(w,"icon","mdi:alert-circle"),F(w,"width","48"),Z(w,1,"svelte-1uha8ag");var R=f(w,4),$=o(R,!0);s(R),Nt(2),s(l),U(()=>T($,a().error)),x(b,l)},E=b=>{var l=$t(),w=ut(l);{var R=d=>{var D=ra(),W=o(D);F(W,"icon","mdi:lan-disconnect"),F(W,"width","48"),Z(W,1,"svelte-1uha8ag"),Nt(6),s(D),x(d,D)},$=d=>{na(d,{})};J(w,d=>{a().isConnected?d($,!1):d(R)},!0)}x(b,l)};J(I,b=>{a().error?b(z):b(E,!1)},!0)}x(k,C)};J(r,k=>{a().isLoading?k(M):k(S,!1)})}s(n),x(u,n),gt(),c()}export{pa as component};
