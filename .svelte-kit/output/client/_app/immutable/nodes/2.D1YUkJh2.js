import{d as hr,f as Z,s as ve,a as G,e as Mt,t as pr,c as Pt}from"../chunks/BB0mxiVI.js";import{i as yr}from"../chunks/BkOfiBb2.js";import{Q as Dr,u as Er,U as br,t as Tr,aF as _r,z as Tt,B as N,C as ge,a as A,aD as Ae,G as x,A as ye,F as Be,E as _t,s as ie,c as wr,m as Or,ax as ut,H as ct}from"../chunks/ckSiSke7.js";import{i as se,s as He,a as Vt}from"../chunks/DVoR1FOb.js";import{b as me,a as st,e as Ar}from"../chunks/DvsBgBqP.js";import{b as ft,l as Ir,c as Sr}from"../chunks/g01pLsAg.js";import{t as xr,e as Cr,h as Rr}from"../chunks/Bo0WoD40.js";import{a as Nr}from"../chunks/DGCjLhpl.js";import{e as Kt}from"../chunks/CZ606ANP.js";function Lr(e,t,r){Dr(()=>{var n=Er(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var a=!1,i={};br(()=>{var d=r();Tr(d),a&&_r(i,d)&&(i=d,n.update(d))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ft(Object(r),!0).forEach(function(n){Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(e)}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mr(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Pr(e,t){if(e==null)return{};var r=Mr(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fr(e,t){return Gr(e)||Ur(e,t)||wt(e,t)||Wr()}function Y(e){return kr(e)||zr(e)||wt(e)||Hr()}function kr(e){if(Array.isArray(e))return vt(e)}function Gr(e){if(Array.isArray(e))return e}function zr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ur(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,d,l;try{for(r=r.call(e);!(a=(d=r.next()).done)&&(n.push(d.value),!(t&&n.length===t));a=!0);}catch(u){i=!0,l=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function wt(e,t){if(e){if(typeof e=="string")return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(e,t)}}function vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=wt(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,d=!1,l;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return i=u.done,u},e:function(u){d=!0,l=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(d)throw l}}}}var $r="finalize",Br="consider";function _e(e,t,r){e.dispatchEvent(new CustomEvent($r,{detail:{items:t,info:r}}))}function le(e,t,r){e.dispatchEvent(new CustomEvent(Br,{detail:{items:t,info:r}}))}var Je="draggedEntered",Pe="draggedLeft",Qe="draggedOverIndex",Ot="draggedLeftDocument",je={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Zr(e,t,r){e.dispatchEvent(new CustomEvent(Je,{detail:{indexObj:t,draggedEl:r}}))}function jr(e,t,r){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:je.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Yr(e,t){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:je.OUTSIDE_OF_ANY}}))}function Vr(e,t,r){e.dispatchEvent(new CustomEvent(Qe,{detail:{indexObj:t,draggedEl:r}}))}function Kr(e){window.dispatchEvent(new CustomEvent(Ot,{detail:{draggedEl:e}}))}var U={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Je,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Qe,DRAGGED_LEFT:Pe,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},$={POINTER:"pointer",KEYBOARD:"keyboard"},et="isDndShadowItem",tt="data-is-dnd-shadow-item-internal",Xr="data-is-dnd-shadow-item-hint",Xt="id:dnd-shadow-placeholder-0000",qr="dnd-action-dragged-el",R="id",gt=0;function qt(){gt++}function Jt(){if(gt===0)throw new Error("Bug! trying to decrement when there are no dropzones");gt--}var At=typeof window>"u";function mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?en(e):e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){var d,l,u,v;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),d=+r[0],l=+r[5],u=+r[12],v=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),d=+r[0],l=+r[3],u=+r[4],v=+r[5];else return n;var o=a.transformOrigin,g=n.x-u-(1-d)*parseFloat(o),s=n.y-v-(1-l)*parseFloat(o.slice(o.indexOf(" ")+1)),f=d?n.width/d:e.offsetWidth,c=l?n.height/l:e.offsetHeight;return{x:g,y:s,width:f,height:c,top:s,right:g+f,bottom:s+c,left:g}}else return n}function ht(e){var t=mt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Qt(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function er(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Jr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ce(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function tr(e){return er(Qt(e))}function kt(e,t){var r=tr(t);return Jr(e,r)}function Qr(e){var t=Qt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function en(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,a=!1,i=e.parentElement;i&&i!==document.body;){var d=window.getComputedStyle(i),l=d.overflowY,u=d.overflowX,v=l==="scroll"||l==="auto",o=u==="scroll"||u==="auto";if(v||o){var g=i.getBoundingClientRect();if(v){var s=Math.max(r.top,g.top),f=Math.min(r.bottom,g.bottom);(s!==r.top||f!==r.bottom)&&(n=!0),r.top=s,r.bottom=f}if(o){var c=Math.max(r.left,g.left),D=Math.min(r.right,g.right);(c!==r.left||D!==r.right)&&(a=!0),r.left=c,r.right=D}}i=i.parentElement}return n||a?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Ee;function It(){Ee=new Map}It();function tn(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(tt)});if(t>=0)return Ee.has(e)||Ee.set(e,new Map),Ee.get(e).set(t,ht(e.children[t])),t}function rn(e,t){var r=ht(t);if(!Ce(e,r))return null;var n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var a=tn(t),i=0;i<n.length;i++){var d=ht(n[i]);if(Ce(e,d)){var l=Ee.has(t)&&Ee.get(t).get(i);return l&&!Ce(e,l)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}}for(var u=Number.MAX_VALUE,v=void 0,o=0;o<n.length;o++){var g=kt(e,n[o]);g<u&&(u=g,v=o)}if(n.length>0){var s=n.length,f=n[s-1],c=f.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",t.appendChild(c);var D=kt(e,c);D<u&&(v=s),t.removeChild(c)}return{index:v,isProximityBased:!0}}function Ie(e){return JSON.stringify(e,null,2)}function Ye(e){if(!e)throw new Error("cannot get depth of a falsy node");return rr(e,0)}function rr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?rr(e.parentElement,t+1):t-1}function nn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function an(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var on=200,Gt=10,pt;function sn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:on,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i,d,l=!1,u,v=Array.from(t).sort(function(g,s){return Ye(s)-Ye(g)});function o(){var g=a(),s=n.multiScrollIfNeeded();if(!s&&u&&Math.abs(u.x-g.x)<Gt&&Math.abs(u.y-g.y)<Gt){pt=window.setTimeout(o,r);return}if(Qr(e)){Kr(e);return}u=g;var f=!1,c=Me(v),D;try{for(c.s();!(D=c.n()).done;){var m=D.value;s&&It();var h=rn(g,m);if(h!==null){var p=h.index;f=!0,m!==i?(i&&jr(i,e,m),Zr(m,h,e),i=m):p!==d&&(Vr(m,h,e),d=p);break}}}catch(E){c.e(E)}finally{c.f()}!f&&l&&i?(Yr(i,e),i=void 0,d=void 0,l=!1):l=!0,pt=window.setTimeout(o,r)}o()}function dn(){clearTimeout(pt),It()}var Se=30;function ln(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var d=e,l=d.directionObj,u=d.stepPx;l&&(i.scrollBy(l.x*u,l.y*u),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return Se-i}function a(i,d){if(!d)return!1;var l=un(i,d),u=!!e.directionObj;if(l===null)return u&&t(),!1;var v=!1,o=!1;return d.scrollHeight>d.clientHeight&&(l.bottom<Se?(v=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<Se&&(v=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!u&&v)||d.scrollWidth>d.clientWidth&&(l.right<Se?(o=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<Se&&(o=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!u&&o)?(r(d),!0):(t(),!1)}return{scrollIfNeeded:a,resetScrolling:t}}function un(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ce(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function cn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=vn(e),n=Array.from(r).sort(function(u,v){return Ye(v)-Ye(u)}),a=ln(),i=a.scrollIfNeeded,d=a.resetScrolling;function l(){var u=t();if(!u||!n)return!1;for(var v=n.filter(function(s){return Ce(u,s.getBoundingClientRect())||s===document.scrollingElement}),o=0;o<v.length;o++){var g=i(u,v[o]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return d()}}}function fn(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),a=n.overflow;a.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function vn(e){var t=new Set,r=Me(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;fn(a).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function gn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",a=n?[e]:Y(e.querySelectorAll("select")),i=Me(a),d;try{for(i.s();!(d=i.n()).done;){var l=d.value;r.push(l.value)}}catch(E){i.e(E)}finally{i.f()}if(a.length>0)for(var u=n?[t]:Y(t.querySelectorAll("select")),v=0;v<u.length;v++){var o=u[v],g=r[v],s=o.querySelector('option[value="'.concat(g,'"'));s&&s.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",c=f?[e]:Y(e.querySelectorAll("canvas"));if(c.length>0)for(var D=f?[t]:Y(t.querySelectorAll("canvas")),m=0;m<D.length;m++){var h=c[m],p=D[m];p.width=h.width,p.height=h.height,h.width>0&&h.height>0&&p.getContext("2d").drawImage(h,0,0)}return t}var Ne=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),mn=Te({},Ne.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function nr(e){if(!Ne[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Ne)));return mn[e]}var hn=.2;function ce(e){return"".concat(e," ").concat(hn,"s ease")}function pn(e,t){var r=e.getBoundingClientRect(),n=gn(e);ir(e,n),n.id=qr,n.style.position="fixed";var a=r.top,i=r.left;if(n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px"),t){var d=er(r);a-=d.y-t.y,i-=d.x-t.x,window.setTimeout(function(){n.style.top="".concat(a,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(ce("top"),", ").concat(ce("left"),", ").concat(ce("background-color"),", ").concat(ce("opacity"),", ").concat(ce("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(ce("width"),", ").concat(ce("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function yn(e){e.style.cursor="grab"}function Dn(e,t,r,n){ir(t,e);var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),d=a.width-i.width,l=a.height-i.height;if(d||l){var u={left:(r-i.left)/i.width,top:(n-i.top)/i.height};nr(Ne.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(a.height,"px"),e.style.width="".concat(a.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*d,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*l,"px")}}function ir(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||nr(Ne.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function En(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function ar(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function bn(e){e.style.visibility="hidden",e.setAttribute(tt,"true")}function Tn(e){e.style.visibility="",e.removeAttribute(tt)}function We(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=a[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function Ve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var a=t(n);Object.keys(a).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function _n(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var wn="--any--",On=100,An=20,ze=3,In=80,zt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ut="data-is-dnd-original-dragged-item",H,C,W,rt,T,nt,de,F,ee,L,ae=!1,St=!1,xt,Fe=!1,$e=[],Re,te,xe=!1,Ct=!1,q=new Map,w=new Map,dt=new WeakMap;function Sn(e,t){q.has(t)||q.set(t,new Set),q.get(t).has(e)||(q.get(t).add(e),qt())}function Ht(e,t){q.get(t).delete(e),Jt(),q.get(t).size===0&&q.delete(t)}function xn(){var e=q.get(rt),t=Me(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Je,or),n.addEventListener(Pe,sr),n.addEventListener(Qe,dr)}}catch(l){t.e(l)}finally{t.f()}window.addEventListener(Ot,we);var a=Math.max.apply(Math,Y(Array.from(e.keys()).map(function(l){return w.get(l).dropAnimationDurationMs}))),i=a===0?An:Math.max(a,On);Re=cn(e,function(){return L});var d=Ct?function(){return{x:L.x+window.scrollX,y:L.y+window.scrollY}}:function(){return tr(C)};sn(C,e,i*1.07,Re,d)}function Cn(){var e=q.get(rt),t=Me(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Je,or),n.removeEventListener(Pe,sr),n.removeEventListener(Qe,dr)}}catch(a){t.e(a)}finally{t.f()}window.removeEventListener(Ot,we),Re&&(Re.destroy(),Re=void 0),dn()}function it(e){return e.findIndex(function(t){return!!t[et]})}function Rn(e){var t;return Ze(Ze({},e),{},(t={},Te(t,et,!0),Te(t,R,Xt),t))}function or(e){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){if(Fe=!1,r=r.filter(function(l){return l[R]!==de[R]&&l[R]!==Xt}),T!==e.currentTarget){var a=w.get(T).items,i=a.filter(function(l){return!l[et]});le(T,i,{trigger:U.DRAGGED_ENTERED_ANOTHER,id:W[R],source:$.POINTER})}var d=e.detail.indexObj.index;F=e.currentTarget,r.splice(d,0,de),le(e.currentTarget,r,{trigger:U.DRAGGED_ENTERED,id:W[R],source:$.POINTER})}}function sr(e){if(ae){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T&&e.currentTarget!==F)){var a=Y(r),i=it(a);i!==-1&&a.splice(i,1);var d=F;F=void 0;var l=e.detail,u=l.type,v=l.theOtherDz;if(u===je.OUTSIDE_OF_ANY||u===je.LEFT_FOR_ANOTHER&&v!==T&&w.get(v).dropFromOthersDisabled){Fe=!0,F=T;var o=d===T?a:Y(w.get(T).items);o.splice(nt,0,de),le(T,o,{trigger:U.DRAGGED_LEFT_ALL,id:W[R],source:$.POINTER})}le(e.currentTarget,a,{trigger:U.DRAGGED_LEFT,id:W[R],source:$.POINTER})}}}function dr(e){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){var a=Y(r);Fe=!1;var i=e.detail.indexObj.index,d=it(a);d!==-1&&a.splice(d,1),a.splice(i,0,de),le(e.currentTarget,a,{trigger:U.DRAGGED_OVER_INDEX,id:W[R],source:$.POINTER})}}function Ke(e){e.preventDefault();var t=e.touches?e.touches[0]:e;L={x:t.clientX,y:t.clientY},C.style.transform="translate3d(".concat(L.x-ee.x,"px, ").concat(L.y-ee.y,"px, 0)")}function we(){St=!0,window.removeEventListener("mousemove",Ke),window.removeEventListener("touchmove",Ke),window.removeEventListener("mouseup",we),window.removeEventListener("touchend",we),Cn(),yn(C),F||(F=T);var e=w.get(F),t=e.items,r=e.type;Ve(q.get(r),function(i){return w.get(i).dropTargetStyle},function(i){return w.get(i).dropTargetClasses});var n=it(t);n===-1&&F===T&&(n=nt),t=t.map(function(i){return i[et]?W:i});function a(){xt(),_e(F,t,{trigger:Fe?U.DROPPED_OUTSIDE_OF_ANY:U.DROPPED_INTO_ZONE,id:W[R],source:$.POINTER}),F!==T&&_e(T,w.get(T).items,{trigger:U.DROPPED_INTO_ANOTHER,id:W[R],source:$.POINTER});var i=Array.from(F.children).find(function(d){return d.getAttribute(tt)});i&&Tn(i),Mn()}w.get(F).dropAnimationDisabled?a():Nn(n,a)}function Nn(e,t){var r=e>-1?mt(F.children[e],!1):mt(F,!1),n={x:r.left-parseFloat(C.style.left),y:r.top-parseFloat(C.style.top)},a=w.get(F),i=a.dropAnimationDurationMs,d="transform ".concat(i,"ms ease");C.style.transition=C.style.transition?C.style.transition+","+d:d,C.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function Ln(e,t){$e.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){ar(e),document.body.appendChild(e)})}function Mn(){C&&C.remove&&C.remove(),H&&H.remove&&H.remove(),C=void 0,H=void 0,W=void 0,rt=void 0,T=void 0,nt=void 0,de=void 0,F=void 0,ee=void 0,L=void 0,ae=!1,St=!1,xt=void 0,Fe=!1,te&&clearTimeout(te),te=void 0,xe=!1,Ct=!1,$e.length&&($e.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),$e=[])}function Pn(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:zt,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,useCursorForDetection:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},a=new Map;function i(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function d(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l),te&&(clearTimeout(te),te=void 0,xe=!1)}function l(s){if(d(),H=void 0,ee=void 0,L=void 0,s.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});s.target.dispatchEvent(f)}}function u(s){var f=!!s.touches,c=f?s.touches[0]:s;if(f&&n.delayTouchStartMs>0&&!xe){L={x:c.clientX,y:c.clientY},(Math.abs(L.x-ee.x)>=ze||Math.abs(L.y-ee.y)>=ze)&&(te&&(clearTimeout(te),te=void 0),l(s));return}s.preventDefault(),L={x:c.clientX,y:c.clientY},(Math.abs(L.x-ee.x)>=ze||Math.abs(L.y-ee.y)>=ze)&&(d(),o())}function v(s){if(!(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable))&&!s.button&&!ae){var f=!!s.touches,c=f&&n.delayTouchStartMs>0;c||s.preventDefault(),s.stopPropagation();var D=f?s.touches[0]:s;ee={x:D.clientX,y:D.clientY},L=Ze({},ee),H=s.currentTarget,c&&(xe=!1,te=window.setTimeout(function(){H&&(xe=!0,d(),o())},n.delayTouchStartMs)),i()}}function o(){ae=!0;var s=a.get(H);nt=s,T=H.parentElement;var f=T.closest("dialog")||T.closest("[popover]")||T.getRootNode(),c=f.body||f,D=n.items,m=n.type,h=n.centreDraggedOnCursor,p=n.useCursorForDetection,E=Y(D);W=E[s],rt=m,de=Rn(W),Ct=p,C=pn(H,h&&L),c.appendChild(C);function b(){H.parentElement?window.requestAnimationFrame(b):(H.setAttribute(Ut,!0),c.appendChild(H),xn(),ar(H),de[R]=W[R],C.focus())}window.requestAnimationFrame(b),We(Array.from(q.get(n.type)).filter(function(y){return y===T||!w.get(y).dropFromOthersDisabled}),function(y){return w.get(y).dropTargetStyle},function(y){return w.get(y).dropTargetClasses}),E.splice(s,1,de),xt=_n(T),le(T,E,{trigger:U.DRAG_STARTED,id:W[R],source:$.POINTER}),window.addEventListener("mousemove",Ke,{passive:!1}),window.addEventListener("touchmove",Ke,{passive:!1,capture:!1}),window.addEventListener("mouseup",we,{passive:!1}),window.addEventListener("touchend",we,{passive:!1})}function g(s){var f=s.items,c=f===void 0?void 0:f,D=s.flipDurationMs,m=D===void 0?0:D,h=s.type,p=h===void 0?wn:h,E=s.dragDisabled,b=E===void 0?!1:E,y=s.morphDisabled,O=y===void 0?!1:y,M=s.dropFromOthersDisabled,B=M===void 0?!1:M,J=s.dropTargetStyle,ue=J===void 0?zt:J,S=s.dropTargetClasses,_=S===void 0?[]:S,V=s.transformDraggedElement,ne=V===void 0?function(){}:V,at=s.centreDraggedOnCursor,ke=at===void 0?!1:at,k=s.useCursorForDetection,vr=k===void 0?!1:k,Rt=s.dropAnimationDisabled,gr=Rt===void 0?!1:Rt,Nt=s.delayTouchStart,Oe=Nt===void 0?!1:Nt;n.dropAnimationDurationMs=m;var ot=0;Oe===!0?ot=In:typeof Oe=="number"&&isFinite(Oe)&&Oe>=0&&(ot=Oe),n.delayTouchStartMs=ot,n.type&&p!==n.type&&Ht(e,n.type),n.type=p,n.items=Y(c),n.dragDisabled=b,n.morphDisabled=O,n.transformDraggedElement=ne,n.centreDraggedOnCursor=ke,n.useCursorForDetection=vr,n.dropAnimationDisabled=gr,r&&ae&&!St&&(!nn(ue,n.dropTargetStyle)||!an(_,n.dropTargetClasses))&&(Ve([e],function(){return n.dropTargetStyle},function(){return _}),We([e],function(){return ue},function(){return _})),n.dropTargetStyle=ue,n.dropTargetClasses=Y(_);function Ge(Q,Lt){return w.get(Q)?w.get(Q)[Lt]:n[Lt]}r&&ae&&n.dropFromOthersDisabled!==B&&(B?Ve([e],function(Q){return Ge(Q,"dropTargetStyle")},function(Q){return Ge(Q,"dropTargetClasses")}):We([e],function(Q){return Ge(Q,"dropTargetStyle")},function(Q){return Ge(Q,"dropTargetClasses")})),n.dropFromOthersDisabled=B,w.set(e,n),Sn(e,p);for(var mr=ae?it(n.items):-1,pe=0;pe<e.children.length;pe++){var K=e.children[pe];if(En(K,b),pe===mr){O||Dn(C,K,L.x,L.y),n.transformDraggedElement(C,W,pe),bn(K);continue}K.removeEventListener("mousedown",dt.get(K)),K.removeEventListener("touchstart",dt.get(K)),b||(K.addEventListener("mousedown",v),K.addEventListener("touchstart",v),dt.set(K,v)),a.set(K,pe),r||(r=!0)}}return g(t),{update:function(f){g(f)},destroy:function(){function f(){Ht(e,w.get(e).type),w.delete(e)}ae&&!e.closest("[".concat(Ut,"]"))?Ln(e,f):f()}}}var Ue,yt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},lr=(Ue={},Te(Ue,yt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Te(Ue,yt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Ue),Fn="dnd-action-aria-alert",I;function Dt(){I||(I=document.createElement("div"),function(){I.id=Fn,I.style.position="fixed",I.style.bottom="0",I.style.left="0",I.style.zIndex="-5",I.style.opacity="0",I.style.height="0",I.style.width="0",I.setAttribute("role","alert")}(),document.body.prepend(I),Object.entries(lr).forEach(function(e){var t=Fr(e,2),r=t[0],n=t[1];return document.body.prepend(zn(r,n))}))}function kn(){return At?null:(document.readyState==="complete"?Dt():window.addEventListener("DOMContentLoaded",Dt),Ze({},yt))}function Gn(){At||!I||(Object.keys(lr).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),I.remove(),I=void 0)}function zn(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function be(e){if(!At){I||Dt(),I.innerHTML="";var t=document.createTextNode(e);I.appendChild(t),I.style.display="none",I.style.display="inline"}}var Un="--any--",Wt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},j=!1,Et,z,he="",fe,re,oe="",Xe=new WeakSet,$t=new WeakMap,Bt=new WeakMap,bt=new Map,P=new Map,X=new Map,qe;function Hn(e,t){X.size===0&&(qe=kn(),window.addEventListener("keydown",ur),window.addEventListener("click",cr)),X.has(t)||X.set(t,new Set),X.get(t).has(e)||(X.get(t).add(e),qt())}function Zt(e,t){z===e&&Le(),X.get(t).delete(e),Jt(),X.get(t).size===0&&X.delete(t),X.size===0&&(window.removeEventListener("keydown",ur),window.removeEventListener("click",cr),qe=void 0,Gn())}function ur(e){if(j)switch(e.key){case"Escape":{Le();break}}}function cr(){j&&(Xe.has(document.activeElement)||Le())}function Wn(e){if(j){var t=e.currentTarget;if(t!==z){he=t.getAttribute("aria-label")||"";var r=P.get(z),n=r.items,a=n.find(function(g){return g[R]===re}),i=n.indexOf(a),d=n.splice(i,1)[0],l=P.get(t),u=l.items,v=l.autoAriaDisabled;t.getBoundingClientRect().top<z.getBoundingClientRect().top||t.getBoundingClientRect().left<z.getBoundingClientRect().left?(u.push(d),v||be("Moved item ".concat(oe," to the end of the list ").concat(he))):(u.unshift(d),v||be("Moved item ".concat(oe," to the beginning of the list ").concat(he)));var o=z;_e(o,n,{trigger:U.DROPPED_INTO_ANOTHER,id:re,source:$.KEYBOARD}),_e(t,u,{trigger:U.DROPPED_INTO_ZONE,id:re,source:$.KEYBOARD}),z=t}}}function fr(){bt.forEach(function(e,t){var r=e.update;return r(P.get(t))})}function Le(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;P.get(z).autoAriaDisabled||be("Stopped dragging item ".concat(oe)),Xe.has(document.activeElement)&&document.activeElement.blur(),e&&le(z,P.get(z).items,{trigger:U.DRAG_STOPPED,id:re,source:$.KEYBOARD}),Ve(X.get(Et),function(t){return P.get(t).dropTargetStyle},function(t){return P.get(t).dropTargetClasses}),fe=null,re=null,oe="",Et=null,z=null,he="",j=!1,fr()}function $n(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Wt,dropTargetClasses:[],autoAriaDisabled:!1};function n(o,g,s){o.length<=1||o.splice(s,1,o.splice(g,1,o[s])[0])}function a(o){switch(o.key){case"Enter":case" ":{if((o.target.disabled!==void 0||o.target.href||o.target.isContentEditable)&&!Xe.has(o.target))return;o.preventDefault(),o.stopPropagation(),j?Le():i(o);break}case"ArrowDown":case"ArrowRight":{if(!j)return;o.preventDefault(),o.stopPropagation();var g=P.get(e),s=g.items,f=Array.from(e.children),c=f.indexOf(o.currentTarget);c<f.length-1&&(r.autoAriaDisabled||be("Moved item ".concat(oe," to position ").concat(c+2," in the list ").concat(he)),n(s,c,c+1),_e(e,s,{trigger:U.DROPPED_INTO_ZONE,id:re,source:$.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!j)return;o.preventDefault(),o.stopPropagation();var D=P.get(e),m=D.items,h=Array.from(e.children),p=h.indexOf(o.currentTarget);p>0&&(r.autoAriaDisabled||be("Moved item ".concat(oe," to position ").concat(p," in the list ").concat(he)),n(m,p,p-1),_e(e,m,{trigger:U.DROPPED_INTO_ZONE,id:re,source:$.KEYBOARD}));break}}}function i(o){l(o.currentTarget),z=e,Et=r.type,j=!0;var g=Array.from(X.get(r.type)).filter(function(f){return f===z||!P.get(f).dropFromOthersDisabled});if(We(g,function(f){return P.get(f).dropTargetStyle},function(f){return P.get(f).dropTargetClasses}),!r.autoAriaDisabled){var s="Started dragging item ".concat(oe,". Use the arrow keys to move it within its list ").concat(he);g.length>1&&(s+=", or tab to another list in order to move the item into it"),be(s)}le(e,P.get(e).items,{trigger:U.DRAG_STARTED,id:re,source:$.KEYBOARD}),fr()}function d(o){j&&o.currentTarget!==fe&&(o.stopPropagation(),Le(!1),i(o))}function l(o){var g=P.get(e),s=g.items,f=Array.from(e.children),c=f.indexOf(o);fe=o,fe.tabIndex=r.zoneItemTabIndex,re=s[c][R],oe=f[c].getAttribute("aria-label")||""}function u(o){var g=o.items,s=g===void 0?[]:g,f=o.type,c=f===void 0?Un:f,D=o.dragDisabled,m=D===void 0?!1:D,h=o.zoneTabIndex,p=h===void 0?0:h,E=o.zoneItemTabIndex,b=E===void 0?0:E,y=o.dropFromOthersDisabled,O=y===void 0?!1:y,M=o.dropTargetStyle,B=M===void 0?Wt:M,J=o.dropTargetClasses,ue=J===void 0?[]:J,S=o.autoAriaDisabled,_=S===void 0?!1:S;r.items=Y(s),r.dragDisabled=m,r.dropFromOthersDisabled=O,r.zoneTabIndex=p,r.zoneItemTabIndex=b,r.dropTargetStyle=B,r.dropTargetClasses=ue,r.autoAriaDisabled=_,r.type&&c!==r.type&&Zt(e,r.type),r.type=c,Hn(e,c),_||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?qe.DND_ZONE_DRAG_DISABLED:qe.DND_ZONE_ACTIVE)),P.set(e,r),j?e.tabIndex=e===z||fe.contains(e)||r.dropFromOthersDisabled||z&&r.type!==P.get(z).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Wn);for(var V=function(ke){var k=e.children[ke];Xe.add(k),k.tabIndex=j?-1:r.zoneItemTabIndex,_||k.setAttribute("role","listitem"),k.removeEventListener("keydown",$t.get(k)),k.removeEventListener("click",Bt.get(k)),m||(k.addEventListener("keydown",a),$t.set(k,a),k.addEventListener("click",d),Bt.set(k,d)),j&&r.items[ke][R]===re&&(fe=k,fe.tabIndex=r.zoneItemTabIndex,k.focus())},ne=0;ne<e.children.length;ne++)V(ne)}u(t);var v={update:function(g){u(g)},destroy:function(){Zt(e,r.type),P.delete(e),bt.delete(e)}};return bt.set(e,v),v}var Bn=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","useCursorForDetection","delayTouchStart","dropAnimationDisabled"];function lt(e,t){if(Zn(e))return{update:function(){},destroy:function(){}};jt(t);var r=Pn(e,t),n=$n(e,t);return{update:function(i){jt(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function Zn(e){return!!e.closest("[".concat(Xr,'="true"]'))}function jt(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var a=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.useCursorForDetection;var i=e.delayTouchStart;e.dropAnimationDisabled;var d=Pr(e,Bn);if(Object.keys(d).length>0&&console.warn("dndzone will ignore unknown options",d),!t)throw new Error("no 'items' key provided to dndzone");var l=t.find(function(o){return!{}.hasOwnProperty.call(o,R)});if(l)throw new Error("missing '".concat(R,"' property for item ").concat(Ie(l)));if(a&&!Array.isArray(a))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(De(a),", ").concat(Ie(a)));if(r&&!Yt(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(De(r),", ").concat(Ie(r)));if(n&&!Yt(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(De(n),", ").concat(Ie(n)));if(i!==void 0&&i!==!1){var u=i===!0,v=typeof i=="number"&&isFinite(i)&&i>=0;if(!u&&!v)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(De(i),", ").concat(Ie(i)))}}function Yt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}const jn={light:"mdi:lightbulb",switch:"mdi:power-plug",cover:"mdi:window-closed",climate:"mdi:thermometer",media_player:"mdi:music",sensor:"mdi:gauge",binary_sensor:"mdi:circle-outline",lock:"mdi:lock",weather:"mdi:weather-partly-cloudy",script:"mdi:script-text-outline",input_boolean:"mdi:toggle-switch"};function Yn(e){return jn[e]||"mdi:help-circle"}var Vn=Z('<div class="attribute svelte-vmg48c"> </div>'),Kn=Z("<button> </button>"),Xn=Z('<div class="error svelte-vmg48c"> </div>'),qn=Z('<div class="card svelte-vmg48c"><div class="card-header svelte-vmg48c"><div class="icon svelte-vmg48c"><iconify-icon></iconify-icon></div> <div class="name svelte-vmg48c"> </div></div> <div class="card-body svelte-vmg48c"><div class="state-display svelte-vmg48c"><span class="state-text svelte-vmg48c"> </span></div> <!></div> <div class="card-footer svelte-vmg48c"><!></div> <!></div>',2);function Jn(e,t){Tt(t,!0);let r=Be(!1),n=Be(null);async function a(){try{ie(r,!0),ie(n,null),await xr(t.entity.entity_id)}catch(S){ie(n,S.message||"Failed to toggle",!0)}finally{ie(r,!1)}}let i=Ae(()=>Kt(t.entity.entity_id)),d=Ae(()=>t.entity.attributes.friendly_name||t.entity.entity_id),l=Ae(()=>t.entity.state==="on"||t.entity.state==="open"||t.entity.state==="unlocked"),u=Ae(()=>["light","switch","cover","lock","input_boolean","script"].includes(A(i))),v=Ae(()=>Yn(A(i)));var o=qn(),g=N(o),s=N(g),f=N(s);ge(()=>me(f,"icon",A(v))),me(f,"width","24"),me(f,"height","24"),x(s);var c=ye(s,2),D=N(c,!0);x(c),x(g);var m=ye(g,2),h=N(m),p=N(h),E=N(p,!0);x(p),x(h);var b=ye(h,2);{var y=S=>{var _=Vn(),V=N(_);x(_),ge(ne=>ve(V,`${ne??""}%`),[()=>Math.round(t.entity.attributes.brightness/255*100)]),G(S,_)};se(b,S=>{t.entity.attributes.brightness!==void 0&&S(y)})}x(m);var O=ye(m,2),M=N(O);{var B=S=>{var _=Kn();_.__click=a;let V;var ne=N(_,!0);x(_),ge(()=>{_.disabled=A(r),V=ft(_,1,"toggle-btn svelte-vmg48c",null,V,{on:A(l)}),ve(ne,A(r)?"...":A(l)?"Off":"On")}),G(S,_)};se(M,S=>{A(u)&&S(B)})}x(O);var J=ye(O,2);{var ue=S=>{var _=Xn(),V=N(_,!0);x(_),ge(()=>ve(V,A(n))),G(S,_)};se(J,S=>{A(n)&&S(ue)})}x(o),ge(()=>{st(o,"data-domain",A(i)),st(o,"data-state",A(l)?"on":"off"),st(c,"title",A(d)),ve(D,A(d)),ve(E,t.entity.state)}),G(e,o),_t()}hr(["click"]);var Qn=Z(" <br/> <small>Rename devices in Home Assistant to include the room name.</small>",1),ei=Z('<div class="empty-state svelte-wf2j5s"><!></div>'),ti=Z('<div class="grid-item svelte-wf2j5s"><!></div>'),ri=Z('<div class="grid svelte-wf2j5s"></div>'),ni=Z('<div class="dashboard-grid svelte-wf2j5s"><!></div>');function ii(e,t){Tt(t,!0);const r=()=>He(Cr,"$entityList",i),n=()=>He(Ir,"$layoutConfig",i),a=()=>He(Nr,"$activeTabId",i),[i,d]=Vt();let l=Be(wr([])),u=Be(!1);const v=200;Or(()=>{if(A(u))return;const m=r(),h=n().cardOrder,p=a();let E=m.filter(y=>{const O=Kt(y.entity_id);return["light","switch","climate","media_player","cover","lock","script","input_boolean"].includes(O)});if(p!=="home"){const y=p.split("_");E=E.filter(O=>{const M=(O.attributes.friendly_name||"").toLowerCase(),B=O.entity_id.toLowerCase();return y.some(J=>M.includes(J)||B.includes(J))})}let b=[];if(p==="home"&&h.length>0){const y=h.map(M=>E.find(B=>B.entity_id===M)).filter(M=>M!==void 0),O=E.filter(M=>!h.includes(M.entity_id));b=[...y,...O]}else b=E;ie(l,b.map(y=>({...y,id:y.entity_id})),!0)});function o(m){ie(l,m.detail.items,!0),ie(u,!0)}function g(m){if(ie(l,m.detail.items,!0),ie(u,!1),a()==="home"){const h=A(l).map(p=>p.entity_id);Sr(h)}}var s=ni(),f=N(s);{var c=m=>{var h=ei(),p=N(h);{var E=y=>{var O=pr("No dashboard devices found. Add lights, switches, or media players to Home Assistant.");G(y,O)},b=y=>{var O=Qn(),M=ut(O);ct(3),ge(B=>ve(M,`No devices found for "${B??""}". `),[()=>a().replace("_"," ")]),G(y,O)};se(p,y=>{a()==="home"?y(E):y(b,!1)})}x(h),G(m,h)},D=m=>{var h=ri();Ar(h,21,()=>A(l),p=>p.id,(p,E)=>{var b=ti(),y=N(b);Jn(y,{get entity(){return A(E)}}),x(b),G(p,b)}),x(h),Lr(h,(p,E)=>lt==null?void 0:lt(p,E),()=>({items:A(l),flipDurationMs:v,dropTargetStyle:{outline:"2px dashed var(--accent-primary)",outlineOffset:"-2px",borderRadius:"12px"},dragDisabled:a()!=="home"})),Mt("consider",h,o),Mt("finalize",h,g),G(m,h)};se(f,m=>{A(l).length===0?m(c):m(D,!1)})}x(s),G(e,s),_t(),d()}var ai=Z('<div class="status-message svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Connecting to Home Assistant...</p></div>'),oi=Z('<div class="status-message error svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Connection Error</h3> <p class="svelte-1uha8ag"> </p> <a href="/settings" class="btn svelte-1uha8ag">Check Settings</a></div>',2),si=Z('<div class="status-message warning svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Not Connected</h3> <p class="svelte-1uha8ag">Please configure your server connection in Settings.</p> <a href="/settings" class="btn svelte-1uha8ag">Go to Settings</a></div>',2),di=Z('<div class="dashboard-page svelte-1uha8ag"><!></div>');function yi(e,t){Tt(t,!1);const r=()=>He(Rr,"$haStore",n),[n,a]=Vt();yr();var i=di(),d=N(i);{var l=v=>{var o=ai();G(v,o)},u=v=>{var o=Pt(),g=ut(o);{var s=c=>{var D=oi(),m=N(D);me(m,"icon","mdi:alert-circle"),me(m,"width","48"),ft(m,1,"svelte-1uha8ag");var h=ye(m,4),p=N(h,!0);x(h),ct(2),x(D),ge(()=>ve(p,r().error)),G(c,D)},f=c=>{var D=Pt(),m=ut(D);{var h=E=>{var b=si(),y=N(b);me(y,"icon","mdi:lan-disconnect"),me(y,"width","48"),ft(y,1,"svelte-1uha8ag"),ct(6),x(b),G(E,b)},p=E=>{ii(E,{})};se(m,E=>{r().isConnected?E(p,!1):E(h)},!0)}G(c,D)};se(g,c=>{r().error?c(s):c(f,!1)},!0)}G(v,o)};se(d,v=>{r().isLoading?v(l):v(u,!1)})}x(i),G(e,i),_t(),a()}export{yi as component};
