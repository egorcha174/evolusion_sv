import{d as yr,f as W,e as mt,a as N,s as pe,t as kt,c as Gt}from"../chunks/Gpl8Tn-c.js";import{i as Dr}from"../chunks/D23CrVFr.js";import{j as Er,b as br,k as Tr,e as _r,b4 as wr,B as It,F as C,g as _,I as Fe,J as A,G as se,aE as Ne,H as St,s as J,W as ht,C as _e,n as Or,a as Ar,K as zt}from"../chunks/BA3XBSiu.js";import{i as re,s as pt,a as Jt}from"../chunks/Hguoowj-.js";import{d as ct,f as ye,e as Ir,g as Sr}from"../chunks/BjuM01OE.js";import{s as Ke}from"../chunks/BkNOWxgU.js";import{e as xr,t as Cr,a as Rr,b as Nr,h as Mr}from"../chunks/DwQRJBkW.js";function Qt(e,t,r){Er(()=>{var n=br(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,a={};Tr(()=>{var o=r();_r(o),i&&wr(a,o)&&(a=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ut(Object(r),!0).forEach(function(n){Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(e)}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Pr(e,t){if(e==null)return{};var r=Lr(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fr(e,t){return Gr(e)||Ur(e,t)||xt(e,t)||Hr()}function Z(e){return kr(e)||zr(e)||xt(e)||Wr()}function kr(e){if(Array.isArray(e))return yt(e)}function Gr(e){if(Array.isArray(e))return e}function zr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ur(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,l;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function xt(e,t){if(e){if(typeof e=="string")return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(e,t)}}function yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xt(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,l=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var Br="finalize",Zr="consider";function Se(e,t,r){e.dispatchEvent(new CustomEvent(Br,{detail:{items:t,info:r}}))}function ce(e,t,r){e.dispatchEvent(new CustomEvent(Zr,{detail:{items:t,info:r}}))}var nt="draggedEntered",He="draggedLeft",at="draggedOverIndex",Ct="draggedLeftDocument",qe={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function $r(e,t,r){e.dispatchEvent(new CustomEvent(nt,{detail:{indexObj:t,draggedEl:r}}))}function jr(e,t,r){e.dispatchEvent(new CustomEvent(He,{detail:{draggedEl:t,type:qe.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Yr(e,t){e.dispatchEvent(new CustomEvent(He,{detail:{draggedEl:t,type:qe.OUTSIDE_OF_ANY}}))}function Vr(e,t,r){e.dispatchEvent(new CustomEvent(at,{detail:{indexObj:t,draggedEl:r}}))}function Kr(e){window.dispatchEvent(new CustomEvent(Ct,{detail:{draggedEl:e}}))}var k={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:nt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:at,DRAGGED_LEFT:He,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},U={POINTER:"pointer",KEYBOARD:"keyboard"},it="isDndShadowItem",ot="data-is-dnd-shadow-item-internal",Xr="data-is-dnd-shadow-item-hint",er="id:dnd-shadow-placeholder-0000",qr="dnd-action-dragged-el",S="id",Dt=0;function tr(){Dt++}function rr(){if(Dt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Dt--}var Rt=typeof window>"u";function Et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?en(e):e.getBoundingClientRect(),i=getComputedStyle(e),a=i.transform;if(a){var o,l,u,f;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],l=+r[5],u=+r[12],f=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],l=+r[3],u=+r[4],f=+r[5];else return n;var d=i.transformOrigin,m=n.x-u-(1-o)*parseFloat(d),s=n.y-f-(1-l)*parseFloat(d.slice(d.indexOf(" ")+1)),v=o?n.width/o:e.offsetWidth,c=l?n.height/l:e.offsetHeight;return{x:m,y:s,width:v,height:c,top:s,right:m+v,bottom:s+c,left:m}}else return n}function bt(e){var t=Et(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function nr(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ar(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Jr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ke(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function ir(e){return ar(nr(e))}function Wt(e,t){var r=ir(t);return Jr(e,r)}function Qr(e){var t=nr(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function en(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,i=!1,a=e.parentElement;a&&a!==document.body;){var o=window.getComputedStyle(a),l=o.overflowY,u=o.overflowX,f=l==="scroll"||l==="auto",d=u==="scroll"||u==="auto";if(f||d){var m=a.getBoundingClientRect();if(f){var s=Math.max(r.top,m.top),v=Math.min(r.bottom,m.bottom);(s!==r.top||v!==r.bottom)&&(n=!0),r.top=s,r.bottom=v}if(d){var c=Math.max(r.left,m.left),h=Math.min(r.right,m.right);(c!==r.left||h!==r.right)&&(i=!0),r.left=c,r.right=h}}a=a.parentElement}return n||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Oe;function Nt(){Oe=new Map}Nt();function tn(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(ot)});if(t>=0)return Oe.has(e)||Oe.set(e,new Map),Oe.get(e).set(t,bt(e.children[t])),t}function rn(e,t){var r=bt(t);if(!ke(e,r))return null;var n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var i=tn(t),a=0;a<n.length;a++){var o=bt(n[a]);if(ke(e,o)){var l=Oe.has(t)&&Oe.get(t).get(a);return l&&!ke(e,l)?{index:i,isProximityBased:!1}:{index:a,isProximityBased:!1}}}for(var u=Number.MAX_VALUE,f=void 0,d=0;d<n.length;d++){var m=Wt(e,n[d]);m<u&&(u=m,f=d)}if(n.length>0){var s=n.length,v=n[s-1],c=v.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",t.appendChild(c);var h=Wt(e,c);h<u&&(f=s),t.removeChild(c)}return{index:f,isProximityBased:!0}}function Me(e){return JSON.stringify(e,null,2)}function Je(e){if(!e)throw new Error("cannot get depth of a falsy node");return or(e,0)}function or(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?or(e.parentElement,t+1):t-1}function nn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function an(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var on=200,Ht=10,Tt;function sn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:on,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a,o,l=!1,u,f=Array.from(t).sort(function(m,s){return Je(s)-Je(m)});function d(){var m=i(),s=n.multiScrollIfNeeded();if(!s&&u&&Math.abs(u.x-m.x)<Ht&&Math.abs(u.y-m.y)<Ht){Tt=window.setTimeout(d,r);return}if(Qr(e)){Kr(e);return}u=m;var v=!1,c=We(f),h;try{for(c.s();!(h=c.n()).done;){var g=h.value;s&&Nt();var p=rn(m,g);if(p!==null){var y=p.index;v=!0,g!==a?(a&&jr(a,e,g),$r(g,p,e),a=g):y!==o&&(Vr(g,p,e),o=y);break}}}catch(D){c.e(D)}finally{c.f()}!v&&l&&a?(Yr(a,e),a=void 0,o=void 0,l=!1):l=!0,Tt=window.setTimeout(d,r)}d()}function dn(){clearTimeout(Tt),Nt()}var Le=30;function ln(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var o=e,l=o.directionObj,u=o.stepPx;l&&(a.scrollBy(l.x*u,l.y*u),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return Le-a}function i(a,o){if(!o)return!1;var l=un(a,o),u=!!e.directionObj;if(l===null)return u&&t(),!1;var f=!1,d=!1;return o.scrollHeight>o.clientHeight&&(l.bottom<Le?(f=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<Le&&(f=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!u&&f)||o.scrollWidth>o.clientWidth&&(l.right<Le?(d=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<Le&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!u&&d)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function un(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return ke(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function cn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=vn(e),n=Array.from(r).sort(function(u,f){return Je(f)-Je(u)}),i=ln(),a=i.scrollIfNeeded,o=i.resetScrolling;function l(){var u=t();if(!u||!n)return!1;for(var f=n.filter(function(s){return ke(u,s.getBoundingClientRect())||s===document.scrollingElement}),d=0;d<f.length;d++){var m=a(u,f[d]);if(m)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return o()}}}function fn(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function vn(e){var t=new Set,r=We(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;fn(i).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function gn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:Z(e.querySelectorAll("select")),a=We(i),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;r.push(l.value)}}catch(D){a.e(D)}finally{a.f()}if(i.length>0)for(var u=n?[t]:Z(t.querySelectorAll("select")),f=0;f<u.length;f++){var d=u[f],m=r[f],s=d.querySelector('option[value="'.concat(m,'"'));s&&s.setAttribute("selected",!0)}var v=e.tagName==="CANVAS",c=v?[e]:Z(e.querySelectorAll("canvas"));if(c.length>0)for(var h=v?[t]:Z(t.querySelectorAll("canvas")),g=0;g<h.length;g++){var p=c[g],y=h[g];y.width=p.width,y.height=p.height,p.width>0&&p.height>0&&y.getContext("2d").drawImage(p,0,0)}return t}var ze=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),mn=Ie({},ze.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function sr(e){if(!ze[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(ze)));return mn[e]}var hn=.2;function me(e){return"".concat(e," ").concat(hn,"s ease")}function pn(e,t){var r=e.getBoundingClientRect(),n=gn(e);dr(e,n),n.id=qr,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),t){var o=ar(r);i-=o.y-t.y,a-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(me("top"),", ").concat(me("left"),", ").concat(me("background-color"),", ").concat(me("opacity"),", ").concat(me("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(me("width"),", ").concat(me("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function yn(e){e.style.cursor="grab"}function Dn(e,t,r,n){dr(t,e);var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=i.width-a.width,l=i.height-a.height;if(o||l){var u={left:(r-a.left)/a.width,top:(n-a.top)/a.height};sr(ze.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*l,"px")}}function dr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||sr(ze.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function En(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function lr(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function bn(e){e.style.visibility="hidden",e.setAttribute(ot,"true")}function Tn(e){e.style.visibility="",e.removeAttribute(ot)}function Ye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function _n(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var wn="--any--",On=100,An=20,$e=3,In=80,Bt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Zt="data-is-dnd-original-dragged-item",G,I,z,st,T,dt,ue,P,X,R,de=!1,Mt=!1,Lt,Be=!1,Ve=[],Ge,q,Pe=!1,Pt=!1,Y=new Map,w=new Map,ft=new WeakMap;function Sn(e,t){Y.has(t)||Y.set(t,new Set),Y.get(t).has(e)||(Y.get(t).add(e),tr())}function $t(e,t){Y.get(t).delete(e),rr(),Y.get(t).size===0&&Y.delete(t)}function xn(){var e=Y.get(st),t=We(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(nt,ur),n.addEventListener(He,cr),n.addEventListener(at,fr)}}catch(l){t.e(l)}finally{t.f()}window.addEventListener(Ct,xe);var i=Math.max.apply(Math,Z(Array.from(e.keys()).map(function(l){return w.get(l).dropAnimationDurationMs}))),a=i===0?An:Math.max(i,On);Ge=cn(e,function(){return R});var o=Pt?function(){return{x:R.x+window.scrollX,y:R.y+window.scrollY}}:function(){return ir(I)};sn(I,e,a*1.07,Ge,o)}function Cn(){var e=Y.get(st),t=We(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(nt,ur),n.removeEventListener(He,cr),n.removeEventListener(at,fr)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(Ct,xe),Ge&&(Ge.destroy(),Ge=void 0),dn()}function lt(e){return e.findIndex(function(t){return!!t[it]})}function Rn(e){var t;return Xe(Xe({},e),{},(t={},Ie(t,it,!0),Ie(t,S,er),t))}function ur(e){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){if(Be=!1,r=r.filter(function(l){return l[S]!==ue[S]&&l[S]!==er}),T!==e.currentTarget){var i=w.get(T).items,a=i.filter(function(l){return!l[it]});ce(T,a,{trigger:k.DRAGGED_ENTERED_ANOTHER,id:z[S],source:U.POINTER})}var o=e.detail.indexObj.index;P=e.currentTarget,r.splice(o,0,ue),ce(e.currentTarget,r,{trigger:k.DRAGGED_ENTERED,id:z[S],source:U.POINTER})}}function cr(e){if(de){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T&&e.currentTarget!==P)){var i=Z(r),a=lt(i);a!==-1&&i.splice(a,1);var o=P;P=void 0;var l=e.detail,u=l.type,f=l.theOtherDz;if(u===qe.OUTSIDE_OF_ANY||u===qe.LEFT_FOR_ANOTHER&&f!==T&&w.get(f).dropFromOthersDisabled){Be=!0,P=T;var d=o===T?i:Z(w.get(T).items);d.splice(dt,0,ue),ce(T,d,{trigger:k.DRAGGED_LEFT_ALL,id:z[S],source:U.POINTER})}ce(e.currentTarget,i,{trigger:k.DRAGGED_LEFT,id:z[S],source:U.POINTER})}}}function fr(e){var t=w.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){var i=Z(r);Be=!1;var a=e.detail.indexObj.index,o=lt(i);o!==-1&&i.splice(o,1),i.splice(a,0,ue),ce(e.currentTarget,i,{trigger:k.DRAGGED_OVER_INDEX,id:z[S],source:U.POINTER})}}function et(e){e.preventDefault();var t=e.touches?e.touches[0]:e;R={x:t.clientX,y:t.clientY},I.style.transform="translate3d(".concat(R.x-X.x,"px, ").concat(R.y-X.y,"px, 0)")}function xe(){Mt=!0,window.removeEventListener("mousemove",et),window.removeEventListener("touchmove",et),window.removeEventListener("mouseup",xe),window.removeEventListener("touchend",xe),Cn(),yn(I),P||(P=T);var e=w.get(P),t=e.items,r=e.type;Qe(Y.get(r),function(a){return w.get(a).dropTargetStyle},function(a){return w.get(a).dropTargetClasses});var n=lt(t);n===-1&&P===T&&(n=dt),t=t.map(function(a){return a[it]?z:a});function i(){Lt(),Se(P,t,{trigger:Be?k.DROPPED_OUTSIDE_OF_ANY:k.DROPPED_INTO_ZONE,id:z[S],source:U.POINTER}),P!==T&&Se(T,w.get(T).items,{trigger:k.DROPPED_INTO_ANOTHER,id:z[S],source:U.POINTER});var a=Array.from(P.children).find(function(o){return o.getAttribute(ot)});a&&Tn(a),Ln()}w.get(P).dropAnimationDisabled?i():Nn(n,i)}function Nn(e,t){var r=e>-1?Et(P.children[e],!1):Et(P,!1),n={x:r.left-parseFloat(I.style.left),y:r.top-parseFloat(I.style.top)},i=w.get(P),a=i.dropAnimationDurationMs,o="transform ".concat(a,"ms ease");I.style.transition=I.style.transition?I.style.transition+","+o:o,I.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function Mn(e,t){Ve.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){lr(e),document.body.appendChild(e)})}function Ln(){I&&I.remove&&I.remove(),G&&G.remove&&G.remove(),I=void 0,G=void 0,z=void 0,st=void 0,T=void 0,dt=void 0,ue=void 0,P=void 0,X=void 0,R=void 0,de=!1,Mt=!1,Lt=void 0,Be=!1,q&&clearTimeout(q),q=void 0,Pe=!1,Pt=!1,Ve.length&&(Ve.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),Ve=[])}function Pn(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Bt,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,useCursorForDetection:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function a(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function o(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l),q&&(clearTimeout(q),q=void 0,Pe=!1)}function l(s){if(o(),G=void 0,X=void 0,R=void 0,s.type==="touchend"){var v=new Event("click",{bubbles:!0,cancelable:!0});s.target.dispatchEvent(v)}}function u(s){var v=!!s.touches,c=v?s.touches[0]:s;if(v&&n.delayTouchStartMs>0&&!Pe){R={x:c.clientX,y:c.clientY},(Math.abs(R.x-X.x)>=$e||Math.abs(R.y-X.y)>=$e)&&(q&&(clearTimeout(q),q=void 0),l(s));return}s.preventDefault(),R={x:c.clientX,y:c.clientY},(Math.abs(R.x-X.x)>=$e||Math.abs(R.y-X.y)>=$e)&&(o(),d())}function f(s){if(!(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable))&&!s.button&&!de){var v=!!s.touches,c=v&&n.delayTouchStartMs>0;c||s.preventDefault(),s.stopPropagation();var h=v?s.touches[0]:s;X={x:h.clientX,y:h.clientY},R=Xe({},X),G=s.currentTarget,c&&(Pe=!1,q=window.setTimeout(function(){G&&(Pe=!0,o(),d())},n.delayTouchStartMs)),a()}}function d(){de=!0;var s=i.get(G);dt=s,T=G.parentElement;var v=T.closest("dialog")||T.closest("[popover]")||T.getRootNode(),c=v.body||v,h=n.items,g=n.type,p=n.centreDraggedOnCursor,y=n.useCursorForDetection,D=Z(h);z=D[s],st=g,ue=Rn(z),Pt=y,I=pn(G,p&&R),c.appendChild(I);function E(){G.parentElement?window.requestAnimationFrame(E):(G.setAttribute(Zt,!0),c.appendChild(G),xn(),lr(G),ue[S]=z[S],I.focus())}window.requestAnimationFrame(E),Ye(Array.from(Y.get(n.type)).filter(function(b){return b===T||!w.get(b).dropFromOthersDisabled}),function(b){return w.get(b).dropTargetStyle},function(b){return w.get(b).dropTargetClasses}),D.splice(s,1,ue),Lt=_n(T),ce(T,D,{trigger:k.DRAG_STARTED,id:z[S],source:U.POINTER}),window.addEventListener("mousemove",et,{passive:!1}),window.addEventListener("touchmove",et,{passive:!1,capture:!1}),window.addEventListener("mouseup",xe,{passive:!1}),window.addEventListener("touchend",xe,{passive:!1})}function m(s){var v=s.items,c=v===void 0?void 0:v,h=s.flipDurationMs,g=h===void 0?0:h,p=s.type,y=p===void 0?wn:p,D=s.dragDisabled,E=D===void 0?!1:D,b=s.morphDisabled,ne=b===void 0?!1:b,ee=s.dropFromOthersDisabled,te=ee===void 0?!1:ee,ae=s.dropTargetStyle,fe=ae===void 0?Bt:ae,ve=s.dropTargetClasses,V=ve===void 0?[]:ve,ie=s.transformDraggedElement,ge=ie===void 0?function(){}:ie,Ce=s.centreDraggedOnCursor,Ee=Ce===void 0?!1:Ce,x=s.useCursorForDetection,H=x===void 0?!1:x,M=s.dropAnimationDisabled,oe=M===void 0?!1:M,be=s.delayTouchStart,Re=be===void 0?!1:be;n.dropAnimationDurationMs=g;var ut=0;Re===!0?ut=In:typeof Re=="number"&&isFinite(Re)&&Re>=0&&(ut=Re),n.delayTouchStartMs=ut,n.type&&y!==n.type&&$t(e,n.type),n.type=y,n.items=Z(c),n.dragDisabled=E,n.morphDisabled=ne,n.transformDraggedElement=ge,n.centreDraggedOnCursor=Ee,n.useCursorForDetection=H,n.dropAnimationDisabled=oe,r&&de&&!Mt&&(!nn(fe,n.dropTargetStyle)||!an(V,n.dropTargetClasses))&&(Qe([e],function(){return n.dropTargetStyle},function(){return V}),Ye([e],function(){return fe},function(){return V})),n.dropTargetStyle=fe,n.dropTargetClasses=Z(V);function Ze(K,Ft){return w.get(K)?w.get(K)[Ft]:n[Ft]}r&&de&&n.dropFromOthersDisabled!==te&&(te?Qe([e],function(K){return Ze(K,"dropTargetStyle")},function(K){return Ze(K,"dropTargetClasses")}):Ye([e],function(K){return Ze(K,"dropTargetStyle")},function(K){return Ze(K,"dropTargetClasses")})),n.dropFromOthersDisabled=te,w.set(e,n),Sn(e,y);for(var pr=de?lt(n.items):-1,Te=0;Te<e.children.length;Te++){var $=e.children[Te];if(En($,E),Te===pr){ne||Dn(I,$,R.x,R.y),n.transformDraggedElement(I,z,Te),bn($);continue}$.removeEventListener("mousedown",ft.get($)),$.removeEventListener("touchstart",ft.get($)),E||($.addEventListener("mousedown",f),$.addEventListener("touchstart",f),ft.set($,f)),i.set($,Te),r||(r=!0)}}return m(t),{update:function(v){m(v)},destroy:function(){function v(){$t(e,w.get(e).type),w.delete(e)}de&&!e.closest("[".concat(Zt,"]"))?Mn(e,v):v()}}}var je,_t={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},vr=(je={},Ie(je,_t.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ie(je,_t.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),je),Fn="dnd-action-aria-alert",O;function wt(){O||(O=document.createElement("div"),function(){O.id=Fn,O.style.position="fixed",O.style.bottom="0",O.style.left="0",O.style.zIndex="-5",O.style.opacity="0",O.style.height="0",O.style.width="0",O.setAttribute("role","alert")}(),document.body.prepend(O),Object.entries(vr).forEach(function(e){var t=Fr(e,2),r=t[0],n=t[1];return document.body.prepend(zn(r,n))}))}function kn(){return Rt?null:(document.readyState==="complete"?wt():window.addEventListener("DOMContentLoaded",wt),Xe({},_t))}function Gn(){Rt||!O||(Object.keys(vr).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),O.remove(),O=void 0)}function zn(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ae(e){if(!Rt){O||wt(),O.innerHTML="";var t=document.createTextNode(e);O.appendChild(t),O.style.display="none",O.style.display="inline"}}var Un="--any--",jt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},B=!1,Ot,F,De="",he,Q,le="",tt=new WeakSet,Yt=new WeakMap,Vt=new WeakMap,At=new Map,L=new Map,j=new Map,rt;function Wn(e,t){j.size===0&&(rt=kn(),window.addEventListener("keydown",gr),window.addEventListener("click",mr)),j.has(t)||j.set(t,new Set),j.get(t).has(e)||(j.get(t).add(e),tr())}function Kt(e,t){F===e&&Ue(),j.get(t).delete(e),rr(),j.get(t).size===0&&j.delete(t),j.size===0&&(window.removeEventListener("keydown",gr),window.removeEventListener("click",mr),rt=void 0,Gn())}function gr(e){if(B)switch(e.key){case"Escape":{Ue();break}}}function mr(){B&&(tt.has(document.activeElement)||Ue())}function Hn(e){if(B){var t=e.currentTarget;if(t!==F){De=t.getAttribute("aria-label")||"";var r=L.get(F),n=r.items,i=n.find(function(m){return m[S]===Q}),a=n.indexOf(i),o=n.splice(a,1)[0],l=L.get(t),u=l.items,f=l.autoAriaDisabled;t.getBoundingClientRect().top<F.getBoundingClientRect().top||t.getBoundingClientRect().left<F.getBoundingClientRect().left?(u.push(o),f||Ae("Moved item ".concat(le," to the end of the list ").concat(De))):(u.unshift(o),f||Ae("Moved item ".concat(le," to the beginning of the list ").concat(De)));var d=F;Se(d,n,{trigger:k.DROPPED_INTO_ANOTHER,id:Q,source:U.KEYBOARD}),Se(t,u,{trigger:k.DROPPED_INTO_ZONE,id:Q,source:U.KEYBOARD}),F=t}}}function hr(){At.forEach(function(e,t){var r=e.update;return r(L.get(t))})}function Ue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;L.get(F).autoAriaDisabled||Ae("Stopped dragging item ".concat(le)),tt.has(document.activeElement)&&document.activeElement.blur(),e&&ce(F,L.get(F).items,{trigger:k.DRAG_STOPPED,id:Q,source:U.KEYBOARD}),Qe(j.get(Ot),function(t){return L.get(t).dropTargetStyle},function(t){return L.get(t).dropTargetClasses}),he=null,Q=null,le="",Ot=null,F=null,De="",B=!1,hr()}function Bn(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:jt,dropTargetClasses:[],autoAriaDisabled:!1};function n(d,m,s){d.length<=1||d.splice(s,1,d.splice(m,1,d[s])[0])}function i(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!tt.has(d.target))return;d.preventDefault(),d.stopPropagation(),B?Ue():a(d);break}case"ArrowDown":case"ArrowRight":{if(!B)return;d.preventDefault(),d.stopPropagation();var m=L.get(e),s=m.items,v=Array.from(e.children),c=v.indexOf(d.currentTarget);c<v.length-1&&(r.autoAriaDisabled||Ae("Moved item ".concat(le," to position ").concat(c+2," in the list ").concat(De)),n(s,c,c+1),Se(e,s,{trigger:k.DROPPED_INTO_ZONE,id:Q,source:U.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!B)return;d.preventDefault(),d.stopPropagation();var h=L.get(e),g=h.items,p=Array.from(e.children),y=p.indexOf(d.currentTarget);y>0&&(r.autoAriaDisabled||Ae("Moved item ".concat(le," to position ").concat(y," in the list ").concat(De)),n(g,y,y-1),Se(e,g,{trigger:k.DROPPED_INTO_ZONE,id:Q,source:U.KEYBOARD}));break}}}function a(d){l(d.currentTarget),F=e,Ot=r.type,B=!0;var m=Array.from(j.get(r.type)).filter(function(v){return v===F||!L.get(v).dropFromOthersDisabled});if(Ye(m,function(v){return L.get(v).dropTargetStyle},function(v){return L.get(v).dropTargetClasses}),!r.autoAriaDisabled){var s="Started dragging item ".concat(le,". Use the arrow keys to move it within its list ").concat(De);m.length>1&&(s+=", or tab to another list in order to move the item into it"),Ae(s)}ce(e,L.get(e).items,{trigger:k.DRAG_STARTED,id:Q,source:U.KEYBOARD}),hr()}function o(d){B&&d.currentTarget!==he&&(d.stopPropagation(),Ue(!1),a(d))}function l(d){var m=L.get(e),s=m.items,v=Array.from(e.children),c=v.indexOf(d);he=d,he.tabIndex=r.zoneItemTabIndex,Q=s[c][S],le=v[c].getAttribute("aria-label")||""}function u(d){var m=d.items,s=m===void 0?[]:m,v=d.type,c=v===void 0?Un:v,h=d.dragDisabled,g=h===void 0?!1:h,p=d.zoneTabIndex,y=p===void 0?0:p,D=d.zoneItemTabIndex,E=D===void 0?0:D,b=d.dropFromOthersDisabled,ne=b===void 0?!1:b,ee=d.dropTargetStyle,te=ee===void 0?jt:ee,ae=d.dropTargetClasses,fe=ae===void 0?[]:ae,ve=d.autoAriaDisabled,V=ve===void 0?!1:ve;r.items=Z(s),r.dragDisabled=g,r.dropFromOthersDisabled=ne,r.zoneTabIndex=y,r.zoneItemTabIndex=E,r.dropTargetStyle=te,r.dropTargetClasses=fe,r.autoAriaDisabled=V,r.type&&c!==r.type&&Kt(e,r.type),r.type=c,Wn(e,c),V||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",g?rt.DND_ZONE_DRAG_DISABLED:rt.DND_ZONE_ACTIVE)),L.set(e,r),B?e.tabIndex=e===F||he.contains(e)||r.dropFromOthersDisabled||F&&r.type!==L.get(F).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Hn);for(var ie=function(Ee){var x=e.children[Ee];tt.add(x),x.tabIndex=B?-1:r.zoneItemTabIndex,V||x.setAttribute("role","listitem"),x.removeEventListener("keydown",Yt.get(x)),x.removeEventListener("click",Vt.get(x)),g||(x.addEventListener("keydown",i),Yt.set(x,i),x.addEventListener("click",o),Vt.set(x,o)),B&&r.items[Ee][S]===Q&&(he=x,he.tabIndex=r.zoneItemTabIndex,x.focus())},ge=0;ge<e.children.length;ge++)ie(ge)}u(t);var f={update:function(m){u(m)},destroy:function(){Kt(e,r.type),L.delete(e),At.delete(e)}};return At.set(e,f),f}var Zn=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","useCursorForDetection","delayTouchStart","dropAnimationDisabled"];function vt(e,t){if($n(e))return{update:function(){},destroy:function(){}};Xt(t);var r=Pn(e,t),n=Bn(e,t);return{update:function(a){Xt(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function $n(e){return!!e.closest("[".concat(Xr,'="true"]'))}function Xt(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.useCursorForDetection;var a=e.delayTouchStart;e.dropAnimationDisabled;var o=Pr(e,Zn);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var l=t.find(function(d){return!{}.hasOwnProperty.call(d,S)});if(l)throw new Error("missing '".concat(S,"' property for item ").concat(Me(l)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(we(i),", ").concat(Me(i)));if(r&&!qt(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(we(r),", ").concat(Me(r)));if(n&&!qt(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(we(n),", ").concat(Me(n)));if(a!==void 0&&a!==!1){var u=a===!0,f=typeof a=="number"&&isFinite(a)&&a>=0;if(!u&&!f)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(we(a),", ").concat(Me(a)))}}function qt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}const jn={light:"mdi:lightbulb",switch:"mdi:power-plug",cover:"mdi:window-closed",climate:"mdi:thermometer",media_player:"mdi:music",sensor:"mdi:gauge",binary_sensor:"mdi:circle-outline",lock:"mdi:lock",weather:"mdi:weather-partly-cloudy",script:"mdi:script-text-outline",input_boolean:"mdi:toggle-switch"};function Yn(e){return jn[e]||"mdi:help-circle"}function gt(e){const t=new IntersectionObserver(r=>{r[0].isIntersecting&&(e.dispatchEvent(new CustomEvent("enter")),t.disconnect())},{rootMargin:"100px",threshold:0});return t.observe(e),{destroy(){t.disconnect()}}}var Vn=W('<div class="skeleton svelte-vmg48c"></div>'),Kn=W('<div class="attribute svelte-vmg48c"> </div>'),Xn=W("<button> </button>"),qn=W('<div class="error svelte-vmg48c"> </div>'),Jn=W('<div class="card-header svelte-vmg48c"><div class="icon svelte-vmg48c"><iconify-icon></iconify-icon></div> <div class="name svelte-vmg48c"> </div></div> <div class="card-body svelte-vmg48c"><div class="state-display svelte-vmg48c"><span class="state-text svelte-vmg48c"> </span></div> <!></div> <div class="card-footer svelte-vmg48c"><!></div> <!>',3),Qn=W('<div class="card svelte-vmg48c"><!></div>');function ea(e,t){It(t,!0);let r=Fe(!1),n=Fe(null),i=Fe(!1);async function a(){try{J(r,!0),J(n,null),await Cr(t.entity.entity_id)}catch(g){J(n,g.message||"Failed to toggle",!0)}finally{J(r,!1)}}function o(){J(i,!0)}let l=Ne(()=>xr(t.entity.entity_id)),u=Ne(()=>t.entity.attributes.friendly_name||t.entity.entity_id),f=Ne(()=>t.entity.state==="on"||t.entity.state==="open"||t.entity.state==="unlocked"),d=Ne(()=>["light","switch","cover","lock","input_boolean","script"].includes(_(l))),m=Ne(()=>Yn(_(l)));var s=Qn(),v=C(s);{var c=g=>{var p=Vn();N(g,p)},h=g=>{var p=Jn(),y=ht(p),D=C(y),E=C(D);se(()=>ye(E,"icon",_(m))),ye(E,"width","24"),ye(E,"height","24"),Ke(E,1,"svelte-vmg48c"),A(D);var b=_e(D,2),ne=C(b,!0);A(b),A(y);var ee=_e(y,2),te=C(ee),ae=C(te),fe=C(ae,!0);A(ae),A(te);var ve=_e(te,2);{var V=H=>{var M=Kn(),oe=C(M);A(M),se(be=>pe(oe,`${be??""}%`),[()=>Math.round(t.entity.attributes.brightness/255*100)]),N(H,M)};re(ve,H=>{t.entity.attributes.brightness!==void 0&&H(V)})}A(ee);var ie=_e(ee,2),ge=C(ie);{var Ce=H=>{var M=Xn();M.__click=a;let oe;var be=C(M,!0);A(M),se(()=>{M.disabled=_(r),oe=Ke(M,1,"toggle-btn svelte-vmg48c",null,oe,{on:_(f)}),pe(be,_(r)?"...":_(f)?"Off":"On")}),N(H,M)};re(ge,H=>{_(d)&&H(Ce)})}A(ie);var Ee=_e(ie,2);{var x=H=>{var M=qn(),oe=C(M,!0);A(M),se(()=>pe(oe,_(n))),N(H,M)};re(Ee,H=>{_(n)&&H(x)})}se(()=>{ct(b,"title",_(u)),pe(ne,_(u)),pe(fe,t.entity.state)}),N(g,p)};re(v,g=>{_(i)?g(h,!1):g(c)})}A(s),Qt(s,g=>gt==null?void 0:gt(g)),se(()=>{ct(s,"data-domain",_(l)),ct(s,"data-state",_(f)?"on":"off")}),mt("enter",s,o),N(e,s),St()}yr(["click"]);var ta=W('<div class="empty-state svelte-wf2j5s"><!></div>'),ra=W('<div class="grid-item svelte-wf2j5s"><!></div>'),na=W('<div class="grid svelte-wf2j5s"></div>'),aa=W('<div class="dashboard-grid svelte-wf2j5s"><!></div>');function ia(e,t){It(t,!0);const r=()=>pt(Rr,"$selectVisibleDashboardCards",i),n=()=>pt(Nr,"$activeTabId",i),[i,a]=Jt();let o=Fe(Or([])),l=Fe(!1);const u=200;Ar(()=>{_(l)||J(o,r(),!0)});function f(h){J(o,h.detail.items,!0),J(l,!0)}function d(h){if(J(o,h.detail.items,!0),J(l,!1),n()==="home"){const g=_(o).map(p=>p.id);Sr(g)}}var m=aa(),s=C(m);{var v=h=>{var g=ta(),p=C(g);{var y=E=>{var b=kt("No dashboard devices found.");N(E,b)},D=E=>{var b=kt();se(ne=>pe(b,`No devices found for "${ne??""}".`),[()=>n().replace("_"," ")]),N(E,b)};re(p,E=>{n()==="home"?E(y):E(D,!1)})}A(g),N(h,g)},c=h=>{var g=na();Ir(g,21,()=>_(o),p=>p.id,(p,y)=>{var D=ra(),E=C(D);ea(E,{get entity(){return _(y)}}),A(D),N(p,D)}),A(g),Qt(g,(p,y)=>vt==null?void 0:vt(p,y),()=>({items:_(o),flipDurationMs:u,dropTargetStyle:{outline:"2px dashed var(--accent-primary)",outlineOffset:"-2px",borderRadius:"12px"},dragDisabled:n()!=="home"})),mt("consider",g,f),mt("finalize",g,d),N(h,g)};re(s,h=>{_(o).length===0?h(v):h(c,!1)})}A(m),N(e,m),St(),a()}var oa=W('<div class="status-message svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Connecting to Home Assistant...</p></div>'),sa=W('<div class="status-message error svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Connection Error</h3> <p class="svelte-1uha8ag"> </p> <a href="/settings" class="btn svelte-1uha8ag">Check Settings</a></div>',2),da=W('<div class="status-message warning svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Not Connected</h3> <p class="svelte-1uha8ag">Please configure your server connection in Settings.</p> <a href="/settings" class="btn svelte-1uha8ag">Go to Settings</a></div>',2),la=W('<div class="dashboard-page svelte-1uha8ag"><!></div>');function pa(e,t){It(t,!1);const r=()=>pt(Mr,"$haStore",n),[n,i]=Jt();Dr();var a=la(),o=C(a);{var l=f=>{var d=oa();N(f,d)},u=f=>{var d=Gt(),m=ht(d);{var s=c=>{var h=sa(),g=C(h);ye(g,"icon","mdi:alert-circle"),ye(g,"width","48"),Ke(g,1,"svelte-1uha8ag");var p=_e(g,4),y=C(p,!0);A(p),zt(2),A(h),se(()=>pe(y,r().error)),N(c,h)},v=c=>{var h=Gt(),g=ht(h);{var p=D=>{var E=da(),b=C(E);ye(b,"icon","mdi:lan-disconnect"),ye(b,"width","48"),Ke(b,1,"svelte-1uha8ag"),zt(6),A(E),N(D,E)},y=D=>{ia(D,{})};re(g,D=>{r().isConnected?D(y,!1):D(p)},!0)}N(c,h)};re(m,c=>{r().error?c(s):c(v,!1)},!0)}N(f,d)};re(o,f=>{r().isLoading?f(l):f(u,!1)})}A(a),N(e,a),St(),i()}export{pa as component};
