import{d as yr,f as B,e as ht,a as R,s as pe,t as Gt,c as zt}from"../chunks/Ce4_kbAy.js";import{i as Dr}from"../chunks/D91iyqOG.js";import{n as Er,u as br,r as Tr,y as _r,aU as wr,B as It,a as S,N as Te,G as M,C as Le,J as C,H as le,I as St,s as te,M as pt,F as _e,c as Or,v as Ar,K as Ut}from"../chunks/CM9YBULs.js";import{i as se,a as xt,s as Ve}from"../chunks/BlMTQ3nd.js";import{d as Ht,f as Ir,g as ye,$ as Sr,e as xr,j as Cr,h as Rr}from"../chunks/3QiWljis.js";import{s as Ke}from"../chunks/9tXmumpb.js";import{e as Nr,a as Mr,b as Lr}from"../chunks/TQTxLml0.js";function er(e,t,r){Er(()=>{var n=br(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,a={};Tr(()=>{var o=r();_r(o),i&&wr(a,o)&&(a=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wt(Object(r),!0).forEach(function(n){Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(e)}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Fr(e,t){if(e==null)return{};var r=Pr(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kr(e,t){return zr(e)||Hr(e,t)||Ct(e,t)||Br()}function j(e){return Gr(e)||Ur(e)||Ct(e)||Wr()}function Gr(e){if(Array.isArray(e))return yt(e)}function zr(e){if(Array.isArray(e))return e}function Ur(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,l;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function Ct(e,t){if(e){if(typeof e=="string")return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(e,t)}}function yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Br(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ct(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,l=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var Zr="finalize",$r="consider";function Se(e,t,r){e.dispatchEvent(new CustomEvent(Zr,{detail:{items:t,info:r}}))}function ve(e,t,r){e.dispatchEvent(new CustomEvent($r,{detail:{items:t,info:r}}))}var nt="draggedEntered",Ue="draggedLeft",at="draggedOverIndex",Rt="draggedLeftDocument",qe={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function jr(e,t,r){e.dispatchEvent(new CustomEvent(nt,{detail:{indexObj:t,draggedEl:r}}))}function Yr(e,t,r){e.dispatchEvent(new CustomEvent(Ue,{detail:{draggedEl:t,type:qe.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Vr(e,t){e.dispatchEvent(new CustomEvent(Ue,{detail:{draggedEl:t,type:qe.OUTSIDE_OF_ANY}}))}function Kr(e,t,r){e.dispatchEvent(new CustomEvent(at,{detail:{indexObj:t,draggedEl:r}}))}function Xr(e){window.dispatchEvent(new CustomEvent(Rt,{detail:{draggedEl:e}}))}var G={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:nt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:at,DRAGGED_LEFT:Ue,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},W={POINTER:"pointer",KEYBOARD:"keyboard"},it="isDndShadowItem",ot="data-is-dnd-shadow-item-internal",qr="data-is-dnd-shadow-item-hint",tr="id:dnd-shadow-placeholder-0000",Jr="dnd-action-dragged-el",A="id",Dt=0;function rr(){Dt++}function nr(){if(Dt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Dt--}var Nt=typeof window>"u";function Et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?tn(e):e.getBoundingClientRect(),i=getComputedStyle(e),a=i.transform;if(a){var o,l,u,v;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],l=+r[5],u=+r[12],v=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],l=+r[3],u=+r[4],v=+r[5];else return n;var s=i.transformOrigin,m=n.x-u-(1-o)*parseFloat(s),d=n.y-v-(1-l)*parseFloat(s.slice(s.indexOf(" ")+1)),f=o?n.width/o:e.offsetWidth,c=l?n.height/l:e.offsetHeight;return{x:m,y:d,width:f,height:c,top:d,right:m+f,bottom:d+c,left:m}}else return n}function bt(e){var t=Et(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ar(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ir(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Qr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Pe(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function or(e){return ir(ar(e))}function Bt(e,t){var r=or(t);return Qr(e,r)}function en(e){var t=ar(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function tn(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,i=!1,a=e.parentElement;a&&a!==document.body;){var o=window.getComputedStyle(a),l=o.overflowY,u=o.overflowX,v=l==="scroll"||l==="auto",s=u==="scroll"||u==="auto";if(v||s){var m=a.getBoundingClientRect();if(v){var d=Math.max(r.top,m.top),f=Math.min(r.bottom,m.bottom);(d!==r.top||f!==r.bottom)&&(n=!0),r.top=d,r.bottom=f}if(s){var c=Math.max(r.left,m.left),h=Math.min(r.right,m.right);(c!==r.left||h!==r.right)&&(i=!0),r.left=c,r.right=h}}a=a.parentElement}return n||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Oe;function Mt(){Oe=new Map}Mt();function rn(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(ot)});if(t>=0)return Oe.has(e)||Oe.set(e,new Map),Oe.get(e).set(t,bt(e.children[t])),t}function nn(e,t){var r=bt(t);if(!Pe(e,r))return null;var n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var i=rn(t),a=0;a<n.length;a++){var o=bt(n[a]);if(Pe(e,o)){var l=Oe.has(t)&&Oe.get(t).get(a);return l&&!Pe(e,l)?{index:i,isProximityBased:!1}:{index:a,isProximityBased:!1}}}for(var u=Number.MAX_VALUE,v=void 0,s=0;s<n.length;s++){var m=Bt(e,n[s]);m<u&&(u=m,v=s)}if(n.length>0){var d=n.length,f=n[d-1],c=f.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",t.appendChild(c);var h=Bt(e,c);h<u&&(v=d),t.removeChild(c)}return{index:v,isProximityBased:!0}}function Re(e){return JSON.stringify(e,null,2)}function Je(e){if(!e)throw new Error("cannot get depth of a falsy node");return sr(e,0)}function sr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?sr(e.parentElement,t+1):t-1}function an(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function on(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var sn=200,Zt=10,Tt;function dn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sn,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a,o,l=!1,u,v=Array.from(t).sort(function(m,d){return Je(d)-Je(m)});function s(){var m=i(),d=n.multiScrollIfNeeded();if(!d&&u&&Math.abs(u.x-m.x)<Zt&&Math.abs(u.y-m.y)<Zt){Tt=window.setTimeout(s,r);return}if(en(e)){Xr(e);return}u=m;var f=!1,c=ze(v),h;try{for(c.s();!(h=c.n()).done;){var g=h.value;d&&Mt();var p=nn(m,g);if(p!==null){var D=p.index;f=!0,g!==a?(a&&Yr(a,e,g),jr(g,p,e),a=g):D!==o&&(Kr(g,p,e),o=D);break}}}catch(E){c.e(E)}finally{c.f()}!f&&l&&a?(Vr(a,e),a=void 0,o=void 0,l=!1):l=!0,Tt=window.setTimeout(s,r)}s()}function ln(){clearTimeout(Tt),Mt()}var Ne=30;function un(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var o=e,l=o.directionObj,u=o.stepPx;l&&(a.scrollBy(l.x*u,l.y*u),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return Ne-a}function i(a,o){if(!o)return!1;var l=cn(a,o),u=!!e.directionObj;if(l===null)return u&&t(),!1;var v=!1,s=!1;return o.scrollHeight>o.clientHeight&&(l.bottom<Ne?(v=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<Ne&&(v=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!u&&v)||o.scrollWidth>o.clientWidth&&(l.right<Ne?(s=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<Ne&&(s=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!u&&s)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function cn(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Pe(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function fn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=gn(e),n=Array.from(r).sort(function(u,v){return Je(v)-Je(u)}),i=un(),a=i.scrollIfNeeded,o=i.resetScrolling;function l(){var u=t();if(!u||!n)return!1;for(var v=n.filter(function(d){return Pe(u,d.getBoundingClientRect())||d===document.scrollingElement}),s=0;s<v.length;s++){var m=a(u,v[s]);if(m)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return o()}}}function vn(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function gn(e){var t=new Set,r=ze(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;vn(i).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function mn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:j(e.querySelectorAll("select")),a=ze(i),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;r.push(l.value)}}catch(E){a.e(E)}finally{a.f()}if(i.length>0)for(var u=n?[t]:j(t.querySelectorAll("select")),v=0;v<u.length;v++){var s=u[v],m=r[v],d=s.querySelector('option[value="'.concat(m,'"'));d&&d.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",c=f?[e]:j(e.querySelectorAll("canvas"));if(c.length>0)for(var h=f?[t]:j(t.querySelectorAll("canvas")),g=0;g<h.length;g++){var p=c[g],D=h[g];D.width=p.width,D.height=p.height,p.width>0&&p.height>0&&D.getContext("2d").drawImage(p,0,0)}return t}var ke=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),hn=Ie({},ke.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function dr(e){if(!ke[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(ke)));return hn[e]}var pn=.2;function me(e){return"".concat(e," ").concat(pn,"s ease")}function yn(e,t){var r=e.getBoundingClientRect(),n=mn(e);lr(e,n),n.id=Jr,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),t){var o=ir(r);i-=o.y-t.y,a-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(me("top"),", ").concat(me("left"),", ").concat(me("background-color"),", ").concat(me("opacity"),", ").concat(me("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(me("width"),", ").concat(me("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Dn(e){e.style.cursor="grab"}function En(e,t,r,n){lr(t,e);var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=i.width-a.width,l=i.height-a.height;if(o||l){var u={left:(r-a.left)/a.width,top:(n-a.top)/a.height};dr(ke.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*l,"px")}}function lr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||dr(ke.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function bn(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function ur(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Tn(e){e.style.visibility="hidden",e.setAttribute(ot,"true")}function _n(e){e.style.visibility="",e.removeAttribute(ot)}function je(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function wn(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var On="--any--",An=100,In=20,Ze=3,Sn=80,$t={outline:"rgba(255, 255, 102, 0.7) solid 2px"},jt="data-is-dnd-original-dragged-item",U,O,H,st,b,dt,fe,P,Q,x,ue=!1,Lt=!1,Pt,He=!1,Ye=[],Fe,ee,Me=!1,Ft=!1,K=new Map,_=new Map,vt=new WeakMap;function xn(e,t){K.has(t)||K.set(t,new Set),K.get(t).has(e)||(K.get(t).add(e),rr())}function Yt(e,t){K.get(t).delete(e),nr(),K.get(t).size===0&&K.delete(t)}function Cn(){var e=K.get(st),t=ze(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(nt,cr),n.addEventListener(Ue,fr),n.addEventListener(at,vr)}}catch(l){t.e(l)}finally{t.f()}window.addEventListener(Rt,xe);var i=Math.max.apply(Math,j(Array.from(e.keys()).map(function(l){return _.get(l).dropAnimationDurationMs}))),a=i===0?In:Math.max(i,An);Fe=fn(e,function(){return x});var o=Ft?function(){return{x:x.x+window.scrollX,y:x.y+window.scrollY}}:function(){return or(O)};dn(O,e,a*1.07,Fe,o)}function Rn(){var e=K.get(st),t=ze(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(nt,cr),n.removeEventListener(Ue,fr),n.removeEventListener(at,vr)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(Rt,xe),Fe&&(Fe.destroy(),Fe=void 0),ln()}function lt(e){return e.findIndex(function(t){return!!t[it]})}function Nn(e){var t;return Xe(Xe({},e),{},(t={},Ie(t,it,!0),Ie(t,A,tr),t))}function cr(e){var t=_.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==b)){if(He=!1,r=r.filter(function(l){return l[A]!==fe[A]&&l[A]!==tr}),b!==e.currentTarget){var i=_.get(b).items,a=i.filter(function(l){return!l[it]});ve(b,a,{trigger:G.DRAGGED_ENTERED_ANOTHER,id:H[A],source:W.POINTER})}var o=e.detail.indexObj.index;P=e.currentTarget,r.splice(o,0,fe),ve(e.currentTarget,r,{trigger:G.DRAGGED_ENTERED,id:H[A],source:W.POINTER})}}function fr(e){if(ue){var t=_.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==b&&e.currentTarget!==P)){var i=j(r),a=lt(i);a!==-1&&i.splice(a,1);var o=P;P=void 0;var l=e.detail,u=l.type,v=l.theOtherDz;if(u===qe.OUTSIDE_OF_ANY||u===qe.LEFT_FOR_ANOTHER&&v!==b&&_.get(v).dropFromOthersDisabled){He=!0,P=b;var s=o===b?i:j(_.get(b).items);s.splice(dt,0,fe),ve(b,s,{trigger:G.DRAGGED_LEFT_ALL,id:H[A],source:W.POINTER})}ve(e.currentTarget,i,{trigger:G.DRAGGED_LEFT,id:H[A],source:W.POINTER})}}}function vr(e){var t=_.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==b)){var i=j(r);He=!1;var a=e.detail.indexObj.index,o=lt(i);o!==-1&&i.splice(o,1),i.splice(a,0,fe),ve(e.currentTarget,i,{trigger:G.DRAGGED_OVER_INDEX,id:H[A],source:W.POINTER})}}function et(e){e.preventDefault();var t=e.touches?e.touches[0]:e;x={x:t.clientX,y:t.clientY},O.style.transform="translate3d(".concat(x.x-Q.x,"px, ").concat(x.y-Q.y,"px, 0)")}function xe(){Lt=!0,window.removeEventListener("mousemove",et),window.removeEventListener("touchmove",et),window.removeEventListener("mouseup",xe),window.removeEventListener("touchend",xe),Rn(),Dn(O),P||(P=b);var e=_.get(P),t=e.items,r=e.type;Qe(K.get(r),function(a){return _.get(a).dropTargetStyle},function(a){return _.get(a).dropTargetClasses});var n=lt(t);n===-1&&P===b&&(n=dt),t=t.map(function(a){return a[it]?H:a});function i(){Pt(),Se(P,t,{trigger:He?G.DROPPED_OUTSIDE_OF_ANY:G.DROPPED_INTO_ZONE,id:H[A],source:W.POINTER}),P!==b&&Se(b,_.get(b).items,{trigger:G.DROPPED_INTO_ANOTHER,id:H[A],source:W.POINTER});var a=Array.from(P.children).find(function(o){return o.getAttribute(ot)});a&&_n(a),Pn()}_.get(P).dropAnimationDisabled?i():Mn(n,i)}function Mn(e,t){var r=e>-1?Et(P.children[e],!1):Et(P,!1),n={x:r.left-parseFloat(O.style.left),y:r.top-parseFloat(O.style.top)},i=_.get(P),a=i.dropAnimationDurationMs,o="transform ".concat(a,"ms ease");O.style.transition=O.style.transition?O.style.transition+","+o:o,O.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function Ln(e,t){Ye.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){ur(e),document.body.appendChild(e)})}function Pn(){O&&O.remove&&O.remove(),U&&U.remove&&U.remove(),O=void 0,U=void 0,H=void 0,st=void 0,b=void 0,dt=void 0,fe=void 0,P=void 0,Q=void 0,x=void 0,ue=!1,Lt=!1,Pt=void 0,He=!1,ee&&clearTimeout(ee),ee=void 0,Me=!1,Ft=!1,Ye.length&&(Ye.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),Ye=[])}function Fn(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:$t,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,useCursorForDetection:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function a(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function o(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l),ee&&(clearTimeout(ee),ee=void 0,Me=!1)}function l(d){if(o(),U=void 0,Q=void 0,x=void 0,d.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});d.target.dispatchEvent(f)}}function u(d){var f=!!d.touches,c=f?d.touches[0]:d;if(f&&n.delayTouchStartMs>0&&!Me){x={x:c.clientX,y:c.clientY},(Math.abs(x.x-Q.x)>=Ze||Math.abs(x.y-Q.y)>=Ze)&&(ee&&(clearTimeout(ee),ee=void 0),l(d));return}d.preventDefault(),x={x:c.clientX,y:c.clientY},(Math.abs(x.x-Q.x)>=Ze||Math.abs(x.y-Q.y)>=Ze)&&(o(),s())}function v(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!ue){var f=!!d.touches,c=f&&n.delayTouchStartMs>0;c||d.preventDefault(),d.stopPropagation();var h=f?d.touches[0]:d;Q={x:h.clientX,y:h.clientY},x=Xe({},Q),U=d.currentTarget,c&&(Me=!1,ee=window.setTimeout(function(){U&&(Me=!0,o(),s())},n.delayTouchStartMs)),a()}}function s(){ue=!0;var d=i.get(U);dt=d,b=U.parentElement;var f=b.closest("dialog")||b.closest("[popover]")||b.getRootNode(),c=f.body||f,h=n.items,g=n.type,p=n.centreDraggedOnCursor,D=n.useCursorForDetection,E=j(h);H=E[d],st=g,fe=Nn(H),Ft=D,O=yn(U,p&&x),c.appendChild(O);function T(){U.parentElement?window.requestAnimationFrame(T):(U.setAttribute(jt,!0),c.appendChild(U),Cn(),ur(U),fe[A]=H[A],O.focus())}window.requestAnimationFrame(T),je(Array.from(K.get(n.type)).filter(function(y){return y===b||!_.get(y).dropFromOthersDisabled}),function(y){return _.get(y).dropTargetStyle},function(y){return _.get(y).dropTargetClasses}),E.splice(d,1,fe),Pt=wn(b),ve(b,E,{trigger:G.DRAG_STARTED,id:H[A],source:W.POINTER}),window.addEventListener("mousemove",et,{passive:!1}),window.addEventListener("touchmove",et,{passive:!1,capture:!1}),window.addEventListener("mouseup",xe,{passive:!1}),window.addEventListener("touchend",xe,{passive:!1})}function m(d){var f=d.items,c=f===void 0?void 0:f,h=d.flipDurationMs,g=h===void 0?0:h,p=d.type,D=p===void 0?On:p,E=d.dragDisabled,T=E===void 0?!1:E,y=d.morphDisabled,z=y===void 0?!1:y,ne=d.dropFromOthersDisabled,ae=ne===void 0?!1:ne,X=d.dropTargetStyle,ie=X===void 0?$t:X,ge=d.dropTargetClasses,Z=ge===void 0?[]:ge,de=d.transformDraggedElement,oe=de===void 0?function(){}:de,Ce=d.centreDraggedOnCursor,Ee=Ce===void 0?!1:Ce,I=d.useCursorForDetection,ut=I===void 0?!1:I,We=d.dropAnimationDisabled,ct=We===void 0?!1:We,Be=d.delayTouchStart,N=Be===void 0?!1:Be;n.dropAnimationDurationMs=g;var k=0;N===!0?k=Sn:typeof N=="number"&&isFinite(N)&&N>=0&&(k=N),n.delayTouchStartMs=k,n.type&&D!==n.type&&Yt(e,n.type),n.type=D,n.items=j(c),n.dragDisabled=T,n.morphDisabled=z,n.transformDraggedElement=oe,n.centreDraggedOnCursor=Ee,n.useCursorForDetection=ut,n.dropAnimationDisabled=ct,r&&ue&&!Lt&&(!an(ie,n.dropTargetStyle)||!on(Z,n.dropTargetClasses))&&(Qe([e],function(){return n.dropTargetStyle},function(){return Z}),je([e],function(){return ie},function(){return Z})),n.dropTargetStyle=ie,n.dropTargetClasses=j(Z);function q(J,kt){return _.get(J)?_.get(J)[kt]:n[kt]}r&&ue&&n.dropFromOthersDisabled!==ae&&(ae?Qe([e],function(J){return q(J,"dropTargetStyle")},function(J){return q(J,"dropTargetClasses")}):je([e],function(J){return q(J,"dropTargetStyle")},function(J){return q(J,"dropTargetClasses")})),n.dropFromOthersDisabled=ae,_.set(e,n),xn(e,D);for(var ft=ue?lt(n.items):-1,be=0;be<e.children.length;be++){var Y=e.children[be];if(bn(Y,T),be===ft){z||En(O,Y,x.x,x.y),n.transformDraggedElement(O,H,be),Tn(Y);continue}Y.removeEventListener("mousedown",vt.get(Y)),Y.removeEventListener("touchstart",vt.get(Y)),T||(Y.addEventListener("mousedown",v),Y.addEventListener("touchstart",v),vt.set(Y,v)),i.set(Y,be),r||(r=!0)}}return m(t),{update:function(f){m(f)},destroy:function(){function f(){Yt(e,_.get(e).type),_.delete(e)}ue&&!e.closest("[".concat(jt,"]"))?Ln(e,f):f()}}}var $e,_t={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},gr=($e={},Ie($e,_t.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ie($e,_t.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),$e),kn="dnd-action-aria-alert",w;function wt(){w||(w=document.createElement("div"),function(){w.id=kn,w.style.position="fixed",w.style.bottom="0",w.style.left="0",w.style.zIndex="-5",w.style.opacity="0",w.style.height="0",w.style.width="0",w.setAttribute("role","alert")}(),document.body.prepend(w),Object.entries(gr).forEach(function(e){var t=kr(e,2),r=t[0],n=t[1];return document.body.prepend(Un(r,n))}))}function Gn(){return Nt?null:(document.readyState==="complete"?wt():window.addEventListener("DOMContentLoaded",wt),Xe({},_t))}function zn(){Nt||!w||(Object.keys(gr).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),w.remove(),w=void 0)}function Un(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ae(e){if(!Nt){w||wt(),w.innerHTML="";var t=document.createTextNode(e);w.appendChild(t),w.style.display="none",w.style.display="inline"}}var Hn="--any--",Vt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},$=!1,Ot,F,De="",he,re,ce="",tt=new WeakSet,Kt=new WeakMap,Xt=new WeakMap,At=new Map,L=new Map,V=new Map,rt;function Wn(e,t){V.size===0&&(rt=Gn(),window.addEventListener("keydown",mr),window.addEventListener("click",hr)),V.has(t)||V.set(t,new Set),V.get(t).has(e)||(V.get(t).add(e),rr())}function qt(e,t){F===e&&Ge(),V.get(t).delete(e),nr(),V.get(t).size===0&&V.delete(t),V.size===0&&(window.removeEventListener("keydown",mr),window.removeEventListener("click",hr),rt=void 0,zn())}function mr(e){if($)switch(e.key){case"Escape":{Ge();break}}}function hr(){$&&(tt.has(document.activeElement)||Ge())}function Bn(e){if($){var t=e.currentTarget;if(t!==F){De=t.getAttribute("aria-label")||"";var r=L.get(F),n=r.items,i=n.find(function(m){return m[A]===re}),a=n.indexOf(i),o=n.splice(a,1)[0],l=L.get(t),u=l.items,v=l.autoAriaDisabled;t.getBoundingClientRect().top<F.getBoundingClientRect().top||t.getBoundingClientRect().left<F.getBoundingClientRect().left?(u.push(o),v||Ae("Moved item ".concat(ce," to the end of the list ").concat(De))):(u.unshift(o),v||Ae("Moved item ".concat(ce," to the beginning of the list ").concat(De)));var s=F;Se(s,n,{trigger:G.DROPPED_INTO_ANOTHER,id:re,source:W.KEYBOARD}),Se(t,u,{trigger:G.DROPPED_INTO_ZONE,id:re,source:W.KEYBOARD}),F=t}}}function pr(){At.forEach(function(e,t){var r=e.update;return r(L.get(t))})}function Ge(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;L.get(F).autoAriaDisabled||Ae("Stopped dragging item ".concat(ce)),tt.has(document.activeElement)&&document.activeElement.blur(),e&&ve(F,L.get(F).items,{trigger:G.DRAG_STOPPED,id:re,source:W.KEYBOARD}),Qe(V.get(Ot),function(t){return L.get(t).dropTargetStyle},function(t){return L.get(t).dropTargetClasses}),he=null,re=null,ce="",Ot=null,F=null,De="",$=!1,pr()}function Zn(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Vt,dropTargetClasses:[],autoAriaDisabled:!1};function n(s,m,d){s.length<=1||s.splice(d,1,s.splice(m,1,s[d])[0])}function i(s){switch(s.key){case"Enter":case" ":{if((s.target.disabled!==void 0||s.target.href||s.target.isContentEditable)&&!tt.has(s.target))return;s.preventDefault(),s.stopPropagation(),$?Ge():a(s);break}case"ArrowDown":case"ArrowRight":{if(!$)return;s.preventDefault(),s.stopPropagation();var m=L.get(e),d=m.items,f=Array.from(e.children),c=f.indexOf(s.currentTarget);c<f.length-1&&(r.autoAriaDisabled||Ae("Moved item ".concat(ce," to position ").concat(c+2," in the list ").concat(De)),n(d,c,c+1),Se(e,d,{trigger:G.DROPPED_INTO_ZONE,id:re,source:W.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!$)return;s.preventDefault(),s.stopPropagation();var h=L.get(e),g=h.items,p=Array.from(e.children),D=p.indexOf(s.currentTarget);D>0&&(r.autoAriaDisabled||Ae("Moved item ".concat(ce," to position ").concat(D," in the list ").concat(De)),n(g,D,D-1),Se(e,g,{trigger:G.DROPPED_INTO_ZONE,id:re,source:W.KEYBOARD}));break}}}function a(s){l(s.currentTarget),F=e,Ot=r.type,$=!0;var m=Array.from(V.get(r.type)).filter(function(f){return f===F||!L.get(f).dropFromOthersDisabled});if(je(m,function(f){return L.get(f).dropTargetStyle},function(f){return L.get(f).dropTargetClasses}),!r.autoAriaDisabled){var d="Started dragging item ".concat(ce,". Use the arrow keys to move it within its list ").concat(De);m.length>1&&(d+=", or tab to another list in order to move the item into it"),Ae(d)}ve(e,L.get(e).items,{trigger:G.DRAG_STARTED,id:re,source:W.KEYBOARD}),pr()}function o(s){$&&s.currentTarget!==he&&(s.stopPropagation(),Ge(!1),a(s))}function l(s){var m=L.get(e),d=m.items,f=Array.from(e.children),c=f.indexOf(s);he=s,he.tabIndex=r.zoneItemTabIndex,re=d[c][A],ce=f[c].getAttribute("aria-label")||""}function u(s){var m=s.items,d=m===void 0?[]:m,f=s.type,c=f===void 0?Hn:f,h=s.dragDisabled,g=h===void 0?!1:h,p=s.zoneTabIndex,D=p===void 0?0:p,E=s.zoneItemTabIndex,T=E===void 0?0:E,y=s.dropFromOthersDisabled,z=y===void 0?!1:y,ne=s.dropTargetStyle,ae=ne===void 0?Vt:ne,X=s.dropTargetClasses,ie=X===void 0?[]:X,ge=s.autoAriaDisabled,Z=ge===void 0?!1:ge;r.items=j(d),r.dragDisabled=g,r.dropFromOthersDisabled=z,r.zoneTabIndex=D,r.zoneItemTabIndex=T,r.dropTargetStyle=ae,r.dropTargetClasses=ie,r.autoAriaDisabled=Z,r.type&&c!==r.type&&qt(e,r.type),r.type=c,Wn(e,c),Z||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",g?rt.DND_ZONE_DRAG_DISABLED:rt.DND_ZONE_ACTIVE)),L.set(e,r),$?e.tabIndex=e===F||he.contains(e)||r.dropFromOthersDisabled||F&&r.type!==L.get(F).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Bn);for(var de=function(Ee){var I=e.children[Ee];tt.add(I),I.tabIndex=$?-1:r.zoneItemTabIndex,Z||I.setAttribute("role","listitem"),I.removeEventListener("keydown",Kt.get(I)),I.removeEventListener("click",Xt.get(I)),g||(I.addEventListener("keydown",i),Kt.set(I,i),I.addEventListener("click",o),Xt.set(I,o)),$&&r.items[Ee][A]===re&&(he=I,he.tabIndex=r.zoneItemTabIndex,I.focus())},oe=0;oe<e.children.length;oe++)de(oe)}u(t);var v={update:function(m){u(m)},destroy:function(){qt(e,r.type),L.delete(e),At.delete(e)}};return At.set(e,v),v}var $n=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","useCursorForDetection","delayTouchStart","dropAnimationDisabled"];function gt(e,t){if(jn(e))return{update:function(){},destroy:function(){}};Jt(t);var r=Fn(e,t),n=Zn(e,t);return{update:function(a){Jt(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function jn(e){return!!e.closest("[".concat(qr,'="true"]'))}function Jt(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.useCursorForDetection;var a=e.delayTouchStart;e.dropAnimationDisabled;var o=Fr(e,$n);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var l=t.find(function(s){return!{}.hasOwnProperty.call(s,A)});if(l)throw new Error("missing '".concat(A,"' property for item ").concat(Re(l)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(we(i),", ").concat(Re(i)));if(r&&!Qt(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(we(r),", ").concat(Re(r)));if(n&&!Qt(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(we(n),", ").concat(Re(n)));if(a!==void 0&&a!==!1){var u=a===!0,v=typeof a=="number"&&isFinite(a)&&a>=0;if(!u&&!v)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(we(a),", ").concat(Re(a)))}}function Qt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}const Yn={light:"mdi:lightbulb",switch:"mdi:power-plug",cover:"mdi:window-closed",climate:"mdi:thermometer",media_player:"mdi:music",sensor:"mdi:gauge",binary_sensor:"mdi:circle-outline",lock:"mdi:lock",weather:"mdi:weather-partly-cloudy",script:"mdi:script-text-outline",input_boolean:"mdi:toggle-switch"};function Vn(e){return Yn[e]||"mdi:help-circle"}function mt(e){const t=new IntersectionObserver(r=>{r[0].isIntersecting&&(e.dispatchEvent(new CustomEvent("enter")),t.disconnect())},{rootMargin:"100px",threshold:0});return t.observe(e),{destroy(){t.disconnect()}}}var Kn=B('<div class="skeleton svelte-vmg48c"></div>'),Xn=B('<span class="device-unit svelte-vmg48c"> </span>'),qn=B('<div class="attribute svelte-vmg48c"> </div>'),Jn=B('<div class="error svelte-vmg48c"> </div>'),Qn=B('<div class="card-header svelte-vmg48c"><div class="icon svelte-vmg48c"><iconify-icon></iconify-icon></div> <div class="device-name svelte-vmg48c"> </div></div> <div class="card-body svelte-vmg48c"><div class="state-container svelte-vmg48c"><span class="device-value svelte-vmg48c"> </span> <!></div> <!></div> <!>',3),ea=B("<div><!></div>");function ta(e,t){It(t,!0);const r=()=>Ve(Sr,"$t",n),[n,i]=xt();let a=Le(!1),o=Le(null),l=Le(!1);async function u(){try{te(a,!0),te(o,null),await Ir(t.entity.entity_id)}catch(y){te(o,y.message||"Failed to toggle",!0)}finally{te(a,!1)}}function v(){te(l,!0)}let s=Te(()=>Nr(t.entity.entity_id)),m=Te(()=>t.entity.attributes.friendly_name||t.entity.entity_id),d=Te(()=>t.entity.state==="on"||t.entity.state==="open"||t.entity.state==="unlocked"),f=Te(()=>["light","switch","cover","lock","input_boolean","script"].includes(S(s))),c=Te(()=>Vn(S(s))),h=Te(()=>t.entity.state==="on"?r()("common.on"):t.entity.state==="off"?r()("common.off"):t.entity.state);var g=ea();let p;g.__click=function(...y){var z;(z=S(f)?u:void 0)==null||z.apply(this,y)};var D=M(g);{var E=y=>{var z=Kn();R(y,z)},T=y=>{var z=Qn(),ne=pt(z),ae=M(ne),X=M(ae);le(()=>ye(X,"icon",S(c))),ye(X,"width","24"),ye(X,"height","24"),Ke(X,1,"svelte-vmg48c"),C(ae);var ie=_e(ae,2),ge=M(ie,!0);C(ie),C(ne);var Z=_e(ne,2),de=M(Z),oe=M(de),Ce=M(oe,!0);C(oe);var Ee=_e(oe,2);{var I=N=>{var k=Xn(),q=M(k,!0);C(k),le(()=>pe(q,t.entity.attributes.unit_of_measurement)),R(N,k)};se(Ee,N=>{t.entity.attributes.unit_of_measurement&&N(I)})}C(de);var ut=_e(de,2);{var We=N=>{var k=qn(),q=M(k);C(k),le(ft=>pe(q,`${ft??""}%`),[()=>Math.round(t.entity.attributes.brightness/255*100)]),R(N,k)};se(ut,N=>{t.entity.attributes.brightness!==void 0&&N(We)})}C(Z);var ct=_e(Z,2);{var Be=N=>{var k=Jn(),q=M(k,!0);C(k),le(()=>pe(q,S(o))),R(N,k)};se(ct,N=>{S(o)&&N(Be)})}le(()=>{Ht(ie,"title",S(m)),pe(ge,S(m)),pe(Ce,S(h))}),R(y,z)};se(D,y=>{S(l)?y(T,!1):y(E)})}C(g),er(g,y=>mt==null?void 0:mt(y)),le(()=>{p=Ke(g,1,"device-card svelte-vmg48c",null,p,{active:S(d)}),Ht(g,"data-domain",S(s))}),ht("enter",g,v),R(e,g),St(),i()}yr(["click"]);var ra=B('<div class="empty-state svelte-wf2j5s"><!></div>'),na=B('<div class="grid-item svelte-wf2j5s"><!></div>'),aa=B('<div class="grid svelte-wf2j5s"></div>'),ia=B('<div class="dashboard-grid svelte-wf2j5s"><!></div>');function oa(e,t){It(t,!0);const r=()=>Ve(Mr,"$selectVisibleDashboardCards",i),n=()=>Ve(Lr,"$activeTabId",i),[i,a]=xt();let o=Le(Or([])),l=Le(!1);const u=200;Ar(()=>{S(l)||te(o,r(),!0)});function v(h){te(o,h.detail.items,!0),te(l,!0)}function s(h){if(te(o,h.detail.items,!0),te(l,!1),n()==="home"){const g=S(o).map(p=>p.id);Cr(g)}}var m=ia(),d=M(m);{var f=h=>{var g=ra(),p=M(g);{var D=T=>{var y=Gt("No dashboard devices found.");R(T,y)},E=T=>{var y=Gt();le(z=>pe(y,`No devices found for "${z??""}".`),[()=>n().replace("_"," ")]),R(T,y)};se(p,T=>{n()==="home"?T(D):T(E,!1)})}C(g),R(h,g)},c=h=>{var g=aa();xr(g,21,()=>S(o),p=>p.id,(p,D)=>{var E=na(),T=M(E);ta(T,{get entity(){return S(D)}}),C(E),R(p,E)}),C(g),er(g,(p,D)=>gt==null?void 0:gt(p,D),()=>({items:S(o),flipDurationMs:u,dropTargetStyle:{outline:"2px dashed var(--accent-primary)",outlineOffset:"-2px",borderRadius:"12px"},dragDisabled:n()!=="home"})),ht("consider",g,v),ht("finalize",g,s),R(h,g)};se(d,h=>{S(o).length===0?h(f):h(c,!1)})}C(m),R(e,m),St(),a()}var sa=B('<div class="status-message svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Connecting to Home Assistant...</p></div>'),da=B('<div class="status-message error svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Connection Error</h3> <p class="svelte-1uha8ag"> </p> <a href="/settings" class="btn svelte-1uha8ag">Check Settings</a></div>',2),la=B('<div class="status-message warning svelte-1uha8ag"><iconify-icon></iconify-icon> <h3 class="svelte-1uha8ag">Not Connected</h3> <p class="svelte-1uha8ag">Please configure your server connection in Settings.</p> <a href="/settings" class="btn svelte-1uha8ag">Go to Settings</a></div>',2),ua=B('<div class="dashboard-page svelte-1uha8ag"><!></div>');function ya(e,t){It(t,!1);const r=()=>Ve(Rr,"$haStore",n),[n,i]=xt();Dr();var a=ua(),o=M(a);{var l=v=>{var s=sa();R(v,s)},u=v=>{var s=zt(),m=pt(s);{var d=c=>{var h=da(),g=M(h);ye(g,"icon","mdi:alert-circle"),ye(g,"width","48"),Ke(g,1,"svelte-1uha8ag");var p=_e(g,4),D=M(p,!0);C(p),Ut(2),C(h),le(()=>pe(D,r().error)),R(c,h)},f=c=>{var h=zt(),g=pt(h);{var p=E=>{var T=la(),y=M(T);ye(y,"icon","mdi:lan-disconnect"),ye(y,"width","48"),Ke(y,1,"svelte-1uha8ag"),Ut(6),C(T),R(E,T)},D=E=>{oa(E,{})};se(g,E=>{r().isConnected?E(D,!1):E(p)},!0)}R(c,h)};se(m,c=>{r().error?c(d):c(f,!1)},!0)}R(v,s)};se(o,v=>{r().isLoading?v(l):v(u,!1)})}C(a),R(e,a),St(),i()}export{ya as component};
