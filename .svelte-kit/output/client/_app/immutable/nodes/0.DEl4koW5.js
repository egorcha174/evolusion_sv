var rn=Object.defineProperty;var cn=(e,n,t)=>n in e?rn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var de=(e,n,t)=>cn(e,typeof n!="symbol"?n+"":n,t);import{b as ot,g as an,d as Ct,f as R,a as M,s as ve,e as ln,c as fn}from"../chunks/Bgs4iDMG.js";import{o as Qe}from"../chunks/DnxiJAd4.js";import{K as B,q as Q,a3 as st,e as un,b5 as dn,a8 as Oe,a9 as Tt,ap as Me,b4 as hn,b1 as pn,a7 as ze,as as Z,a2 as At,az as vn,ac as gn,b6 as mn,r as rt,aw as we,H as Ie,J as h,M as Se,s as S,a as T,O as ee,I as b,Q as d,R as L,a1 as Ue,b7 as yn,z as bn}from"../chunks/D78c_VIb.js";import{B as _n,i as he,a as Ve,s as te}from"../chunks/DcjxvNrN.js";import{t as wn,b as Y,a as In,d as Sn,e as xn}from"../chunks/7KTPuhQd.js";import{e as ct,i as kn,b as Cn,d as Tn}from"../chunks/DXSKJMQ0.js";import{b as w}from"../chunks/DLuiIGct.js";import"../chunks/ixup1LBQ.js";import{i as An}from"../chunks/DKxtpD5q.js";import{t as En,c as Pn}from"../chunks/CAosh53G.js";function jn(e,n,t=!1,o=!1,i=!1){var s=e,c="";B(()=>{var a=un;if(c===(c=n()??"")){Q&&st();return}if(a.nodes!==null&&(dn(a.nodes.start,a.nodes.end),a.nodes=null),c!==""){if(Q){Oe.data;for(var r=st(),l=r;r!==null&&(r.nodeType!==Tt||r.data!=="");)l=r,r=Me(r);if(r===null)throw hn(),pn;ot(Oe,l),s=ze(r);return}var f=c+"";t?f=`<svg>${f}</svg>`:o&&(f=`<math>${f}</math>`);var u=an(f);if((t||o)&&(u=Z(u)),ot(Z(u),u.lastChild),t||o)for(;Z(u);)s.before(Z(u));else s.before(u)}})}function On(e,n,...t){var o=new _n(e);At(()=>{const i=n()??null;o.ensure(i,i&&(s=>i(s,...t)))},vn)}function Mn(e,n){let t=null,o=Q;var i;if(Q){t=Oe;for(var s=Z(document.head);s!==null&&(s.nodeType!==Tt||s.data!==e);)s=Me(s);if(s===null)rt(!1);else{var c=Me(s);s.remove(),ze(c)}}Q||(i=document.head.appendChild(gn()));try{At(()=>n(i),mn)}finally{o&&(rt(!0),ze(t))}}function zn(e,n,t,o){var i=e.__style;if(Q||i!==n){var s=wn(n);(!Q||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=n}return o}const Ke=we(320),Et="evolusion.infoPanel.width";function $n(){try{const e=localStorage.getItem(Et);if(e){const n=parseInt(e,10);!isNaN(n)&&n>=280&&n<=500&&Ke.set(n)}}catch(e){console.error("Failed to load UI state",e)}}function Nn(e){try{localStorage.setItem(Et,e.toString()),Ke.set(e)}catch(n){console.error("Failed to save UI state",n)}}var Rn=R('<aside class="info-panel svelte-rjw8n6"><div class="resize-handle svelte-rjw8n6"></div> <div class="panel-content svelte-rjw8n6"><div class="section clock-section svelte-rjw8n6"><div class="clock svelte-rjw8n6"> </div></div> <div class="section weather-section svelte-rjw8n6"><div class="card weather-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Weather Widget (TODO)</span></div></div> <div class="section camera-section svelte-rjw8n6"><div class="card camera-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Camera Feed (TODO)</span></div></div></div></aside>');function Fn(e,n){Ie(n,!0);let t=ee(320),o=ee(!1),i=ee("");Qe(()=>{$n();const y=Ke.subscribe(P=>S(t,P,!0)),m=()=>{S(i,new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),!0)};m();const z=setInterval(m,1e3);return()=>{y(),clearInterval(z)}});function s(y){y.preventDefault(),S(o,!0),window.addEventListener("mousemove",c),window.addEventListener("mouseup",a),document.body.style.cursor="col-resize"}function c(y){if(!T(o))return;let m=y.clientX;m<280&&(m=280),m>500&&(m=500),S(t,m,!0)}function a(){T(o)&&(S(o,!1),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",a),document.body.style.cursor="",Nn(T(t)))}var r=Rn(),l=h(r);l.__mousedown=s;var f=b(l,2),u=h(f),p=h(u),g=h(p,!0);d(p),d(u),L(4),d(f),d(r),B(()=>{zn(r,`width: ${T(t)??""}px`),ve(g,T(i))}),M(e,r),Se()}Ct(["mousedown"]);const $e=[{id:"home",title:"Dashboard",icon:"mdi:view-dashboard"},{id:"living_room",title:"Living Room",icon:"mdi:sofa"},{id:"bedroom",title:"Bedroom",icon:"mdi:bed"}];function Ln(){const{subscribe:e,set:n,update:t}=we($e);return{subscribe:e,addTab:()=>t(o=>{const i=`tab_${Date.now()}`;return[...o,{id:i,title:`New Tab ${o.length+1}`}]}),removeTab:o=>t(i=>i.filter(s=>s.id!==o)),reset:()=>n($e)}}const at=Ln(),Pt=we($e[0].id),jt=we(!1);function Dn(e){Pt.set(e)}function Hn(){jt.update(e=>!e)}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const Ot=Object.freeze({left:0,top:0,width:16,height:16}),ye=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ce=Object.freeze({...Ot,...ye}),Ne=Object.freeze({...ce,body:"",hidden:!1}),qn=Object.freeze({width:null,height:null}),Mt=Object.freeze({...qn,...ye});function Bn(e,n=0){const t=e.replace(/^-?[0-9.]*/,"");function o(i){for(;i<0;)i+=4;return i%4}if(t===""){const i=parseInt(e);return isNaN(i)?0:o(i)}else if(t!==e){let i=0;switch(t){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-t.length));return isNaN(s)?0:(s=s/i,s%1===0?o(s):0)}}return n}const Qn=/[\s,]+/;function Un(e,n){n.split(Qn).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const zt={...Mt,preserveAspectRatio:""};function lt(e){const n={...zt},t=(o,i)=>e.getAttribute(o)||i;return n.width=t("width",null),n.height=t("height",null),n.rotate=Bn(t("rotate","")),Un(n,t("flip","")),n.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),n}function Vn(e,n){for(const t in zt)if(e[t]!==n[t])return!0;return!1}const ne=/^[a-z0-9]+(-[a-z0-9]+)*$/,ae=(e,n,t,o="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;o=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),r=i.pop(),l={provider:i.length>0?i[0]:o,prefix:r,name:a};return n&&!ge(l)?null:l}const s=i[0],c=s.split("-");if(c.length>1){const a={provider:o,prefix:c.shift(),name:c.join("-")};return n&&!ge(a)?null:a}if(t&&o===""){const a={provider:o,prefix:"",name:s};return n&&!ge(a,t)?null:a}return null},ge=(e,n)=>e?!!((e.provider===""||e.provider.match(ne))&&(n&&e.prefix===""||e.prefix.match(ne))&&e.name.match(ne)):!1;function Kn(e,n){const t={};!e.hFlip!=!n.hFlip&&(t.hFlip=!0),!e.vFlip!=!n.vFlip&&(t.vFlip=!0);const o=((e.rotate||0)+(n.rotate||0))%4;return o&&(t.rotate=o),t}function ft(e,n){const t=Kn(e,n);for(const o in Ne)o in ye?o in e&&!(o in t)&&(t[o]=ye[o]):o in n?t[o]=n[o]:o in e&&(t[o]=e[o]);return t}function Gn(e,n){const t=e.icons,o=e.aliases||Object.create(null),i=Object.create(null);function s(c){if(t[c])return i[c]=[];if(!(c in i)){i[c]=null;const a=o[c]&&o[c].parent,r=a&&s(a);r&&(i[c]=[a].concat(r))}return i[c]}return Object.keys(t).concat(Object.keys(o)).forEach(s),i}function Jn(e,n,t){const o=e.icons,i=e.aliases||Object.create(null);let s={};function c(a){s=ft(o[a]||i[a],s)}return c(n),t.forEach(c),ft(e,s)}function $t(e,n){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(i=>{n(i,null),t.push(i)});const o=Gn(e);for(const i in o){const s=o[i];s&&(n(i,Jn(e,i,s)),t.push(i))}return t}const Wn={provider:"",aliases:{},not_found:{},...Ot};function Ae(e,n){for(const t in n)if(t in e&&typeof e[t]!=typeof n[t])return!1;return!0}function Nt(e){if(typeof e!="object"||e===null)return null;const n=e;if(typeof n.prefix!="string"||!e.icons||typeof e.icons!="object"||!Ae(e,Wn))return null;const t=n.icons;for(const i in t){const s=t[i];if(!i.match(ne)||typeof s.body!="string"||!Ae(s,Ne))return null}const o=n.aliases||Object.create(null);for(const i in o){const s=o[i],c=s.parent;if(!i.match(ne)||typeof c!="string"||!t[c]&&!o[c]||!Ae(s,Ne))return null}return n}const be=Object.create(null);function Yn(e,n){return{provider:e,prefix:n,icons:Object.create(null),missing:new Set}}function D(e,n){const t=be[e]||(be[e]=Object.create(null));return t[n]||(t[n]=Yn(e,n))}function Ge(e,n){return Nt(n)?$t(n,(t,o)=>{o?e.icons[t]=o:e.missing.add(t)}):[]}function Xn(e,n,t){try{if(typeof t.body=="string")return e.icons[n]={...t},!0}catch{}return!1}function Zn(e,n){let t=[];return(typeof e=="string"?[e]:Object.keys(be)).forEach(i=>{(typeof i=="string"&&typeof n=="string"?[n]:Object.keys(be[i]||{})).forEach(c=>{const a=D(i,c);t=t.concat(Object.keys(a.icons).map(r=>(i!==""?"@"+i+":":"")+c+":"+r))})}),t}let oe=!1;function Rt(e){return typeof e=="boolean"&&(oe=e),oe}function se(e){const n=typeof e=="string"?ae(e,!0,oe):e;if(n){const t=D(n.provider,n.prefix),o=n.name;return t.icons[o]||(t.missing.has(o)?null:void 0)}}function Ft(e,n){const t=ae(e,!0,oe);if(!t)return!1;const o=D(t.provider,t.prefix);return Xn(o,t.name,n)}function ut(e,n){if(typeof e!="object")return!1;if(typeof n!="string"&&(n=e.provider||""),oe&&!n&&!e.prefix){let i=!1;return Nt(e)&&(e.prefix="",$t(e,(s,c)=>{c&&Ft(s,c)&&(i=!0)})),i}const t=e.prefix;if(!ge({provider:n,prefix:t,name:"a"}))return!1;const o=D(n,t);return!!Ge(o,e)}function ei(e){return!!se(e)}function ti(e){const n=se(e);return n?{...ce,...n}:null}function ni(e){const n={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return e.forEach(i=>{if(o.name===i.name&&o.prefix===i.prefix&&o.provider===i.provider)return;o=i;const s=i.provider,c=i.prefix,a=i.name,r=t[s]||(t[s]=Object.create(null)),l=r[c]||(r[c]=D(s,c));let f;a in l.icons?f=n.loaded:c===""||l.missing.has(a)?f=n.missing:f=n.pending;const u={provider:s,prefix:c,name:a};f.push(u)}),n}function Lt(e,n){e.forEach(t=>{const o=t.loaderCallbacks;o&&(t.loaderCallbacks=o.filter(i=>i.id!==n))})}function ii(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const n=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!n.length)return;let t=!1;const o=e.provider,i=e.prefix;n.forEach(s=>{const c=s.icons,a=c.pending.length;c.pending=c.pending.filter(r=>{if(r.prefix!==i)return!0;const l=r.name;if(e.icons[l])c.loaded.push({provider:o,prefix:i,name:l});else if(e.missing.has(l))c.missing.push({provider:o,prefix:i,name:l});else return t=!0,!0;return!1}),c.pending.length!==a&&(t||Lt([e],s.id),s.callback(c.loaded.slice(0),c.missing.slice(0),c.pending.slice(0),s.abort))})}))}let oi=0;function si(e,n,t){const o=oi++,i=Lt.bind(null,t,o);if(!n.pending.length)return i;const s={id:o,icons:n,callback:e,abort:i};return t.forEach(c=>{(c.loaderCallbacks||(c.loaderCallbacks=[])).push(s)}),i}const Re=Object.create(null);function dt(e,n){Re[e]=n}function Fe(e){return Re[e]||Re[""]}function ri(e,n=!0,t=!1){const o=[];return e.forEach(i=>{const s=typeof i=="string"?ae(i,n,t):i;s&&o.push(s)}),o}var ci={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ai(e,n,t,o){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let c;if(e.random){let v=e.resources.slice(0);for(c=[];v.length>1;){const A=Math.floor(Math.random()*v.length);c.push(v[A]),v=v.slice(0,A).concat(v.slice(A+1))}c=c.concat(v)}else c=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let r="pending",l=0,f,u=null,p=[],g=[];typeof o=="function"&&g.push(o);function y(){u&&(clearTimeout(u),u=null)}function m(){r==="pending"&&(r="aborted"),y(),p.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),p=[]}function z(v,A){A&&(g=[]),typeof v=="function"&&g.push(v)}function P(){return{startTime:a,payload:n,status:r,queriesSent:l,queriesPending:p.length,subscribe:z,abort:m}}function C(){r="failed",g.forEach(v=>{v(void 0,f)})}function x(){p.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),p=[]}function G(v,A,H){const q=A!=="success";switch(p=p.filter(j=>j!==v),r){case"pending":break;case"failed":if(q||!e.dataAfterTimeout)return;break;default:return}if(A==="abort"){f=H,C();return}if(q){f=H,p.length||(c.length?V():C());return}if(y(),x(),!e.random){const j=e.resources.indexOf(v.resource);j!==-1&&j!==e.index&&(e.index=j)}r="completed",g.forEach(j=>{j(H)})}function V(){if(r!=="pending")return;y();const v=c.shift();if(v===void 0){if(p.length){u=setTimeout(()=>{y(),r==="pending"&&(x(),C())},e.timeout);return}C();return}const A={status:"pending",resource:v,callback:(H,q)=>{G(A,H,q)}};p.push(A),l++,u=setTimeout(V,e.rotate),t(v,n,A.callback)}return setTimeout(V),P}function Dt(e){const n={...ci,...e};let t=[];function o(){t=t.filter(a=>a().status==="pending")}function i(a,r,l){const f=ai(n,a,r,(u,p)=>{o(),l&&l(u,p)});return t.push(f),f}function s(a){return t.find(r=>a(r))||null}return{query:i,find:s,setIndex:a=>{n.index=a},getIndex:()=>n.index,cleanup:o}}function Je(e){let n;if(typeof e.resources=="string")n=[e.resources];else if(n=e.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const xe=Object.create(null),X=["https://api.simplesvg.com","https://api.unisvg.com"],me=[];for(;X.length>0;)X.length===1||Math.random()>.5?me.push(X.shift()):me.push(X.pop());xe[""]=Je({resources:["https://api.iconify.design"].concat(me)});function ht(e,n){const t=Je(n);return t===null?!1:(xe[e]=t,!0)}function ke(e){return xe[e]}function li(){return Object.keys(xe)}function pt(){}const Ee=Object.create(null);function fi(e){if(!Ee[e]){const n=ke(e);if(!n)return;const t=Dt(n),o={config:n,redundancy:t};Ee[e]=o}return Ee[e]}function Ht(e,n,t){let o,i;if(typeof e=="string"){const s=Fe(e);if(!s)return t(void 0,424),pt;i=s.send;const c=fi(e);c&&(o=c.redundancy)}else{const s=Je(e);if(s){o=Dt(s);const c=e.resources?e.resources[0]:"",a=Fe(c);a&&(i=a.send)}}return!o||!i?(t(void 0,424),pt):o.query(n,i,t)().abort}const vt="iconify2",re="iconify",qt=re+"-count",gt=re+"-version",Bt=36e5,ui=168;function Le(e,n){try{return e.getItem(n)}catch{}}function We(e,n,t){try{return e.setItem(n,t),!0}catch{}}function mt(e,n){try{e.removeItem(n)}catch{}}function De(e,n){return We(e,qt,n.toString())}function He(e){return parseInt(Le(e,qt))||0}const U={local:!0,session:!0},Qt={local:new Set,session:new Set};let Ye=!1;function di(e){Ye=e}let pe=typeof window>"u"?{}:window;function Ut(e){const n=e+"Storage";try{if(pe&&pe[n]&&typeof pe[n].length=="number")return pe[n]}catch{}U[e]=!1}function Vt(e,n){const t=Ut(e);if(!t)return;const o=Le(t,gt);if(o!==vt){if(o){const a=He(t);for(let r=0;r<a;r++)mt(t,re+r.toString())}We(t,gt,vt),De(t,0);return}const i=Math.floor(Date.now()/Bt)-ui,s=a=>{const r=re+a.toString(),l=Le(t,r);if(typeof l=="string"){try{const f=JSON.parse(l);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>i&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&n(f,a))return!0}catch{}mt(t,r)}};let c=He(t);for(let a=c-1;a>=0;a--)s(a)||(a===c-1?(c--,De(t,c)):Qt[e].add(a))}function Kt(){if(!Ye){di(!0);for(const e in U)Vt(e,n=>{const t=n.data,o=n.provider,i=t.prefix,s=D(o,i);if(!Ge(s,t).length)return!1;const c=t.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,c):c,!0})}}function hi(e,n){const t=e.lastModifiedCached;if(t&&t>=n)return t===n;if(e.lastModifiedCached=n,t)for(const o in U)Vt(o,i=>{const s=i.data;return i.provider!==e.provider||s.prefix!==e.prefix||s.lastModified===n});return!0}function pi(e,n){Ye||Kt();function t(o){let i;if(!U[o]||!(i=Ut(o)))return;const s=Qt[o];let c;if(s.size)s.delete(c=Array.from(s).shift());else if(c=He(i),!De(i,c+1))return;const a={cached:Math.floor(Date.now()/Bt),provider:e.provider,data:n};return We(i,re+c.toString(),JSON.stringify(a))}n.lastModified&&!hi(e,n.lastModified)||Object.keys(n.icons).length&&(n.not_found&&(n=Object.assign({},n),delete n.not_found),t("local")||t("session"))}function yt(){}function vi(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,ii(e)}))}function gi(e,n){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:o}=e,i=e.iconsToLoad;delete e.iconsToLoad;let s;if(!i||!(s=Fe(t)))return;s.prepare(t,o,i).forEach(a=>{Ht(t,a,r=>{if(typeof r!="object")a.icons.forEach(l=>{e.missing.add(l)});else try{const l=Ge(e,r);if(!l.length)return;const f=e.pendingIcons;f&&l.forEach(u=>{f.delete(u)}),pi(e,r)}catch(l){console.error(l)}vi(e)})})}))}const Xe=(e,n)=>{const t=ri(e,!0,Rt()),o=ni(t);if(!o.pending.length){let r=!0;return n&&setTimeout(()=>{r&&n(o.loaded,o.missing,o.pending,yt)}),()=>{r=!1}}const i=Object.create(null),s=[];let c,a;return o.pending.forEach(r=>{const{provider:l,prefix:f}=r;if(f===a&&l===c)return;c=l,a=f,s.push(D(l,f));const u=i[l]||(i[l]=Object.create(null));u[f]||(u[f]=[])}),o.pending.forEach(r=>{const{provider:l,prefix:f,name:u}=r,p=D(l,f),g=p.pendingIcons||(p.pendingIcons=new Set);g.has(u)||(g.add(u),i[l][f].push(u))}),s.forEach(r=>{const{provider:l,prefix:f}=r;i[l][f].length&&gi(r,i[l][f])}),n?si(n,o,s):yt},mi=e=>new Promise((n,t)=>{const o=typeof e=="string"?ae(e,!0):e;if(!o){t(e);return}Xe([o||e],i=>{if(i.length&&o){const s=se(o);if(s){n({...ce,...s});return}}t(e)})});function yi(e){try{const n=typeof e=="string"?JSON.parse(e):e;if(typeof n.body=="string")return{...n}}catch{}}function bi(e,n){const t=typeof e=="string"?ae(e,!0,!0):null;if(!t){const s=yi(e);return{value:e,data:s}}const o=se(t);if(o!==void 0||!t.prefix)return{value:e,name:t,data:o};const i=Xe([t],()=>n(e,t,se(t)));return{value:e,name:t,loading:i}}function Pe(e){return e.hasAttribute("inline")}let Gt=!1;try{Gt=navigator.vendor.indexOf("Apple")===0}catch{}function _i(e,n){switch(n){case"svg":case"bg":case"mask":return n}return n!=="style"&&(Gt||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const wi=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ii=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function qe(e,n,t){if(n===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*n*t)/t;if(typeof e!="string")return e;const o=e.split(wi);if(o===null||!o.length)return e;const i=[];let s=o.shift(),c=Ii.test(s);for(;;){if(c){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*n*t)/t)}else i.push(s);if(s=o.shift(),s===void 0)return i.join("");c=!c}}const Si=e=>e==="unset"||e==="undefined"||e==="none";function Jt(e,n){const t={...ce,...e},o={...Mt,...n},i={left:t.left,top:t.top,width:t.width,height:t.height};let s=t.body;[t,o].forEach(y=>{const m=[],z=y.hFlip,P=y.vFlip;let C=y.rotate;z?P?C+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):P&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let x;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:x=i.height/2+i.top,m.unshift("rotate(90 "+x.toString()+" "+x.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:x=i.width/2+i.left,m.unshift("rotate(-90 "+x.toString()+" "+x.toString()+")");break}C%2===1&&(i.left!==i.top&&(x=i.left,i.left=i.top,i.top=x),i.width!==i.height&&(x=i.width,i.width=i.height,i.height=x)),m.length&&(s='<g transform="'+m.join(" ")+'">'+s+"</g>")});const c=o.width,a=o.height,r=i.width,l=i.height;let f,u;c===null?(u=a===null?"1em":a==="auto"?l:a,f=qe(u,r/l)):(f=c==="auto"?r:c,u=a===null?qe(f,l/r):a==="auto"?l:a);const p={},g=(y,m)=>{Si(m)||(p[y]=m.toString())};return g("width",f),g("height",u),p.viewBox=i.left.toString()+" "+i.top.toString()+" "+r.toString()+" "+l.toString(),{attributes:p,body:s}}const xi=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let _e=xi();function ki(e){_e=e}function Ci(){return _e}function Ti(e,n){const t=ke(e);if(!t)return 0;let o;if(!t.maxURL)o=0;else{let i=0;t.resources.forEach(c=>{i=Math.max(i,c.length)});const s=n+".json?icons=";o=t.maxURL-i-t.path.length-s.length}return o}function Ai(e){return e===404}const Ei=(e,n,t)=>{const o=[],i=Ti(e,n),s="icons";let c={type:s,provider:e,prefix:n,icons:[]},a=0;return t.forEach((r,l)=>{a+=r.length+1,a>=i&&l>0&&(o.push(c),c={type:s,provider:e,prefix:n,icons:[]},a=r.length),c.icons.push(r)}),o.push(c),o};function Pi(e){if(typeof e=="string"){const n=ke(e);if(n)return n.path}return"/"}const ji=(e,n,t)=>{if(!_e){t("abort",424);return}let o=Pi(n.provider);switch(n.type){case"icons":{const s=n.prefix,a=n.icons.join(","),r=new URLSearchParams({icons:a});o+=s+".json?"+r.toString();break}case"custom":{const s=n.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:t("abort",400);return}let i=503;_e(e+o).then(s=>{const c=s.status;if(c!==200){setTimeout(()=>{t(Ai(c)?"abort":"next",c)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?t("abort",s):t("next",i)});return}setTimeout(()=>{t("success",s)})}).catch(()=>{t("next",i)})},Oi={prepare:Ei,send:ji};function bt(e,n){switch(e){case"local":case"session":U[e]=n;break;case"all":for(const t in U)U[t]=n;break}}const je="data-style";let Wt="";function Mi(e){Wt=e}function _t(e,n){let t=Array.from(e.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(je));t||(t=document.createElement("style"),t.setAttribute(je,je),e.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(n?"-0.125em":"0")+"}span,svg{display:block}"+Wt}function Yt(){dt("",Oi),Rt(!0);let e;try{e=window}catch{}if(e){if(Kt(),e.IconifyPreload!==void 0){const t=e.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!ut(i))&&console.error(o)}catch{console.error(o)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(const o in t){const i="IconifyProviders["+o+"] is invalid.";try{const s=t[o];if(typeof s!="object"||!s||s.resources===void 0)continue;ht(o,s)||console.error(i)}catch{console.error(i)}}}}return{enableCache:t=>bt(t,!0),disableCache:t=>bt(t,!1),iconExists:ei,getIcon:ti,listIcons:Zn,addIcon:Ft,addCollection:ut,calculateSize:qe,buildIcon:Jt,loadIcons:Xe,loadIcon:mi,addAPIProvider:ht,appendCustomStyle:Mi,_api:{getAPIConfig:ke,setAPIModule:dt,sendAPIQuery:Ht,setFetch:ki,getFetch:Ci,listAPIProviders:li}}}function Xt(e,n){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)t+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function zi(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function $i(e){return"data:image/svg+xml,"+zi(e)}function Ni(e){return'url("'+$i(e)+'")'}const Be={"background-color":"currentColor"},Zt={"background-color":"transparent"},wt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},It={"-webkit-mask":Be,mask:Be,background:Zt};for(const e in It){const n=It[e];for(const t in wt)n[e+"-"+t]=wt[t]}function St(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Ri(e,n,t){const o=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const s=e.attributes,c=Xt(i,{...s,width:n.width+"",height:n.height+""}),a=Ni(c),r=o.style,l={"--svg":a,width:St(s.width),height:St(s.height),...t?Be:Zt};for(const f in l)r.setProperty(f,l[f]);return o}let ie;function Fi(){try{ie=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{ie=null}}function Li(e){return ie===void 0&&Fi(),ie?ie.createHTML(e):e}function Di(e){const n=document.createElement("span"),t=e.attributes;let o="";t.width||(o="width: inherit;"),t.height||(o+="height: inherit;"),o&&(t.style=o);const i=Xt(e.body,t);return n.innerHTML=Li(i),n.firstChild}function xt(e,n){const t=n.icon.data,o=n.customisations,i=Jt(t,o);o.preserveAspectRatio&&(i.attributes.preserveAspectRatio=o.preserveAspectRatio);const s=n.renderedMode;let c;switch(s){case"svg":c=Di(i);break;default:c=Ri(i,{...ce,...t},s==="mask")}const a=Array.from(e.childNodes).find(r=>{const l=r.tagName&&r.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});a?c.tagName==="SPAN"&&a.tagName===c.tagName?a.setAttribute("style",c.getAttribute("style")):e.replaceChild(c,a):e.appendChild(c)}function kt(e,n,t){const o=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:n,icon:e,lastRender:o}}function Hi(e="iconify-icon"){let n,t;try{n=window.customElements,t=window.HTMLElement}catch{return}if(!n||!t)return;const o=n.get(e);if(o)return o;const i=["icon","mode","inline","width","height","rotate","flip"],s=class extends t{constructor(){super();de(this,"_shadowRoot");de(this,"_state");de(this,"_checkQueued",!1);const r=this._shadowRoot=this.attachShadow({mode:"open"}),l=Pe(this);_t(r,l),this._state=kt({value:""},l),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(r){if(r==="inline"){const l=Pe(this),f=this._state;l!==f.inline&&(f.inline=l,_t(this._shadowRoot,l))}else this._queueCheck()}get icon(){const r=this.getAttribute("icon");if(r&&r.slice(0,1)==="{")try{return JSON.parse(r)}catch{}return r}set icon(r){typeof r=="object"&&(r=JSON.stringify(r)),this.setAttribute("icon",r)}get inline(){return Pe(this)}set inline(r){r?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const r=this._state;if(r.rendered){const l=this._shadowRoot;if(r.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}xt(l,r)}}get status(){const r=this._state;return r.rendered?"rendered":r.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const r=this._state,l=this.getAttribute("icon");if(l!==r.icon.value){this._iconChanged(l);return}if(!r.rendered)return;const f=this.getAttribute("mode"),u=lt(this);(r.attrMode!==f||Vn(r.customisations,u))&&this._renderIcon(r.icon,u,f)}_iconChanged(r){const l=bi(r,(f,u,p)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==f)return;const y={value:f,name:u,data:p};y.data?this._gotIconData(y):g.icon=y});l.data?this._gotIconData(l):this._state=kt(l,this._state.inline,this._state)}_gotIconData(r){this._checkQueued=!1,this._renderIcon(r,lt(this),this.getAttribute("mode"))}_renderIcon(r,l,f){const u=_i(r.data.body,f),p=this._state.inline;xt(this._shadowRoot,this._state={rendered:!0,icon:r,inline:p,customisations:l,attrMode:f,renderedMode:u})}};i.forEach(a=>{a in s.prototype||Object.defineProperty(s.prototype,a,{get:function(){return this.getAttribute(a)},set:function(r){r!==null?this.setAttribute(a,r):this.removeAttribute(a)}})});const c=Yt();for(const a in c)s[a]=s.prototype[a]=c[a];return n.define(e,s),s}const qi=Hi()||Yt(),{enableCache:fo,disableCache:uo,iconExists:ho,getIcon:po,listIcons:vo,addIcon:go,addCollection:mo,calculateSize:yo,buildIcon:bo,loadIcons:_o,loadIcon:wo,addAPIProvider:Io,_api:So}=qi;var Bi=R("<iconify-icon></iconify-icon>",2),Qi=R("<button> <!></button>"),Ui=R('<button class="tab-btn add-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button>',2),Vi=R('<div class="dropdown-menu svelte-1ra6ezt"><a href="/settings" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Settings</a> <a href="/entities" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> All Entities</a> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Refresh Page</button> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item highlight svelte-1ra6ezt"><iconify-icon></iconify-icon> </button></div>',2),Ki=R("<button><iconify-icon></iconify-icon> </button>",2),Gi=R('<div class="mobile-drawer-overlay svelte-1ra6ezt"><div class="mobile-drawer svelte-1ra6ezt"><div class="drawer-header svelte-1ra6ezt"><h3>Menu</h3> <button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button></div> <div class="drawer-content svelte-1ra6ezt"><h4 class="svelte-1ra6ezt">Dashboards</h4> <div class="drawer-tabs"></div> <div class="divider svelte-1ra6ezt"></div> <a href="/entities" class="drawer-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Entities</a> <a href="/settings" class="drawer-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Settings</a></div></div></div>',2),Ji=R('<header class="dashboard-header svelte-1ra6ezt"><div class="header-left svelte-1ra6ezt"><button class="icon-btn mobile-only svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <div class="logo svelte-1ra6ezt"><iconify-icon></iconify-icon> <span class="logo-text">Evolusion</span></div> <nav class="desktop-tabs svelte-1ra6ezt"><!> <!></nav></div> <div class="header-right svelte-1ra6ezt"><div class="search-wrapper desktop-only svelte-1ra6ezt"><iconify-icon></iconify-icon> <input type="text" placeholder="Search devices..." class="search-input svelte-1ra6ezt"/></div> <div class="menu-container svelte-1ra6ezt"><button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <!></div></div></header> <!>',3);function Wi(e,n){Ie(n,!0);const t=()=>te(at,"$tabs",s),o=()=>te(Pt,"$activeTabId",s),i=()=>te(jt,"$isEditMode",s),[s,c]=Ve();let a=ee(!1),r=ee(!1);function l(){S(r,!1)}function f(_){Dn(_),S(a,!1)}function u(){window.location.reload()}function p(){S(a,!T(a)),S(r,!1)}function g(_){_.stopPropagation(),S(r,!T(r)),S(a,!1)}var y=Ji();ln("click",yn,l);var m=Ue(y),z=h(m),P=h(z);P.__click=_=>{_.stopPropagation(),p()};var C=h(P);w(C,"icon","mdi:menu"),w(C,"width","24"),d(P);var x=b(P,2),G=h(x);w(G,"icon","mdi:home-assistant"),w(G,"width","24"),Y(G,1,"logo-icon svelte-1ra6ezt"),L(2),d(x);var V=b(x,2),v=h(V);ct(v,1,t,_=>_.id,(_,I)=>{var k=Qi();let F;k.__click=()=>f(T(I).id);var O=h(k),K=b(O);{var $=N=>{var E=Bi();w(E,"icon","mdi:pencil"),w(E,"width","14"),Y(E,1,"edit-icon svelte-1ra6ezt"),M(N,E)};he(K,N=>{i()&&N($)})}d(k),B(()=>{F=Y(k,1,"tab-btn svelte-1ra6ezt",null,F,{active:o()===T(I).id}),ve(O,`${T(I).title??""} `)}),M(_,k)});var A=b(v,2);{var H=_=>{var I=Ui();I.__click=()=>at.addTab();var k=h(I);w(k,"icon","mdi:plus"),w(k,"width","20"),d(I),M(_,I)};he(A,_=>{i()&&_(H)})}d(V),d(z);var q=b(z,2),j=h(q),Ze=h(j);w(Ze,"icon","mdi:magnify"),Y(Ze,1,"search-icon svelte-1ra6ezt"),L(2),d(j);var et=b(j,2),le=h(et);le.__click=g;var tt=h(le);w(tt,"icon","mdi:dots-vertical"),w(tt,"width","24"),d(le);var en=b(le,2);{var tn=_=>{var I=Vi();I.__click=Ce=>Ce.stopPropagation();var k=h(I);k.__click=()=>S(r,!1);var F=h(k);w(F,"icon","mdi:cog-outline"),L(),d(k);var O=b(k,2);O.__click=()=>S(r,!1);var K=h(O);w(K,"icon","mdi:format-list-bulleted"),L(),d(O);var $=b(O,4);$.__click=u;var N=h($);w(N,"icon","mdi:refresh"),L(),d($);var E=b($,4);E.__click=()=>{Hn(),S(r,!1)};var fe=h(E);B(()=>w(fe,"icon",i()?"mdi:check":"mdi:view-dashboard-edit-outline"));var J=b(fe);d(E),d(I),B(()=>ve(J,` ${i()?"Done":"Edit Dashboard"}`)),M(_,I)};he(en,_=>{T(r)&&_(tn)})}d(et),d(q),d(m);var nn=b(m,2);{var on=_=>{var I=Gi();I.__click=()=>S(a,!1);var k=h(I);k.__click=Te=>Te.stopPropagation();var F=h(k),O=b(h(F),2);O.__click=()=>S(a,!1);var K=h(O);w(K,"icon","mdi:close"),w(K,"width","24"),d(O),d(F);var $=b(F,2),N=b(h($),2);ct(N,5,t,kn,(Te,ue)=>{var W=Ki();let nt;W.__click=()=>f(T(ue).id);var it=h(W);B(()=>w(it,"icon",T(ue).icon||"mdi:view-dashboard-outline"));var sn=b(it);d(W),B(()=>{nt=Y(W,1,"drawer-item svelte-1ra6ezt",null,nt,{active:o()===T(ue).id}),ve(sn,` ${T(ue).title??""}`)}),M(Te,W)}),d(N);var E=b(N,4);E.__click=()=>S(a,!1);var fe=h(E);w(fe,"icon","mdi:format-list-bulleted"),L(),d(E);var J=b(E,2);J.__click=()=>S(a,!1);var Ce=h(J);w(Ce,"icon","mdi:cog-outline"),L(),d(J),d($),d(k),d(I),M(_,I)};he(nn,_=>{T(a)&&_(on)})}M(e,y),Se(),c()}Ct(["click"]);function Yi(e,n){Ie(n,!1);const t=()=>te(Pn,"$cssVariables",o),[o,i]=Ve();Qe(()=>{En.init()}),An(),Mn("nh1qkz",s=>{var c=fn(),a=Ue(c);jn(a,()=>`<style id="theme-styles">${t()}</style>`),M(s,c)}),Se(),i()}var Xi=R('<!> <div class="layout-container svelte-12qhfyh"><!> <div class="main-content svelte-12qhfyh"><!> <main class="svelte-12qhfyh"><!></main></div></div>',1);function xo(e,n){Ie(n,!0);const t=()=>te(In,"$appState",o),[o,i]=Ve();Qe(async()=>{await Sn(),await xn()}),bn(()=>{const g=t().activeServer;g!=null&&g.url&&(g!=null&&g.token)?Cn(g.url,g.token):Tn()});var s=Xi(),c=Ue(s);Yi(c,{});var a=b(c,2),r=h(a);Fn(r,{});var l=b(r,2),f=h(l);Wi(f,{});var u=b(f,2),p=h(u);On(p,()=>n.children),d(u),d(l),d(a),M(e,s),Se(),i()}export{xo as component};
