var Ge=Object.defineProperty;var Je=(t,n,e)=>n in t?Ge(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var lt=(t,n,e)=>Je(t,typeof n!="symbol"?n+"":n,e);import{d as ve,f as L,a as F,s as dt,e as Xe}from"../chunks/DvnUWzw8.js";import{o as me}from"../chunks/CYBnsN0N.js";import{Z as Ye,av as Ze,n as Jt,as as bt,O as Lt,Q as h,X as V,T as Rt,s as S,a as A,U as Y,R as b,W as d,V as $,Y as tn,b5 as en,F as nn}from"../chunks/MIkDUfiV.js";import{B as on,i as ut,a as ye,s as ht}from"../chunks/D5ZglsIW.js";import{t as rn,b as J,a as sn,d as cn,e as an}from"../chunks/BR8Jsj42.js";import{e as Xt,i as ln,b as un,d as fn}from"../chunks/WTy43ldd.js";import{a as _}from"../chunks/CLQ7akle.js";import"../chunks/DIAKFJvl.js";function dn(t,n,...e){var o=new on(t);Ye(()=>{const i=n()??null;o.ensure(i,i&&(r=>i(r,...e)))},Ze)}function hn(t,n,e,o){var i=t.__style;if(Jt||i!==n){var r=rn(n);(!Jt||r!==t.getAttribute("style"))&&(r==null?t.removeAttribute("style"):t.style.cssText=r),t.__style=n}return o}const $t=bt(320),be="evolusion.infoPanel.width";function pn(){try{const t=localStorage.getItem(be);if(t){const n=parseInt(t,10);!isNaN(n)&&n>=280&&n<=500&&$t.set(n)}}catch(t){console.error("Failed to load UI state",t)}}function gn(t){try{localStorage.setItem(be,t.toString()),$t.set(t)}catch(n){console.error("Failed to save UI state",n)}}var vn=L('<aside class="info-panel svelte-rjw8n6"><div class="resize-handle svelte-rjw8n6"></div> <div class="panel-content svelte-rjw8n6"><div class="section clock-section svelte-rjw8n6"><div class="clock svelte-rjw8n6"> </div></div> <div class="section weather-section svelte-rjw8n6"><div class="card weather-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Weather Widget (TODO)</span></div></div> <div class="section camera-section svelte-rjw8n6"><div class="card camera-card svelte-rjw8n6"><span class="placeholder-text svelte-rjw8n6">Camera Feed (TODO)</span></div></div></div></aside>');function mn(t,n){Lt(n,!0);let e=Y(320),o=Y(!1),i=Y("");me(()=>{pn();const m=$t.subscribe(P=>S(e,P,!0)),v=()=>{S(i,new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),!0)};v();const O=setInterval(v,1e3);return()=>{m(),clearInterval(O)}});function r(m){m.preventDefault(),S(o,!0),window.addEventListener("mousemove",c),window.addEventListener("mouseup",a),document.body.style.cursor="col-resize"}function c(m){if(!A(o))return;let v=m.clientX;v<280&&(v=280),v>500&&(v=500),S(e,v,!0)}function a(){A(o)&&(S(o,!1),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",a),document.body.style.cursor="",gn(A(e)))}var s=vn(),l=h(s);l.__mousedown=r;var u=b(l,2),f=h(u),p=h(f),w=h(p,!0);d(p),d(f),$(4),d(u),d(s),V(()=>{hn(s,`width: ${A(e)??""}px`),dt(w,A(i))}),F(t,s),Rt()}ve(["mousedown"]);const Tt=[{id:"home",title:"Dashboard",icon:"mdi:view-dashboard"},{id:"living_room",title:"Living Room",icon:"mdi:sofa"},{id:"bedroom",title:"Bedroom",icon:"mdi:bed"}];function yn(){const{subscribe:t,set:n,update:e}=bt(Tt);return{subscribe:t,addTab:()=>e(o=>{const i=`tab_${Date.now()}`;return[...o,{id:i,title:`New Tab ${o.length+1}`}]}),removeTab:o=>e(i=>i.filter(r=>r.id!==o)),reset:()=>n(Tt)}}const Yt=yn(),_e=bt(Tt[0].id),we=bt(!1);function bn(t){_e.set(t)}function _n(){we.update(t=>!t)}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const Ie=Object.freeze({left:0,top:0,width:16,height:16}),vt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ot=Object.freeze({...Ie,...vt}),Et=Object.freeze({...ot,body:"",hidden:!1}),wn=Object.freeze({width:null,height:null}),Se=Object.freeze({...wn,...vt});function In(t,n=0){const e=t.replace(/^-?[0-9.]*/,"");function o(i){for(;i<0;)i+=4;return i%4}if(e===""){const i=parseInt(t);return isNaN(i)?0:o(i)}else if(e!==t){let i=0;switch(e){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(t.slice(0,t.length-e.length));return isNaN(r)?0:(r=r/i,r%1===0?o(r):0)}}return n}const Sn=/[\s,]+/;function xn(t,n){n.split(Sn).forEach(e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}const xe={...Se,preserveAspectRatio:""};function Zt(t){const n={...xe},e=(o,i)=>t.getAttribute(o)||i;return n.width=e("width",null),n.height=e("height",null),n.rotate=In(e("rotate","")),xn(n,e("flip","")),n.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),n}function kn(t,n){for(const e in xe)if(t[e]!==n[e])return!0;return!1}const Z=/^[a-z0-9]+(-[a-z0-9]+)*$/,rt=(t,n,e,o="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;o=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),s=i.pop(),l={provider:i.length>0?i[0]:o,prefix:s,name:a};return n&&!pt(l)?null:l}const r=i[0],c=r.split("-");if(c.length>1){const a={provider:o,prefix:c.shift(),name:c.join("-")};return n&&!pt(a)?null:a}if(e&&o===""){const a={provider:o,prefix:"",name:r};return n&&!pt(a,e)?null:a}return null},pt=(t,n)=>t?!!((t.provider===""||t.provider.match(Z))&&(n&&t.prefix===""||t.prefix.match(Z))&&t.name.match(Z)):!1;function Cn(t,n){const e={};!t.hFlip!=!n.hFlip&&(e.hFlip=!0),!t.vFlip!=!n.vFlip&&(e.vFlip=!0);const o=((t.rotate||0)+(n.rotate||0))%4;return o&&(e.rotate=o),e}function te(t,n){const e=Cn(t,n);for(const o in Et)o in vt?o in t&&!(o in e)&&(e[o]=vt[o]):o in n?e[o]=n[o]:o in t&&(e[o]=t[o]);return e}function An(t,n){const e=t.icons,o=t.aliases||Object.create(null),i=Object.create(null);function r(c){if(e[c])return i[c]=[];if(!(c in i)){i[c]=null;const a=o[c]&&o[c].parent,s=a&&r(a);s&&(i[c]=[a].concat(s))}return i[c]}return Object.keys(e).concat(Object.keys(o)).forEach(r),i}function Tn(t,n,e){const o=t.icons,i=t.aliases||Object.create(null);let r={};function c(a){r=te(o[a]||i[a],r)}return c(n),e.forEach(c),te(t,r)}function ke(t,n){const e=[];if(typeof t!="object"||typeof t.icons!="object")return e;t.not_found instanceof Array&&t.not_found.forEach(i=>{n(i,null),e.push(i)});const o=An(t);for(const i in o){const r=o[i];r&&(n(i,Tn(t,i,r)),e.push(i))}return e}const En={provider:"",aliases:{},not_found:{},...Ie};function xt(t,n){for(const e in n)if(e in t&&typeof t[e]!=typeof n[e])return!1;return!0}function Ce(t){if(typeof t!="object"||t===null)return null;const n=t;if(typeof n.prefix!="string"||!t.icons||typeof t.icons!="object"||!xt(t,En))return null;const e=n.icons;for(const i in e){const r=e[i];if(!i.match(Z)||typeof r.body!="string"||!xt(r,Et))return null}const o=n.aliases||Object.create(null);for(const i in o){const r=o[i],c=r.parent;if(!i.match(Z)||typeof c!="string"||!e[c]&&!o[c]||!xt(r,Et))return null}return n}const mt=Object.create(null);function Pn(t,n){return{provider:t,prefix:n,icons:Object.create(null),missing:new Set}}function D(t,n){const e=mt[t]||(mt[t]=Object.create(null));return e[n]||(e[n]=Pn(t,n))}function Dt(t,n){return Ce(n)?ke(n,(e,o)=>{o?t.icons[e]=o:t.missing.add(e)}):[]}function jn(t,n,e){try{if(typeof e.body=="string")return t.icons[n]={...e},!0}catch{}return!1}function Mn(t,n){let e=[];return(typeof t=="string"?[t]:Object.keys(mt)).forEach(i=>{(typeof i=="string"&&typeof n=="string"?[n]:Object.keys(mt[i]||{})).forEach(c=>{const a=D(i,c);e=e.concat(Object.keys(a.icons).map(s=>(i!==""?"@"+i+":":"")+c+":"+s))})}),e}let et=!1;function Ae(t){return typeof t=="boolean"&&(et=t),et}function nt(t){const n=typeof t=="string"?rt(t,!0,et):t;if(n){const e=D(n.provider,n.prefix),o=n.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Te(t,n){const e=rt(t,!0,et);if(!e)return!1;const o=D(e.provider,e.prefix);return jn(o,e.name,n)}function ee(t,n){if(typeof t!="object")return!1;if(typeof n!="string"&&(n=t.provider||""),et&&!n&&!t.prefix){let i=!1;return Ce(t)&&(t.prefix="",ke(t,(r,c)=>{c&&Te(r,c)&&(i=!0)})),i}const e=t.prefix;if(!pt({provider:n,prefix:e,name:"a"}))return!1;const o=D(n,e);return!!Dt(o,t)}function On(t){return!!nt(t)}function zn(t){const n=nt(t);return n?{...ot,...n}:null}function Nn(t){const n={loaded:[],missing:[],pending:[]},e=Object.create(null);t.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return t.forEach(i=>{if(o.name===i.name&&o.prefix===i.prefix&&o.provider===i.provider)return;o=i;const r=i.provider,c=i.prefix,a=i.name,s=e[r]||(e[r]=Object.create(null)),l=s[c]||(s[c]=D(r,c));let u;a in l.icons?u=n.loaded:c===""||l.missing.has(a)?u=n.missing:u=n.pending;const f={provider:r,prefix:c,name:a};u.push(f)}),n}function Ee(t,n){t.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(i=>i.id!==n))})}function Fn(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const n=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!n.length)return;let e=!1;const o=t.provider,i=t.prefix;n.forEach(r=>{const c=r.icons,a=c.pending.length;c.pending=c.pending.filter(s=>{if(s.prefix!==i)return!0;const l=s.name;if(t.icons[l])c.loaded.push({provider:o,prefix:i,name:l});else if(t.missing.has(l))c.missing.push({provider:o,prefix:i,name:l});else return e=!0,!0;return!1}),c.pending.length!==a&&(e||Ee([t],r.id),r.callback(c.loaded.slice(0),c.missing.slice(0),c.pending.slice(0),r.abort))})}))}let Ln=0;function Rn(t,n,e){const o=Ln++,i=Ee.bind(null,e,o);if(!n.pending.length)return i;const r={id:o,icons:n,callback:t,abort:i};return e.forEach(c=>{(c.loaderCallbacks||(c.loaderCallbacks=[])).push(r)}),i}const Pt=Object.create(null);function ne(t,n){Pt[t]=n}function jt(t){return Pt[t]||Pt[""]}function $n(t,n=!0,e=!1){const o=[];return t.forEach(i=>{const r=typeof i=="string"?rt(i,n,e):i;r&&o.push(r)}),o}var Dn={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Bn(t,n,e,o){const i=t.resources.length,r=t.random?Math.floor(Math.random()*i):t.index;let c;if(t.random){let g=t.resources.slice(0);for(c=[];g.length>1;){const T=Math.floor(Math.random()*g.length);c.push(g[T]),g=g.slice(0,T).concat(g.slice(T+1))}c=c.concat(g)}else c=t.resources.slice(r).concat(t.resources.slice(0,r));const a=Date.now();let s="pending",l=0,u,f=null,p=[],w=[];typeof o=="function"&&w.push(o);function m(){f&&(clearTimeout(f),f=null)}function v(){s==="pending"&&(s="aborted"),m(),p.forEach(g=>{g.status==="pending"&&(g.status="aborted")}),p=[]}function O(g,T){T&&(w=[]),typeof g=="function"&&w.push(g)}function P(){return{startTime:a,payload:n,status:s,queriesSent:l,queriesPending:p.length,subscribe:O,abort:v}}function C(){s="failed",w.forEach(g=>{g(void 0,u)})}function x(){p.forEach(g=>{g.status==="pending"&&(g.status="aborted")}),p=[]}function K(g,T,B){const Q=T!=="success";switch(p=p.filter(j=>j!==g),s){case"pending":break;case"failed":if(Q||!t.dataAfterTimeout)return;break;default:return}if(T==="abort"){u=B,C();return}if(Q){u=B,p.length||(c.length?q():C());return}if(m(),x(),!t.random){const j=t.resources.indexOf(g.resource);j!==-1&&j!==t.index&&(t.index=j)}s="completed",w.forEach(j=>{j(B)})}function q(){if(s!=="pending")return;m();const g=c.shift();if(g===void 0){if(p.length){f=setTimeout(()=>{m(),s==="pending"&&(x(),C())},t.timeout);return}C();return}const T={status:"pending",resource:g,callback:(B,Q)=>{K(T,B,Q)}};p.push(T),l++,f=setTimeout(q,t.rotate),e(g,n,T.callback)}return setTimeout(q),P}function Pe(t){const n={...Dn,...t};let e=[];function o(){e=e.filter(a=>a().status==="pending")}function i(a,s,l){const u=Bn(n,a,s,(f,p)=>{o(),l&&l(f,p)});return e.push(u),u}function r(a){return e.find(s=>a(s))||null}return{query:i,find:r,setIndex:a=>{n.index=a},getIndex:()=>n.index,cleanup:o}}function Bt(t){let n;if(typeof t.resources=="string")n=[t.resources];else if(n=t.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const _t=Object.create(null),X=["https://api.simplesvg.com","https://api.unisvg.com"],gt=[];for(;X.length>0;)X.length===1||Math.random()>.5?gt.push(X.shift()):gt.push(X.pop());_t[""]=Bt({resources:["https://api.iconify.design"].concat(gt)});function ie(t,n){const e=Bt(n);return e===null?!1:(_t[t]=e,!0)}function wt(t){return _t[t]}function Qn(){return Object.keys(_t)}function oe(){}const kt=Object.create(null);function Un(t){if(!kt[t]){const n=wt(t);if(!n)return;const e=Pe(n),o={config:n,redundancy:e};kt[t]=o}return kt[t]}function je(t,n,e){let o,i;if(typeof t=="string"){const r=jt(t);if(!r)return e(void 0,424),oe;i=r.send;const c=Un(t);c&&(o=c.redundancy)}else{const r=Bt(t);if(r){o=Pe(r);const c=t.resources?t.resources[0]:"",a=jt(c);a&&(i=a.send)}}return!o||!i?(e(void 0,424),oe):o.query(n,i,e)().abort}const re="iconify2",it="iconify",Me=it+"-count",se=it+"-version",Oe=36e5,qn=168;function Mt(t,n){try{return t.getItem(n)}catch{}}function Qt(t,n,e){try{return t.setItem(n,e),!0}catch{}}function ce(t,n){try{t.removeItem(n)}catch{}}function Ot(t,n){return Qt(t,Me,n.toString())}function zt(t){return parseInt(Mt(t,Me))||0}const U={local:!0,session:!0},ze={local:new Set,session:new Set};let Ut=!1;function Hn(t){Ut=t}let ft=typeof window>"u"?{}:window;function Ne(t){const n=t+"Storage";try{if(ft&&ft[n]&&typeof ft[n].length=="number")return ft[n]}catch{}U[t]=!1}function Fe(t,n){const e=Ne(t);if(!e)return;const o=Mt(e,se);if(o!==re){if(o){const a=zt(e);for(let s=0;s<a;s++)ce(e,it+s.toString())}Qt(e,se,re),Ot(e,0);return}const i=Math.floor(Date.now()/Oe)-qn,r=a=>{const s=it+a.toString(),l=Mt(e,s);if(typeof l=="string"){try{const u=JSON.parse(l);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&n(u,a))return!0}catch{}ce(e,s)}};let c=zt(e);for(let a=c-1;a>=0;a--)r(a)||(a===c-1?(c--,Ot(e,c)):ze[t].add(a))}function Le(){if(!Ut){Hn(!0);for(const t in U)Fe(t,n=>{const e=n.data,o=n.provider,i=e.prefix,r=D(o,i);if(!Dt(r,e).length)return!1;const c=e.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,c):c,!0})}}function Vn(t,n){const e=t.lastModifiedCached;if(e&&e>=n)return e===n;if(t.lastModifiedCached=n,e)for(const o in U)Fe(o,i=>{const r=i.data;return i.provider!==t.provider||r.prefix!==t.prefix||r.lastModified===n});return!0}function Kn(t,n){Ut||Le();function e(o){let i;if(!U[o]||!(i=Ne(o)))return;const r=ze[o];let c;if(r.size)r.delete(c=Array.from(r).shift());else if(c=zt(i),!Ot(i,c+1))return;const a={cached:Math.floor(Date.now()/Oe),provider:t.provider,data:n};return Qt(i,it+c.toString(),JSON.stringify(a))}n.lastModified&&!Vn(t,n.lastModified)||Object.keys(n.icons).length&&(n.not_found&&(n=Object.assign({},n),delete n.not_found),e("local")||e("session"))}function ae(){}function Wn(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Fn(t)}))}function Gn(t,n){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(n).sort():t.iconsToLoad=n,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:o}=t,i=t.iconsToLoad;delete t.iconsToLoad;let r;if(!i||!(r=jt(e)))return;r.prepare(e,o,i).forEach(a=>{je(e,a,s=>{if(typeof s!="object")a.icons.forEach(l=>{t.missing.add(l)});else try{const l=Dt(t,s);if(!l.length)return;const u=t.pendingIcons;u&&l.forEach(f=>{u.delete(f)}),Kn(t,s)}catch(l){console.error(l)}Wn(t)})})}))}const qt=(t,n)=>{const e=$n(t,!0,Ae()),o=Nn(e);if(!o.pending.length){let s=!0;return n&&setTimeout(()=>{s&&n(o.loaded,o.missing,o.pending,ae)}),()=>{s=!1}}const i=Object.create(null),r=[];let c,a;return o.pending.forEach(s=>{const{provider:l,prefix:u}=s;if(u===a&&l===c)return;c=l,a=u,r.push(D(l,u));const f=i[l]||(i[l]=Object.create(null));f[u]||(f[u]=[])}),o.pending.forEach(s=>{const{provider:l,prefix:u,name:f}=s,p=D(l,u),w=p.pendingIcons||(p.pendingIcons=new Set);w.has(f)||(w.add(f),i[l][u].push(f))}),r.forEach(s=>{const{provider:l,prefix:u}=s;i[l][u].length&&Gn(s,i[l][u])}),n?Rn(n,o,r):ae},Jn=t=>new Promise((n,e)=>{const o=typeof t=="string"?rt(t,!0):t;if(!o){e(t);return}qt([o||t],i=>{if(i.length&&o){const r=nt(o);if(r){n({...ot,...r});return}}e(t)})});function Xn(t){try{const n=typeof t=="string"?JSON.parse(t):t;if(typeof n.body=="string")return{...n}}catch{}}function Yn(t,n){const e=typeof t=="string"?rt(t,!0,!0):null;if(!e){const r=Xn(t);return{value:t,data:r}}const o=nt(e);if(o!==void 0||!e.prefix)return{value:t,name:e,data:o};const i=qt([e],()=>n(t,e,nt(e)));return{value:t,name:e,loading:i}}function Ct(t){return t.hasAttribute("inline")}let Re=!1;try{Re=navigator.vendor.indexOf("Apple")===0}catch{}function Zn(t,n){switch(n){case"svg":case"bg":case"mask":return n}return n!=="style"&&(Re||t.indexOf("<a")===-1)?"svg":t.indexOf("currentColor")===-1?"bg":"mask"}const ti=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ei=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Nt(t,n,e){if(n===1)return t;if(e=e||100,typeof t=="number")return Math.ceil(t*n*e)/e;if(typeof t!="string")return t;const o=t.split(ti);if(o===null||!o.length)return t;const i=[];let r=o.shift(),c=ei.test(r);for(;;){if(c){const a=parseFloat(r);isNaN(a)?i.push(r):i.push(Math.ceil(a*n*e)/e)}else i.push(r);if(r=o.shift(),r===void 0)return i.join("");c=!c}}const ni=t=>t==="unset"||t==="undefined"||t==="none";function $e(t,n){const e={...ot,...t},o={...Se,...n},i={left:e.left,top:e.top,width:e.width,height:e.height};let r=e.body;[e,o].forEach(m=>{const v=[],O=m.hFlip,P=m.vFlip;let C=m.rotate;O?P?C+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):P&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let x;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:x=i.height/2+i.top,v.unshift("rotate(90 "+x.toString()+" "+x.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:x=i.width/2+i.left,v.unshift("rotate(-90 "+x.toString()+" "+x.toString()+")");break}C%2===1&&(i.left!==i.top&&(x=i.left,i.left=i.top,i.top=x),i.width!==i.height&&(x=i.width,i.width=i.height,i.height=x)),v.length&&(r='<g transform="'+v.join(" ")+'">'+r+"</g>")});const c=o.width,a=o.height,s=i.width,l=i.height;let u,f;c===null?(f=a===null?"1em":a==="auto"?l:a,u=Nt(f,s/l)):(u=c==="auto"?s:c,f=a===null?Nt(u,l/s):a==="auto"?l:a);const p={},w=(m,v)=>{ni(v)||(p[m]=v.toString())};return w("width",u),w("height",f),p.viewBox=i.left.toString()+" "+i.top.toString()+" "+s.toString()+" "+l.toString(),{attributes:p,body:r}}const ii=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let yt=ii();function oi(t){yt=t}function ri(){return yt}function si(t,n){const e=wt(t);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let i=0;e.resources.forEach(c=>{i=Math.max(i,c.length)});const r=n+".json?icons=";o=e.maxURL-i-e.path.length-r.length}return o}function ci(t){return t===404}const ai=(t,n,e)=>{const o=[],i=si(t,n),r="icons";let c={type:r,provider:t,prefix:n,icons:[]},a=0;return e.forEach((s,l)=>{a+=s.length+1,a>=i&&l>0&&(o.push(c),c={type:r,provider:t,prefix:n,icons:[]},a=s.length),c.icons.push(s)}),o.push(c),o};function li(t){if(typeof t=="string"){const n=wt(t);if(n)return n.path}return"/"}const ui=(t,n,e)=>{if(!yt){e("abort",424);return}let o=li(n.provider);switch(n.type){case"icons":{const r=n.prefix,a=n.icons.join(","),s=new URLSearchParams({icons:a});o+=r+".json?"+s.toString();break}case"custom":{const r=n.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:e("abort",400);return}let i=503;yt(t+o).then(r=>{const c=r.status;if(c!==200){setTimeout(()=>{e(ci(c)?"abort":"next",c)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?e("abort",r):e("next",i)});return}setTimeout(()=>{e("success",r)})}).catch(()=>{e("next",i)})},fi={prepare:ai,send:ui};function le(t,n){switch(t){case"local":case"session":U[t]=n;break;case"all":for(const e in U)U[e]=n;break}}const At="data-style";let De="";function di(t){De=t}function ue(t,n){let e=Array.from(t.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(At));e||(e=document.createElement("style"),e.setAttribute(At,At),t.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(n?"-0.125em":"0")+"}span,svg{display:block}"+De}function Be(){ne("",fi),Ae(!0);let t;try{t=window}catch{}if(t){if(Le(),t.IconifyPreload!==void 0){const e=t.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!ee(i))&&console.error(o)}catch{console.error(o)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const i="IconifyProviders["+o+"] is invalid.";try{const r=e[o];if(typeof r!="object"||!r||r.resources===void 0)continue;ie(o,r)||console.error(i)}catch{console.error(i)}}}}return{enableCache:e=>le(e,!0),disableCache:e=>le(e,!1),iconExists:On,getIcon:zn,listIcons:Mn,addIcon:Te,addCollection:ee,calculateSize:Nt,buildIcon:$e,loadIcons:qt,loadIcon:Jn,addAPIProvider:ie,appendCustomStyle:di,_api:{getAPIConfig:wt,setAPIModule:ne,sendAPIQuery:je,setFetch:oi,getFetch:ri,listAPIProviders:Qn}}}function Qe(t,n){let e=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in n)e+=" "+o+'="'+n[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+t+"</svg>"}function hi(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function pi(t){return"data:image/svg+xml,"+hi(t)}function gi(t){return'url("'+pi(t)+'")'}const Ft={"background-color":"currentColor"},Ue={"background-color":"transparent"},fe={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},de={"-webkit-mask":Ft,mask:Ft,background:Ue};for(const t in de){const n=de[t];for(const e in fe)n[t+"-"+e]=fe[e]}function he(t){return t?t+(t.match(/^[-0-9.]+$/)?"px":""):"inherit"}function vi(t,n,e){const o=document.createElement("span");let i=t.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const r=t.attributes,c=Qe(i,{...r,width:n.width+"",height:n.height+""}),a=gi(c),s=o.style,l={"--svg":a,width:he(r.width),height:he(r.height),...e?Ft:Ue};for(const u in l)s.setProperty(u,l[u]);return o}let tt;function mi(){try{tt=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{tt=null}}function yi(t){return tt===void 0&&mi(),tt?tt.createHTML(t):t}function bi(t){const n=document.createElement("span"),e=t.attributes;let o="";e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o);const i=Qe(t.body,e);return n.innerHTML=yi(i),n.firstChild}function pe(t,n){const e=n.icon.data,o=n.customisations,i=$e(e,o);o.preserveAspectRatio&&(i.attributes.preserveAspectRatio=o.preserveAspectRatio);const r=n.renderedMode;let c;switch(r){case"svg":c=bi(i);break;default:c=vi(i,{...ot,...e},r==="mask")}const a=Array.from(t.childNodes).find(s=>{const l=s.tagName&&s.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});a?c.tagName==="SPAN"&&a.tagName===c.tagName?a.setAttribute("style",c.getAttribute("style")):t.replaceChild(c,a):t.appendChild(c)}function ge(t,n,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:n,icon:t,lastRender:o}}function _i(t="iconify-icon"){let n,e;try{n=window.customElements,e=window.HTMLElement}catch{return}if(!n||!e)return;const o=n.get(t);if(o)return o;const i=["icon","mode","inline","width","height","rotate","flip"],r=class extends e{constructor(){super();lt(this,"_shadowRoot");lt(this,"_state");lt(this,"_checkQueued",!1);const s=this._shadowRoot=this.attachShadow({mode:"open"}),l=Ct(this);ue(s,l),this._state=ge({value:""},l),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(s){if(s==="inline"){const l=Ct(this),u=this._state;l!==u.inline&&(u.inline=l,ue(this._shadowRoot,l))}else this._queueCheck()}get icon(){const s=this.getAttribute("icon");if(s&&s.slice(0,1)==="{")try{return JSON.parse(s)}catch{}return s}set icon(s){typeof s=="object"&&(s=JSON.stringify(s)),this.setAttribute("icon",s)}get inline(){return Ct(this)}set inline(s){s?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const s=this._state;if(s.rendered){const l=this._shadowRoot;if(s.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}pe(l,s)}}get status(){const s=this._state;return s.rendered?"rendered":s.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const s=this._state,l=this.getAttribute("icon");if(l!==s.icon.value){this._iconChanged(l);return}if(!s.rendered)return;const u=this.getAttribute("mode"),f=Zt(this);(s.attrMode!==u||kn(s.customisations,f))&&this._renderIcon(s.icon,f,u)}_iconChanged(s){const l=Yn(s,(u,f,p)=>{const w=this._state;if(w.rendered||this.getAttribute("icon")!==u)return;const m={value:u,name:f,data:p};m.data?this._gotIconData(m):w.icon=m});l.data?this._gotIconData(l):this._state=ge(l,this._state.inline,this._state)}_gotIconData(s){this._checkQueued=!1,this._renderIcon(s,Zt(this),this.getAttribute("mode"))}_renderIcon(s,l,u){const f=Zn(s.data.body,u),p=this._state.inline;pe(this._shadowRoot,this._state={rendered:!0,icon:s,inline:p,customisations:l,attrMode:u,renderedMode:f})}};i.forEach(a=>{a in r.prototype||Object.defineProperty(r.prototype,a,{get:function(){return this.getAttribute(a)},set:function(s){s!==null?this.setAttribute(a,s):this.removeAttribute(a)}})});const c=Be();for(const a in c)r[a]=r.prototype[a]=c[a];return n.define(t,r),r}const wi=_i()||Be(),{enableCache:Di,disableCache:Bi,iconExists:Qi,getIcon:Ui,listIcons:qi,addIcon:Hi,addCollection:Vi,calculateSize:Ki,buildIcon:Wi,loadIcons:Gi,loadIcon:Ji,addAPIProvider:Xi,_api:Yi}=wi;var Ii=L("<iconify-icon></iconify-icon>",2),Si=L("<button> <!></button>"),xi=L('<button class="tab-btn add-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button>',2),ki=L('<div class="dropdown-menu svelte-1ra6ezt"><a href="/settings" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Settings</a> <a href="/entities" class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> All Entities</a> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Refresh Page</button> <div class="divider svelte-1ra6ezt"></div> <button class="menu-item highlight svelte-1ra6ezt"><iconify-icon></iconify-icon> </button></div>',2),Ci=L("<button><iconify-icon></iconify-icon> </button>",2),Ai=L('<div class="mobile-drawer-overlay svelte-1ra6ezt"><div class="mobile-drawer svelte-1ra6ezt"><div class="drawer-header svelte-1ra6ezt"><h3>Menu</h3> <button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button></div> <div class="drawer-content svelte-1ra6ezt"><h4 class="svelte-1ra6ezt">Dashboards</h4> <div class="drawer-tabs"></div> <div class="divider svelte-1ra6ezt"></div> <a href="/entities" class="drawer-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Entities</a> <a href="/settings" class="drawer-item svelte-1ra6ezt"><iconify-icon></iconify-icon> Settings</a></div></div></div>',2),Ti=L('<header class="dashboard-header svelte-1ra6ezt"><div class="header-left svelte-1ra6ezt"><button class="icon-btn mobile-only svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <div class="logo svelte-1ra6ezt"><iconify-icon></iconify-icon> <span class="logo-text">Evolusion</span></div> <nav class="desktop-tabs svelte-1ra6ezt"><!> <!></nav></div> <div class="header-right svelte-1ra6ezt"><div class="search-wrapper desktop-only svelte-1ra6ezt"><iconify-icon></iconify-icon> <input type="text" placeholder="Search devices..." class="search-input svelte-1ra6ezt"/></div> <div class="menu-container svelte-1ra6ezt"><button class="icon-btn svelte-1ra6ezt"><iconify-icon></iconify-icon></button> <!></div></div></header> <!>',3);function Ei(t,n){Lt(n,!0);const e=()=>ht(Yt,"$tabs",r),o=()=>ht(_e,"$activeTabId",r),i=()=>ht(we,"$isEditMode",r),[r,c]=ye();let a=Y(!1),s=Y(!1);function l(){S(s,!1)}function u(y){bn(y),S(a,!1)}function f(){window.location.reload()}function p(){S(a,!A(a)),S(s,!1)}function w(y){y.stopPropagation(),S(s,!A(s)),S(a,!1)}var m=Ti();Xe("click",en,l);var v=tn(m),O=h(v),P=h(O);P.__click=y=>{y.stopPropagation(),p()};var C=h(P);_(C,"icon","mdi:menu"),_(C,"width","24"),d(P);var x=b(P,2),K=h(x);_(K,"icon","mdi:home-assistant"),_(K,"width","24"),J(K,1,"logo-icon svelte-1ra6ezt"),$(2),d(x);var q=b(x,2),g=h(q);Xt(g,1,e,y=>y.id,(y,I)=>{var k=Si();let R;k.__click=()=>u(A(I).id);var M=h(k),H=b(M);{var z=N=>{var E=Ii();_(E,"icon","mdi:pencil"),_(E,"width","14"),J(E,1,"edit-icon svelte-1ra6ezt"),F(N,E)};ut(H,N=>{i()&&N(z)})}d(k),V(()=>{R=J(k,1,"tab-btn svelte-1ra6ezt",null,R,{active:o()===A(I).id}),dt(M,`${A(I).title??""} `)}),F(y,k)});var T=b(g,2);{var B=y=>{var I=xi();I.__click=()=>Yt.addTab();var k=h(I);_(k,"icon","mdi:plus"),_(k,"width","20"),d(I),F(y,I)};ut(T,y=>{i()&&y(B)})}d(q),d(O);var Q=b(O,2),j=h(Q),Ht=h(j);_(Ht,"icon","mdi:magnify"),J(Ht,1,"search-icon svelte-1ra6ezt"),$(2),d(j);var Vt=b(j,2),st=h(Vt);st.__click=w;var Kt=h(st);_(Kt,"icon","mdi:dots-vertical"),_(Kt,"width","24"),d(st);var qe=b(st,2);{var He=y=>{var I=ki();I.__click=It=>It.stopPropagation();var k=h(I);k.__click=()=>S(s,!1);var R=h(k);_(R,"icon","mdi:cog-outline"),$(),d(k);var M=b(k,2);M.__click=()=>S(s,!1);var H=h(M);_(H,"icon","mdi:format-list-bulleted"),$(),d(M);var z=b(M,4);z.__click=f;var N=h(z);_(N,"icon","mdi:refresh"),$(),d(z);var E=b(z,4);E.__click=()=>{_n(),S(s,!1)};var ct=h(E);V(()=>_(ct,"icon",i()?"mdi:check":"mdi:view-dashboard-edit-outline"));var W=b(ct);d(E),d(I),V(()=>dt(W,` ${i()?"Done":"Edit Dashboard"}`)),F(y,I)};ut(qe,y=>{A(s)&&y(He)})}d(Vt),d(Q),d(v);var Ve=b(v,2);{var Ke=y=>{var I=Ai();I.__click=()=>S(a,!1);var k=h(I);k.__click=St=>St.stopPropagation();var R=h(k),M=b(h(R),2);M.__click=()=>S(a,!1);var H=h(M);_(H,"icon","mdi:close"),_(H,"width","24"),d(M),d(R);var z=b(R,2),N=b(h(z),2);Xt(N,5,e,ln,(St,at)=>{var G=Ci();let Wt;G.__click=()=>u(A(at).id);var Gt=h(G);V(()=>_(Gt,"icon",A(at).icon||"mdi:view-dashboard-outline"));var We=b(Gt);d(G),V(()=>{Wt=J(G,1,"drawer-item svelte-1ra6ezt",null,Wt,{active:o()===A(at).id}),dt(We,` ${A(at).title??""}`)}),F(St,G)}),d(N);var E=b(N,4);E.__click=()=>S(a,!1);var ct=h(E);_(ct,"icon","mdi:format-list-bulleted"),$(),d(E);var W=b(E,2);W.__click=()=>S(a,!1);var It=h(W);_(It,"icon","mdi:cog-outline"),$(),d(W),d(z),d(k),d(I),F(y,I)};ut(Ve,y=>{A(a)&&y(Ke)})}F(t,m),Rt(),c()}ve(["click"]);var Pi=L('<div class="layout-container svelte-12qhfyh"><!> <div class="main-content svelte-12qhfyh"><!> <main class="svelte-12qhfyh"><!></main></div></div>');function Zi(t,n){Lt(n,!0);const e=()=>ht(sn,"$appState",o),[o,i]=ye();me(async()=>{await cn(),await an()}),nn(()=>{const f=e().activeServer;f!=null&&f.url&&(f!=null&&f.token)?un(f.url,f.token):fn()});var r=Pi(),c=h(r);mn(c,{});var a=b(c,2),s=h(a);Ei(s,{});var l=b(s,2),u=h(l);dn(u,()=>n.children),d(l),d(a),d(r),F(t,r),Rt(),i()}export{Zi as component};
