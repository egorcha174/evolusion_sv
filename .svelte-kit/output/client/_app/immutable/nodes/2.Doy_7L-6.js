import{f as W,a as k,c as xt}from"../chunks/Ce9YDZfT.js";import{i as vr}from"../chunks/C_TRr-vN.js";import{aZ as gr,u as mr,r as hr,G as pr,b2 as yr,ag as yt,ah as F,am as R,ai as ae,a as w,b0 as Ie,ak as We,an as De,aj as Dt,s as te,c as Dr,A as Er,ap as Rt,al as br}from"../chunks/CHWeQpjd.js";import{d as Tr,s as ne,e as Nt}from"../chunks/BxIVbMkZ.js";import{i as oe,s as dt,a as jt}from"../chunks/D3jBc4OI.js";import{t as _r,e as wr,h as Or}from"../chunks/BjWtm3XP.js";import{e as $t,a as Ar}from"../chunks/CXY4_Tbm.js";import{c as Ir,d as Sr}from"../chunks/BI3YNUcV.js";import{s as it}from"../chunks/c2fIvuCP.js";import{s as Cr}from"../chunks/DgRfmkp8.js";function xr(e,t,r){gr(()=>{var n=mr(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,a={};hr(()=>{var o=r();pr(o),i&&yr(a,o)&&(a=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ft(Object(r),!0).forEach(function(n){_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(e)}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Nr(e,t){if(e==null)return{};var r=Rr(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fr(e,t){return Mr(e)||kr(e,t)||Et(e,t)||zr()}function j(e){return Lr(e)||Pr(e)||Et(e)||Gr()}function Lr(e){if(Array.isArray(e))return lt(e)}function Mr(e){if(Array.isArray(e))return e}function Pr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,l;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function Et(e,t){if(e){if(typeof e=="string")return lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lt(e,t)}}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Et(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,l=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var Ur="finalize",Br="consider";function we(e,t,r){e.dispatchEvent(new CustomEvent(Ur,{detail:{items:t,info:r}}))}function le(e,t,r){e.dispatchEvent(new CustomEvent(Br,{detail:{items:t,info:r}}))}var qe="draggedEntered",Pe="draggedLeft",Je="draggedOverIndex",bt="draggedLeftDocument",je={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Hr(e,t,r){e.dispatchEvent(new CustomEvent(qe,{detail:{indexObj:t,draggedEl:r}}))}function Wr(e,t,r){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:je.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Zr(e,t){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:je.OUTSIDE_OF_ANY}}))}function jr(e,t,r){e.dispatchEvent(new CustomEvent(Je,{detail:{indexObj:t,draggedEl:r}}))}function $r(e){window.dispatchEvent(new CustomEvent(bt,{detail:{draggedEl:e}}))}var G={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:qe,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Je,DRAGGED_LEFT:Pe,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},H={POINTER:"pointer",KEYBOARD:"keyboard"},Qe="isDndShadowItem",et="data-is-dnd-shadow-item-internal",Yr="data-is-dnd-shadow-item-hint",Yt="id:dnd-shadow-placeholder-0000",Vr="dnd-action-dragged-el",C="id",ut=0;function Vt(){ut++}function Kt(){if(ut===0)throw new Error("Bug! trying to decrement when there are no dropzones");ut--}var Tt=typeof window>"u";function ct(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?qr(e):e.getBoundingClientRect(),i=getComputedStyle(e),a=i.transform;if(a){var o,l,u,g;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],l=+r[5],u=+r[12],g=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],l=+r[3],u=+r[4],g=+r[5];else return n;var s=i.transformOrigin,v=n.x-u-(1-o)*parseFloat(s),d=n.y-g-(1-l)*parseFloat(s.slice(s.indexOf(" ")+1)),c=o?n.width/o:e.offsetWidth,f=l?n.height/l:e.offsetHeight;return{x:v,y:d,width:c,height:f,top:d,right:v+c,bottom:d+f,left:v}}else return n}function ft(e){var t=ct(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Xt(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function qt(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Kr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Re(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Jt(e){return qt(Xt(e))}function Lt(e,t){var r=Jt(t);return Kr(e,r)}function Xr(e){var t=Xt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function qr(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,i=!1,a=e.parentElement;a&&a!==document.body;){var o=window.getComputedStyle(a),l=o.overflowY,u=o.overflowX,g=l==="scroll"||l==="auto",s=u==="scroll"||u==="auto";if(g||s){var v=a.getBoundingClientRect();if(g){var d=Math.max(r.top,v.top),c=Math.min(r.bottom,v.bottom);(d!==r.top||c!==r.bottom)&&(n=!0),r.top=d,r.bottom=c}if(s){var f=Math.max(r.left,v.left),m=Math.min(r.right,v.right);(f!==r.left||m!==r.right)&&(i=!0),r.left=f,r.right=m}}a=a.parentElement}return n||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var be;function _t(){be=new Map}_t();function Jr(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(et)});if(t>=0)return be.has(e)||be.set(e,new Map),be.get(e).set(t,ft(e.children[t])),t}function Qr(e,t){var r=ft(t);if(!Re(e,r))return null;var n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var i=Jr(t),a=0;a<n.length;a++){var o=ft(n[a]);if(Re(e,o)){var l=be.has(t)&&be.get(t).get(a);return l&&!Re(e,l)?{index:i,isProximityBased:!1}:{index:a,isProximityBased:!1}}}for(var u=Number.MAX_VALUE,g=void 0,s=0;s<n.length;s++){var v=Lt(e,n[s]);v<u&&(u=v,g=s)}if(n.length>0){var d=n.length,c=n[d-1],f=c.cloneNode(!1);f.style.visibility="hidden",f.style.pointerEvents="none",t.appendChild(f);var m=Lt(e,f);m<u&&(g=d),t.removeChild(f)}return{index:g,isProximityBased:!0}}function Se(e){return JSON.stringify(e,null,2)}function $e(e){if(!e)throw new Error("cannot get depth of a falsy node");return Qt(e,0)}function Qt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Qt(e.parentElement,t+1):t-1}function en(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function tn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var rn=200,Mt=10,vt;function nn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rn,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a,o,l=!1,u,g=Array.from(t).sort(function(v,d){return $e(d)-$e(v)});function s(){var v=i(),d=n.multiScrollIfNeeded();if(!d&&u&&Math.abs(u.x-v.x)<Mt&&Math.abs(u.y-v.y)<Mt){vt=window.setTimeout(s,r);return}if(Xr(e)){$r(e);return}u=v;var c=!1,f=Me(g),m;try{for(f.s();!(m=f.n()).done;){var h=m.value;d&&_t();var p=Qr(v,h);if(p!==null){var D=p.index;c=!0,h!==a?(a&&Wr(a,e,h),Hr(h,p,e),a=h):D!==o&&(jr(h,p,e),o=D);break}}}catch(y){f.e(y)}finally{f.f()}!c&&l&&a?(Zr(a,e),a=void 0,o=void 0,l=!1):l=!0,vt=window.setTimeout(s,r)}s()}function an(){clearTimeout(vt),_t()}var Ce=30;function on(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var o=e,l=o.directionObj,u=o.stepPx;l&&(a.scrollBy(l.x*u,l.y*u),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return Ce-a}function i(a,o){if(!o)return!1;var l=sn(a,o),u=!!e.directionObj;if(l===null)return u&&t(),!1;var g=!1,s=!1;return o.scrollHeight>o.clientHeight&&(l.bottom<Ce?(g=!0,e.directionObj={x:0,y:1},e.stepPx=n(l.bottom)):l.top<Ce&&(g=!0,e.directionObj={x:0,y:-1},e.stepPx=n(l.top)),!u&&g)||o.scrollWidth>o.clientWidth&&(l.right<Ce?(s=!0,e.directionObj={x:1,y:0},e.stepPx=n(l.right)):l.left<Ce&&(s=!0,e.directionObj={x:-1,y:0},e.stepPx=n(l.left)),!u&&s)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function sn(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Re(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function dn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=un(e),n=Array.from(r).sort(function(u,g){return $e(g)-$e(u)}),i=on(),a=i.scrollIfNeeded,o=i.resetScrolling;function l(){var u=t();if(!u||!n)return!1;for(var g=n.filter(function(d){return Re(u,d.getBoundingClientRect())||d===document.scrollingElement}),s=0;s<g.length;s++){var v=a(u,g[s]);if(v)return!0}return!1}return{multiScrollIfNeeded:r.size>0?l:function(){return!1},destroy:function(){return o()}}}function ln(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function un(e){var t=new Set,r=Me(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;ln(i).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function cn(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:j(e.querySelectorAll("select")),a=Me(i),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;r.push(l.value)}}catch(y){a.e(y)}finally{a.f()}if(i.length>0)for(var u=n?[t]:j(t.querySelectorAll("select")),g=0;g<u.length;g++){var s=u[g],v=r[g],d=s.querySelector('option[value="'.concat(v,'"'));d&&d.setAttribute("selected",!0)}var c=e.tagName==="CANVAS",f=c?[e]:j(e.querySelectorAll("canvas"));if(f.length>0)for(var m=c?[t]:j(t.querySelectorAll("canvas")),h=0;h<m.length;h++){var p=f[h],D=m[h];D.width=p.width,D.height=p.height,p.width>0&&p.height>0&&D.getContext("2d").drawImage(p,0,0)}return t}var Fe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),fn=_e({},Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function er(e){if(!Fe[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Fe)));return fn[e]}var vn=.2;function ge(e){return"".concat(e," ").concat(vn,"s ease")}function gn(e,t){var r=e.getBoundingClientRect(),n=cn(e);tr(e,n),n.id=Vr,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),t){var o=qt(r);i-=o.y-t.y,a-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(ge("top"),", ").concat(ge("left"),", ").concat(ge("background-color"),", ").concat(ge("opacity"),", ").concat(ge("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(ge("width"),", ").concat(ge("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function mn(e){e.style.cursor="grab"}function hn(e,t,r,n){tr(t,e);var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=i.width-a.width,l=i.height-a.height;if(o||l){var u={left:(r-a.left)/a.width,top:(n-a.top)/a.height};er(Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*l,"px")}}function tr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||er(Fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function pn(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function rr(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function yn(e){e.style.visibility="hidden",e.setAttribute(et,"true")}function Dn(e){e.style.visibility="",e.removeAttribute(et)}function Be(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Ye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function En(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var bn="--any--",Tn=100,_n=20,ze=3,wn=80,Pt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},kt="data-is-dnd-original-dragged-item",U,S,B,tt,T,rt,de,M,q,N,ie=!1,wt=!1,Ot,ke=!1,He=[],Ne,J,xe=!1,At=!1,V=new Map,O=new Map,ot=new WeakMap;function On(e,t){V.has(t)||V.set(t,new Set),V.get(t).has(e)||(V.get(t).add(e),Vt())}function Gt(e,t){V.get(t).delete(e),Kt(),V.get(t).size===0&&V.delete(t)}function An(){var e=V.get(tt),t=Me(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(qe,nr),n.addEventListener(Pe,ar),n.addEventListener(Je,ir)}}catch(l){t.e(l)}finally{t.f()}window.addEventListener(bt,Oe);var i=Math.max.apply(Math,j(Array.from(e.keys()).map(function(l){return O.get(l).dropAnimationDurationMs}))),a=i===0?_n:Math.max(i,Tn);Ne=dn(e,function(){return N});var o=At?function(){return{x:N.x+window.scrollX,y:N.y+window.scrollY}}:function(){return Jt(S)};nn(S,e,a*1.07,Ne,o)}function In(){var e=V.get(tt),t=Me(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(qe,nr),n.removeEventListener(Pe,ar),n.removeEventListener(Je,ir)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(bt,Oe),Ne&&(Ne.destroy(),Ne=void 0),an()}function nt(e){return e.findIndex(function(t){return!!t[Qe]})}function Sn(e){var t;return Ze(Ze({},e),{},(t={},_e(t,Qe,!0),_e(t,C,Yt),t))}function nr(e){var t=O.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){if(ke=!1,r=r.filter(function(l){return l[C]!==de[C]&&l[C]!==Yt}),T!==e.currentTarget){var i=O.get(T).items,a=i.filter(function(l){return!l[Qe]});le(T,a,{trigger:G.DRAGGED_ENTERED_ANOTHER,id:B[C],source:H.POINTER})}var o=e.detail.indexObj.index;M=e.currentTarget,r.splice(o,0,de),le(e.currentTarget,r,{trigger:G.DRAGGED_ENTERED,id:B[C],source:H.POINTER})}}function ar(e){if(ie){var t=O.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T&&e.currentTarget!==M)){var i=j(r),a=nt(i);a!==-1&&i.splice(a,1);var o=M;M=void 0;var l=e.detail,u=l.type,g=l.theOtherDz;if(u===je.OUTSIDE_OF_ANY||u===je.LEFT_FOR_ANOTHER&&g!==T&&O.get(g).dropFromOthersDisabled){ke=!0,M=T;var s=o===T?i:j(O.get(T).items);s.splice(rt,0,de),le(T,s,{trigger:G.DRAGGED_LEFT_ALL,id:B[C],source:H.POINTER})}le(e.currentTarget,i,{trigger:G.DRAGGED_LEFT,id:B[C],source:H.POINTER})}}}function ir(e){var t=O.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==T)){var i=j(r);ke=!1;var a=e.detail.indexObj.index,o=nt(i);o!==-1&&i.splice(o,1),i.splice(a,0,de),le(e.currentTarget,i,{trigger:G.DRAGGED_OVER_INDEX,id:B[C],source:H.POINTER})}}function Ve(e){e.preventDefault();var t=e.touches?e.touches[0]:e;N={x:t.clientX,y:t.clientY},S.style.transform="translate3d(".concat(N.x-q.x,"px, ").concat(N.y-q.y,"px, 0)")}function Oe(){wt=!0,window.removeEventListener("mousemove",Ve),window.removeEventListener("touchmove",Ve),window.removeEventListener("mouseup",Oe),window.removeEventListener("touchend",Oe),In(),mn(S),M||(M=T);var e=O.get(M),t=e.items,r=e.type;Ye(V.get(r),function(a){return O.get(a).dropTargetStyle},function(a){return O.get(a).dropTargetClasses});var n=nt(t);n===-1&&M===T&&(n=rt),t=t.map(function(a){return a[Qe]?B:a});function i(){Ot(),we(M,t,{trigger:ke?G.DROPPED_OUTSIDE_OF_ANY:G.DROPPED_INTO_ZONE,id:B[C],source:H.POINTER}),M!==T&&we(T,O.get(T).items,{trigger:G.DROPPED_INTO_ANOTHER,id:B[C],source:H.POINTER});var a=Array.from(M.children).find(function(o){return o.getAttribute(et)});a&&Dn(a),Rn()}O.get(M).dropAnimationDisabled?i():Cn(n,i)}function Cn(e,t){var r=e>-1?ct(M.children[e],!1):ct(M,!1),n={x:r.left-parseFloat(S.style.left),y:r.top-parseFloat(S.style.top)},i=O.get(M),a=i.dropAnimationDurationMs,o="transform ".concat(a,"ms ease");S.style.transition=S.style.transition?S.style.transition+","+o:o,S.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function xn(e,t){He.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){rr(e),document.body.appendChild(e)})}function Rn(){S&&S.remove&&S.remove(),U&&U.remove&&U.remove(),S=void 0,U=void 0,B=void 0,tt=void 0,T=void 0,rt=void 0,de=void 0,M=void 0,q=void 0,N=void 0,ie=!1,wt=!1,Ot=void 0,ke=!1,J&&clearTimeout(J),J=void 0,xe=!1,At=!1,He.length&&(He.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),He=[])}function Nn(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Pt,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,useCursorForDetection:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function a(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function o(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l),J&&(clearTimeout(J),J=void 0,xe=!1)}function l(d){if(o(),U=void 0,q=void 0,N=void 0,d.type==="touchend"){var c=new Event("click",{bubbles:!0,cancelable:!0});d.target.dispatchEvent(c)}}function u(d){var c=!!d.touches,f=c?d.touches[0]:d;if(c&&n.delayTouchStartMs>0&&!xe){N={x:f.clientX,y:f.clientY},(Math.abs(N.x-q.x)>=ze||Math.abs(N.y-q.y)>=ze)&&(J&&(clearTimeout(J),J=void 0),l(d));return}d.preventDefault(),N={x:f.clientX,y:f.clientY},(Math.abs(N.x-q.x)>=ze||Math.abs(N.y-q.y)>=ze)&&(o(),s())}function g(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!ie){var c=!!d.touches,f=c&&n.delayTouchStartMs>0;f||d.preventDefault(),d.stopPropagation();var m=c?d.touches[0]:d;q={x:m.clientX,y:m.clientY},N=Ze({},q),U=d.currentTarget,f&&(xe=!1,J=window.setTimeout(function(){U&&(xe=!0,o(),s())},n.delayTouchStartMs)),a()}}function s(){ie=!0;var d=i.get(U);rt=d,T=U.parentElement;var c=T.closest("dialog")||T.closest("[popover]")||T.getRootNode(),f=c.body||c,m=n.items,h=n.type,p=n.centreDraggedOnCursor,D=n.useCursorForDetection,y=j(m);B=y[d],tt=h,de=Sn(B),At=D,S=gn(U,p&&N),f.appendChild(S);function x(){U.parentElement?window.requestAnimationFrame(x):(U.setAttribute(kt,!0),f.appendChild(U),An(),rr(U),de[C]=B[C],S.focus())}window.requestAnimationFrame(x),Be(Array.from(V.get(n.type)).filter(function(_){return _===T||!O.get(_).dropFromOthersDisabled}),function(_){return O.get(_).dropTargetStyle},function(_){return O.get(_).dropTargetClasses}),y.splice(d,1,de),Ot=En(T),le(T,y,{trigger:G.DRAG_STARTED,id:B[C],source:H.POINTER}),window.addEventListener("mousemove",Ve,{passive:!1}),window.addEventListener("touchmove",Ve,{passive:!1,capture:!1}),window.addEventListener("mouseup",Oe,{passive:!1}),window.addEventListener("touchend",Oe,{passive:!1})}function v(d){var c=d.items,f=c===void 0?void 0:c,m=d.flipDurationMs,h=m===void 0?0:m,p=d.type,D=p===void 0?bn:p,y=d.dragDisabled,x=y===void 0?!1:y,_=d.morphDisabled,re=_===void 0?!1:_,ue=d.dropFromOthersDisabled,ce=ue===void 0?!1:ue,ee=d.dropTargetStyle,fe=ee===void 0?Pt:ee,ve=d.dropTargetClasses,K=ve===void 0?[]:ve,pe=d.transformDraggedElement,b=pe===void 0?function(){}:pe,E=d.centreDraggedOnCursor,z=E===void 0?!1:E,A=d.useCursorForDetection,ur=A===void 0?!1:A,It=d.dropAnimationDisabled,cr=It===void 0?!1:It,St=d.delayTouchStart,Ae=St===void 0?!1:St;n.dropAnimationDurationMs=h;var at=0;Ae===!0?at=wn:typeof Ae=="number"&&isFinite(Ae)&&Ae>=0&&(at=Ae),n.delayTouchStartMs=at,n.type&&D!==n.type&&Gt(e,n.type),n.type=D,n.items=j(f),n.dragDisabled=x,n.morphDisabled=re,n.transformDraggedElement=b,n.centreDraggedOnCursor=z,n.useCursorForDetection=ur,n.dropAnimationDisabled=cr,r&&ie&&!wt&&(!en(fe,n.dropTargetStyle)||!tn(K,n.dropTargetClasses))&&(Ye([e],function(){return n.dropTargetStyle},function(){return K}),Be([e],function(){return fe},function(){return K})),n.dropTargetStyle=fe,n.dropTargetClasses=j(K);function Ge(X,Ct){return O.get(X)?O.get(X)[Ct]:n[Ct]}r&&ie&&n.dropFromOthersDisabled!==ce&&(ce?Ye([e],function(X){return Ge(X,"dropTargetStyle")},function(X){return Ge(X,"dropTargetClasses")}):Be([e],function(X){return Ge(X,"dropTargetStyle")},function(X){return Ge(X,"dropTargetClasses")})),n.dropFromOthersDisabled=ce,O.set(e,n),On(e,D);for(var fr=ie?nt(n.items):-1,ye=0;ye<e.children.length;ye++){var $=e.children[ye];if(pn($,x),ye===fr){re||hn(S,$,N.x,N.y),n.transformDraggedElement(S,B,ye),yn($);continue}$.removeEventListener("mousedown",ot.get($)),$.removeEventListener("touchstart",ot.get($)),x||($.addEventListener("mousedown",g),$.addEventListener("touchstart",g),ot.set($,g)),i.set($,ye),r||(r=!0)}}return v(t),{update:function(c){v(c)},destroy:function(){function c(){Gt(e,O.get(e).type),O.delete(e)}ie&&!e.closest("[".concat(kt,"]"))?xn(e,c):c()}}}var Ue,gt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},or=(Ue={},_e(Ue,gt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),_e(Ue,gt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Ue),Fn="dnd-action-aria-alert",I;function mt(){I||(I=document.createElement("div"),function(){I.id=Fn,I.style.position="fixed",I.style.bottom="0",I.style.left="0",I.style.zIndex="-5",I.style.opacity="0",I.style.height="0",I.style.width="0",I.setAttribute("role","alert")}(),document.body.prepend(I),Object.entries(or).forEach(function(e){var t=Fr(e,2),r=t[0],n=t[1];return document.body.prepend(Pn(r,n))}))}function Ln(){return Tt?null:(document.readyState==="complete"?mt():window.addEventListener("DOMContentLoaded",mt),Ze({},gt))}function Mn(){Tt||!I||(Object.keys(or).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),I.remove(),I=void 0)}function Pn(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Te(e){if(!Tt){I||mt(),I.innerHTML="";var t=document.createTextNode(e);I.appendChild(t),I.style.display="none",I.style.display="inline"}}var kn="--any--",zt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Z=!1,ht,P,he="",me,Q,se="",Ke=new WeakSet,Ut=new WeakMap,Bt=new WeakMap,pt=new Map,L=new Map,Y=new Map,Xe;function Gn(e,t){Y.size===0&&(Xe=Ln(),window.addEventListener("keydown",sr),window.addEventListener("click",dr)),Y.has(t)||Y.set(t,new Set),Y.get(t).has(e)||(Y.get(t).add(e),Vt())}function Ht(e,t){P===e&&Le(),Y.get(t).delete(e),Kt(),Y.get(t).size===0&&Y.delete(t),Y.size===0&&(window.removeEventListener("keydown",sr),window.removeEventListener("click",dr),Xe=void 0,Mn())}function sr(e){if(Z)switch(e.key){case"Escape":{Le();break}}}function dr(){Z&&(Ke.has(document.activeElement)||Le())}function zn(e){if(Z){var t=e.currentTarget;if(t!==P){he=t.getAttribute("aria-label")||"";var r=L.get(P),n=r.items,i=n.find(function(v){return v[C]===Q}),a=n.indexOf(i),o=n.splice(a,1)[0],l=L.get(t),u=l.items,g=l.autoAriaDisabled;t.getBoundingClientRect().top<P.getBoundingClientRect().top||t.getBoundingClientRect().left<P.getBoundingClientRect().left?(u.push(o),g||Te("Moved item ".concat(se," to the end of the list ").concat(he))):(u.unshift(o),g||Te("Moved item ".concat(se," to the beginning of the list ").concat(he)));var s=P;we(s,n,{trigger:G.DROPPED_INTO_ANOTHER,id:Q,source:H.KEYBOARD}),we(t,u,{trigger:G.DROPPED_INTO_ZONE,id:Q,source:H.KEYBOARD}),P=t}}}function lr(){pt.forEach(function(e,t){var r=e.update;return r(L.get(t))})}function Le(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;L.get(P).autoAriaDisabled||Te("Stopped dragging item ".concat(se)),Ke.has(document.activeElement)&&document.activeElement.blur(),e&&le(P,L.get(P).items,{trigger:G.DRAG_STOPPED,id:Q,source:H.KEYBOARD}),Ye(Y.get(ht),function(t){return L.get(t).dropTargetStyle},function(t){return L.get(t).dropTargetClasses}),me=null,Q=null,se="",ht=null,P=null,he="",Z=!1,lr()}function Un(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:zt,dropTargetClasses:[],autoAriaDisabled:!1};function n(s,v,d){s.length<=1||s.splice(d,1,s.splice(v,1,s[d])[0])}function i(s){switch(s.key){case"Enter":case" ":{if((s.target.disabled!==void 0||s.target.href||s.target.isContentEditable)&&!Ke.has(s.target))return;s.preventDefault(),s.stopPropagation(),Z?Le():a(s);break}case"ArrowDown":case"ArrowRight":{if(!Z)return;s.preventDefault(),s.stopPropagation();var v=L.get(e),d=v.items,c=Array.from(e.children),f=c.indexOf(s.currentTarget);f<c.length-1&&(r.autoAriaDisabled||Te("Moved item ".concat(se," to position ").concat(f+2," in the list ").concat(he)),n(d,f,f+1),we(e,d,{trigger:G.DROPPED_INTO_ZONE,id:Q,source:H.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Z)return;s.preventDefault(),s.stopPropagation();var m=L.get(e),h=m.items,p=Array.from(e.children),D=p.indexOf(s.currentTarget);D>0&&(r.autoAriaDisabled||Te("Moved item ".concat(se," to position ").concat(D," in the list ").concat(he)),n(h,D,D-1),we(e,h,{trigger:G.DROPPED_INTO_ZONE,id:Q,source:H.KEYBOARD}));break}}}function a(s){l(s.currentTarget),P=e,ht=r.type,Z=!0;var v=Array.from(Y.get(r.type)).filter(function(c){return c===P||!L.get(c).dropFromOthersDisabled});if(Be(v,function(c){return L.get(c).dropTargetStyle},function(c){return L.get(c).dropTargetClasses}),!r.autoAriaDisabled){var d="Started dragging item ".concat(se,". Use the arrow keys to move it within its list ").concat(he);v.length>1&&(d+=", or tab to another list in order to move the item into it"),Te(d)}le(e,L.get(e).items,{trigger:G.DRAG_STARTED,id:Q,source:H.KEYBOARD}),lr()}function o(s){Z&&s.currentTarget!==me&&(s.stopPropagation(),Le(!1),a(s))}function l(s){var v=L.get(e),d=v.items,c=Array.from(e.children),f=c.indexOf(s);me=s,me.tabIndex=r.zoneItemTabIndex,Q=d[f][C],se=c[f].getAttribute("aria-label")||""}function u(s){var v=s.items,d=v===void 0?[]:v,c=s.type,f=c===void 0?kn:c,m=s.dragDisabled,h=m===void 0?!1:m,p=s.zoneTabIndex,D=p===void 0?0:p,y=s.zoneItemTabIndex,x=y===void 0?0:y,_=s.dropFromOthersDisabled,re=_===void 0?!1:_,ue=s.dropTargetStyle,ce=ue===void 0?zt:ue,ee=s.dropTargetClasses,fe=ee===void 0?[]:ee,ve=s.autoAriaDisabled,K=ve===void 0?!1:ve;r.items=j(d),r.dragDisabled=h,r.dropFromOthersDisabled=re,r.zoneTabIndex=D,r.zoneItemTabIndex=x,r.dropTargetStyle=ce,r.dropTargetClasses=fe,r.autoAriaDisabled=K,r.type&&f!==r.type&&Ht(e,r.type),r.type=f,Gn(e,f),K||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?Xe.DND_ZONE_DRAG_DISABLED:Xe.DND_ZONE_ACTIVE)),L.set(e,r),Z?e.tabIndex=e===P||me.contains(e)||r.dropFromOthersDisabled||P&&r.type!==L.get(P).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",zn);for(var pe=function(z){var A=e.children[z];Ke.add(A),A.tabIndex=Z?-1:r.zoneItemTabIndex,K||A.setAttribute("role","listitem"),A.removeEventListener("keydown",Ut.get(A)),A.removeEventListener("click",Bt.get(A)),h||(A.addEventListener("keydown",i),Ut.set(A,i),A.addEventListener("click",o),Bt.set(A,o)),Z&&r.items[z][C]===Q&&(me=A,me.tabIndex=r.zoneItemTabIndex,A.focus())},b=0;b<e.children.length;b++)pe(b)}u(t);var g={update:function(v){u(v)},destroy:function(){Ht(e,r.type),L.delete(e),pt.delete(e)}};return pt.set(e,g),g}var Bn=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","useCursorForDetection","delayTouchStart","dropAnimationDisabled"];function st(e,t){if(Hn(e))return{update:function(){},destroy:function(){}};Wt(t);var r=Nn(e,t),n=Un(e,t);return{update:function(a){Wt(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function Hn(e){return!!e.closest("[".concat(Yr,'="true"]'))}function Wt(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.useCursorForDetection;var a=e.delayTouchStart;e.dropAnimationDisabled;var o=Nr(e,Bn);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var l=t.find(function(s){return!{}.hasOwnProperty.call(s,C)});if(l)throw new Error("missing '".concat(C,"' property for item ").concat(Se(l)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Ee(i),", ").concat(Se(i)));if(r&&!Zt(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Ee(r),", ").concat(Se(r)));if(n&&!Zt(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Ee(n),", ").concat(Se(n)));if(a!==void 0&&a!==!1){var u=a===!0,g=typeof a=="number"&&isFinite(a)&&a>=0;if(!u&&!g)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Ee(a),", ").concat(Se(a)))}}function Zt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}var Wn=W('<div class="attribute svelte-vmg48c"> </div>'),Zn=W('<div class="attribute svelte-vmg48c"> </div>'),jn=W("<button> </button>"),$n=W('<div class="error svelte-vmg48c"> </div>'),Yn=W('<div class="card svelte-vmg48c"><div class="card-header svelte-vmg48c"><div class="icon svelte-vmg48c"> </div> <div class="name svelte-vmg48c"> </div></div> <div class="card-body svelte-vmg48c"><div class="state-display svelte-vmg48c"><span class="state-text svelte-vmg48c"> </span></div> <!> <!></div> <div class="card-footer svelte-vmg48c"><!></div> <!></div>');function Vn(e,t){yt(t,!0);let r=We(!1),n=We(null);async function i(){try{te(r,!0),te(n,null),await _r(t.entity.entity_id)}catch(b){te(n,b.message||"Failed to toggle",!0)}finally{te(r,!1)}}let a=Ie(()=>$t(t.entity.entity_id)),o=Ie(()=>t.entity.attributes.friendly_name||t.entity.entity_id),l=Ie(()=>t.entity.state==="on"||t.entity.state==="open"||t.entity.state==="unlocked"),u=Ie(()=>["light","switch","cover","lock","input_boolean","script"].includes(w(a)));function g(b,E){return{light:E?"ðŸ’¡":"ðŸŒ™",switch:E?"âœ…":"âŒ",cover:"ðŸªŸ",climate:"ðŸŒ¡ï¸",media_player:"ðŸŽµ",lock:E?"ðŸ”“":"ðŸ”’",script:"ðŸ“œ"}[b]||"ðŸ“±"}let s=Ie(()=>g(w(a),w(l)));var v=Yn(),d=F(v),c=F(d),f=F(c,!0);R(c);var m=ae(c,2),h=F(m,!0);R(m),R(d);var p=ae(d,2),D=F(p),y=F(D),x=F(y,!0);R(y),R(D);var _=ae(D,2);{var re=b=>{var E=Wn(),z=F(E);R(E),De(A=>ne(z,`Brightness: ${A??""}%`),[()=>Math.round(t.entity.attributes.brightness/255*100)]),k(b,E)};oe(_,b=>{t.entity.attributes.brightness!==void 0&&b(re)})}var ue=ae(_,2);{var ce=b=>{var E=Zn(),z=F(E);R(E),De(()=>ne(z,`${t.entity.attributes.temperature??""}Â°`)),k(b,E)};oe(ue,b=>{t.entity.attributes.temperature!==void 0&&b(ce)})}R(p);var ee=ae(p,2),fe=F(ee);{var ve=b=>{var E=jn();E.__click=i;let z;var A=F(E,!0);R(E),De(()=>{E.disabled=w(r),z=Cr(E,1,"toggle-btn svelte-vmg48c",null,z,{on:w(l)}),ne(A,w(r)?"...":w(l)?"Off":"On")}),k(b,E)};oe(fe,b=>{w(u)&&b(ve)})}R(ee);var K=ae(ee,2);{var pe=b=>{var E=$n(),z=F(E,!0);R(E),De(()=>ne(z,w(n))),k(b,E)};oe(K,b=>{w(n)&&b(pe)})}R(v),De(()=>{it(v,"data-domain",w(a)),it(v,"data-state",w(l)?"on":"off"),ne(f,w(s)),it(m,"title",w(o)),ne(h,w(o)),ne(x,t.entity.state)}),k(e,v),Dt()}Tr(["click"]);var Kn=W('<div class="empty-state svelte-wf2j5s">No dashboard devices found. Add lights, switches, or media players to Home Assistant.</div>'),Xn=W('<div class="grid-item svelte-wf2j5s"><!></div>'),qn=W('<div class="grid svelte-wf2j5s"></div>'),Jn=W('<div class="dashboard-grid svelte-wf2j5s"><!></div>');function Qn(e,t){yt(t,!0);const r=()=>dt(wr,"$entityList",i),n=()=>dt(Ir,"$layoutConfig",i),[i,a]=jt();let o=We(Dr([])),l=We(!1);const u=200;Er(()=>{if(w(l))return;const m=r(),h=n().cardOrder,p=m.filter(y=>{const x=$t(y.entity_id);return["light","switch","climate","media_player","cover","lock","script"].includes(x)});let D=[];if(h.length>0){const y=h.map(_=>p.find(re=>re.entity_id===_)).filter(_=>_!==void 0),x=p.filter(_=>!h.includes(_.entity_id));D=[...y,...x]}else D=p;te(o,D.map(y=>({...y,id:y.entity_id})),!0)});function g(m){te(o,m.detail.items,!0),te(l,!0)}function s(m){te(o,m.detail.items,!0),te(l,!1);const h=w(o).map(p=>p.entity_id);Sr(h)}var v=Jn(),d=F(v);{var c=m=>{var h=Kn();k(m,h)},f=m=>{var h=qn();Ar(h,21,()=>w(o),p=>p.id,(p,D)=>{var y=Xn(),x=F(y);Vn(x,{get entity(){return w(D)}}),R(y),k(p,y)}),R(h),xr(h,(p,D)=>st==null?void 0:st(p,D),()=>({items:w(o),flipDurationMs:u,dropTargetStyle:{outline:"2px dashed #2196f3",outlineOffset:"-2px",borderRadius:"12px"}})),Nt("consider",h,g),Nt("finalize",h,s),k(m,h)};oe(d,m=>{w(o).length===0?m(c):m(f,!1)})}R(v),k(e,v),Dt(),a()}var ea=W('<div class="state-container svelte-1uha8ag"><div class="spinner svelte-1uha8ag"></div> <p class="svelte-1uha8ag">Connecting to Home Assistant...</p></div>'),ta=W('<div class="state-container error svelte-1uha8ag"><h3 class="svelte-1uha8ag">Connection Error</h3> <p class="svelte-1uha8ag"> </p> <a href="/settings" class="btn svelte-1uha8ag">Check Settings</a></div>'),ra=W('<div class="state-container svelte-1uha8ag"><h3 class="svelte-1uha8ag">Not Connected</h3> <p class="svelte-1uha8ag">Please configure your server connection.</p> <a href="/settings" class="btn svelte-1uha8ag">Go to Settings</a></div>'),na=W('<div class="dashboard-page svelte-1uha8ag"><div class="page-header svelte-1uha8ag"><h1 class="svelte-1uha8ag">Dashboard</h1></div> <!></div>');function ga(e,t){yt(t,!1);const r=()=>dt(Or,"$haStore",n),[n,i]=jt();vr();var a=na(),o=ae(F(a),2);{var l=g=>{var s=ea();k(g,s)},u=g=>{var s=xt(),v=Rt(s);{var d=f=>{var m=ta(),h=ae(F(m),2),p=F(h,!0);R(h),br(2),R(m),De(()=>ne(p,r().error)),k(f,m)},c=f=>{var m=xt(),h=Rt(m);{var p=y=>{var x=ra();k(y,x)},D=y=>{Qn(y,{})};oe(h,y=>{r().isConnected?y(D,!1):y(p)},!0)}k(f,m)};oe(v,f=>{r().error?f(d):f(c,!1)},!0)}k(g,s)};oe(o,g=>{r().isLoading?g(l):g(u,!1)})}R(a),k(e,a),Dt(),i()}export{ga as component};
