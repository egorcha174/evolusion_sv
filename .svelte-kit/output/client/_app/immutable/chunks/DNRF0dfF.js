import{aD as C,x as s,w as u}from"./CXj4HnGG.js";const S=C(new Date,e=>{const a=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(a)}),O=s(S,e=>e.getHours()*60+e.getMinutes()),L=s(S,e=>e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})),g={bgPage:"#f0f2f5",bgPrimary:"#ffffff",bgSecondary:"#f7f8fa",bgCard:"#ffffff",bgCardHover:"#fbfbfb",bgHeader:"#ffffff",bgSidebar:"#ffffff",bgSidebarActiveItem:"#f0f2f5",bgInput:"#ffffff",bgChip:"#e4e6eb",bgChipActive:"#e7f3ff",textPrimary:"#1a1d21",textSecondary:"#65676b",textMuted:"#b0b3b8",textName:"#1a1d21",textStatus:"#65676b",textOnPrimary:"#ffffff",textOnAccent:"#ffffff",textOnDanger:"#ffffff",borderPrimary:"#dce0e6",borderSecondary:"#f0f2f5",borderCard:"#ebeef2",borderInput:"#ced0d4",borderFocus:"#2196f3",borderDivider:"#eff1f4",stateOn:"#2196f3",stateOff:"#b0b3b8",stateUnavailable:"#e4e6eb",stateUnknown:"#f0f2f5",accentPrimary:"#2196f3",accentSecondary:"#607d8b",accentSuccess:"#4caf50",accentWarning:"#ff9800",accentError:"#f44336",accentInfo:"#03a9f4",tabActive:"#2196f3",tabInactive:"#65676b",tabHover:"#1a1d21",tabBorderActive:"#2196f3",widgetThermostatCold:"#2196f3",widgetThermostatWarm:"#ff9800",widgetThermostatHot:"#f44336",widgetSliderTrack:"#e4e6eb",widgetSliderThumb:"#ffffff",widgetSliderFill:"#2196f3",widgetSwitchOn:"#4caf50",widgetSwitchOff:"#b0b3b8",chartPrimary:"#2196f3",chartSecondary:"#4caf50",chartTertiary:"#ff9800",chartGrid:"#f0f2f5",chartAxis:"#b0b3b8",shadowCard:"0 1px 2px rgba(0, 0, 0, 0.05)",shadowModal:"0 8px 24px rgba(0, 0, 0, 0.15)",shadowDropdown:"0 4px 12px rgba(0, 0, 0, 0.1)",overlayBg:"rgba(0, 0, 0, 0.4)",modalBg:"#ffffff",scrollbarThumb:"#bcc0c4",scrollbarTrack:"transparent",tooltipBg:"#1a1d21",tooltipText:"#ffffff"},l={bgPage:"#111315",bgPrimary:"#1e2023",bgSecondary:"#25282c",bgCard:"#1e2023",bgCardHover:"#25282c",bgHeader:"#16181b",bgSidebar:"#0d0f11",bgSidebarActiveItem:"#25282c",bgInput:"#2d3035",bgChip:"#2d3035",bgChipActive:"#1c2f45",textPrimary:"#e4e6eb",textSecondary:"#b0b3b8",textMuted:"#6d7177",textName:"#e4e6eb",textStatus:"#b0b3b8",textOnPrimary:"#000000",textOnAccent:"#000000",textOnDanger:"#ffffff",borderPrimary:"#2d3035",borderSecondary:"#16181b",borderCard:"#2d3035",borderInput:"#3e4147",borderFocus:"#64b5f6",borderDivider:"#2d3035",stateOn:"#64b5f6",stateOff:"#6d7177",stateUnavailable:"#2d3035",stateUnknown:"#16181b",accentPrimary:"#64b5f6",accentSecondary:"#90a4ae",accentSuccess:"#81c784",accentWarning:"#ffb74d",accentError:"#e57373",accentInfo:"#4fc3f7",tabActive:"#64b5f6",tabInactive:"#b0b3b8",tabHover:"#e4e6eb",tabBorderActive:"#64b5f6",widgetThermostatCold:"#64b5f6",widgetThermostatWarm:"#ffb74d",widgetThermostatHot:"#e57373",widgetSliderTrack:"#2d3035",widgetSliderThumb:"#e4e6eb",widgetSliderFill:"#64b5f6",widgetSwitchOn:"#81c784",widgetSwitchOff:"#6d7177",chartPrimary:"#64b5f6",chartSecondary:"#81c784",chartTertiary:"#ffb74d",chartGrid:"#2d3035",chartAxis:"#6d7177",shadowCard:"0 2px 4px rgba(0, 0, 0, 0.2)",shadowModal:"0 8px 24px rgba(0, 0, 0, 0.5)",shadowDropdown:"0 4px 12px rgba(0, 0, 0, 0.4)",overlayBg:"rgba(0, 0, 0, 0.6)",modalBg:"#1e2023",scrollbarThumb:"#3e4147",scrollbarTrack:"transparent",tooltipBg:"#e4e6eb",tooltipText:"#1a1d21"},P={...g,bgPage:"#f5f5f7",bgCard:"#ffffff",bgCardHover:"#ffffff",bgSidebar:"#fbfbfd",bgSidebarActiveItem:"#e5e5e5",textPrimary:"#1d1d1f",accentPrimary:"#0071e3",stateOn:"#0071e3",shadowCard:"0 4px 12px rgba(0,0,0,0.06)",borderCard:"transparent",widgetSwitchOn:"#34c759",widgetSliderFill:"#0071e3"},k={...l,bgPage:"#000000",bgCard:"#1c1c1e",bgCardHover:"#2c2c2e",bgSidebar:"#121212",textPrimary:"#f5f5f7",accentPrimary:"#0a84ff",stateOn:"#0a84ff",borderCard:"rgba(255,255,255,0.1)",widgetSwitchOn:"#30d158",widgetSliderFill:"#0a84ff"},I={...g,bgPage:"#fff",bgCard:"#f5f5f5",accentPrimary:"#6200ee",accentSecondary:"#03dac6",stateOn:"#6200ee",shadowCard:"0 1px 3px rgba(0,0,0,0.2), 0 2px 2px rgba(0,0,0,0.14), 0 0 2px rgba(0,0,0,0.12)",borderCard:"transparent",widgetSwitchOn:"#6200ee"},D={...l,bgPage:"#121212",bgCard:"#1e1e1e",accentPrimary:"#bb86fc",accentSecondary:"#03dac6",stateOn:"#bb86fc",shadowCard:"0 1px 3px rgba(0,0,0,0.3)",borderCard:"rgba(255,255,255,0.08)",widgetSwitchOn:"#bb86fc"},w=[{id:"default",name:"Default",description:"Standard Evolusion theme",isBuiltIn:!0,light:g,dark:l},{id:"apple",name:"Apple Inspired",description:"Clean, high contrast, translucent feel",isBuiltIn:!0,light:P,dark:k},{id:"material",name:"Material Design",description:"High saturation, deep shadows",isBuiltIn:!0,light:I,dark:D}],A=w[0];function E(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function H(e){const a=[];return Object.entries(e).forEach(([r,t])=>{const f=`--${E(r)}`;a.push(`  ${f}: ${t};`)}),`:root {
${a.join(`
`)}
}`}const m="evolusion_theme_settings",p={mode:"auto",activeThemeId:"default",schedule:{darkStart:"22:00",darkEnd:"07:00"},customThemes:[]};function B(){const{subscribe:e,set:a,update:r}=u(p);return{subscribe:e,set:a,update:r,init:()=>{try{const t=localStorage.getItem(m);if(t){const f=JSON.parse(t);a({...p,...f})}}catch(t){console.error("Failed to load theme settings",t)}},save:t=>{localStorage.setItem(m,JSON.stringify(t)),a(t)}}}const M=B(),b=u(!1);{const e=window.matchMedia("(prefers-color-scheme: dark)");b.set(e.matches),e.addEventListener("change",a=>b.set(a.matches))}const N=s([M,b,O],([e,a,r])=>{let t="light";if(e.mode==="day")t="light";else if(e.mode==="night")t="dark";else if(e.mode==="auto")t=a?"dark":"light";else if(e.mode==="schedule"){const[c,y]=e.schedule.darkStart.split(":").map(Number),[T,v]=e.schedule.darkEnd.split(":").map(Number),i=c*60+y,o=T*60+v;let n=!1;i<o?n=r>=i&&r<o:n=r>=i||r<o,t=n?"dark":"light"}const d=[...w,...e.customThemes].find(c=>c.id===e.activeThemeId)||A,h=t==="dark"?d.dark:d.light,x=H(h);return{scheme:t,activeTheme:d,palette:h,css:x}});export{w as B,L as a,N as b,M as t};
