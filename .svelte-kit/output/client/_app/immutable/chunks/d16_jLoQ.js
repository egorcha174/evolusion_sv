var x=Object.defineProperty;var m=s=>{throw TypeError(s)};var B=(s,e,t)=>e in s?x(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var A=(s,e,t)=>B(s,typeof e!="symbol"?e+"":e,t),E=(s,e,t)=>e.has(s)||m("Cannot "+t);var r=(s,e,t)=>(E(s,e,"read from private field"),t?t.call(s):e.get(s)),l=(s,e,t)=>e.has(s)?m("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),w=(s,e,t,a)=>(E(s,e,"write to private field"),a?a.call(s,t):e.set(s,t),t);import{V as M,W as Y,X as y,Y as C,Z as F,_ as N,$ as S,a0 as H,a1 as I,a2 as L,a3 as U,a4 as $,H as q,a5 as K,a6 as P,a7 as Q,a8 as V,a9 as D,K as W,aa as X,u as Z,O as j,S as z,Q as O,ab as G,ac as J,s as ee,F as se,a as te,ad as ae,ae as re}from"./DrE23S9z.js";var o,d,u,b,p,v,k;class ie{constructor(e,t=!0){A(this,"anchor");l(this,o,new Map);l(this,d,new Map);l(this,u,new Map);l(this,b,new Set);l(this,p,!0);l(this,v,()=>{var e=M;if(r(this,o).has(e)){var t=r(this,o).get(e),a=r(this,d).get(t);if(a)Y(a),r(this,b).delete(t);else{var f=r(this,u).get(t);f&&(r(this,d).set(t,f.effect),r(this,u).delete(t),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),a=f.effect)}for(const[i,n]of r(this,o)){if(r(this,o).delete(i),i===e)break;const c=r(this,u).get(n);c&&(y(c.effect),r(this,u).delete(n))}for(const[i,n]of r(this,d)){if(i===t||r(this,b).has(i))continue;const c=()=>{if(Array.from(r(this,o).values()).includes(i)){var _=document.createDocumentFragment();I(n,_),_.append(F()),r(this,u).set(i,{effect:n,fragment:_})}else y(n);r(this,b).delete(i),r(this,d).delete(i)};r(this,p)||!a?(r(this,b).add(i),C(n,c,!1)):c()}}});l(this,k,e=>{r(this,o).delete(e);const t=Array.from(r(this,o).values());for(const[a,f]of r(this,u))t.includes(a)||(y(f.effect),r(this,u).delete(a))});this.anchor=e,w(this,p,t)}ensure(e,t){var a=M,f=L();if(t&&!r(this,d).has(e)&&!r(this,u).has(e))if(f){var i=document.createDocumentFragment(),n=F();i.append(n),r(this,u).set(e,{effect:N(()=>t(n)),fragment:i})}else r(this,d).set(e,N(()=>t(this.anchor)));if(r(this,o).set(a,e),f){for(const[c,h]of r(this,d))c===e?a.skipped_effects.delete(h):a.skipped_effects.add(h);for(const[c,h]of r(this,u))c===e?a.skipped_effects.delete(h.effect):a.skipped_effects.add(h.effect);a.oncommit(r(this,v)),a.ondiscard(r(this,k))}else S&&(this.anchor=H),r(this,v).call(this)}}o=new WeakMap,d=new WeakMap,u=new WeakMap,b=new WeakMap,p=new WeakMap,v=new WeakMap,k=new WeakMap;function ce(s,e,t=!1){S&&$();var a=new ie(s),f=t?q:0;function i(n,c){if(S){const _=K(s)===P;if(n===_){var h=Q();V(h),a.anchor=h,D(!1),a.ensure(n,c),D(!0);return}}a.ensure(n,c)}U(()=>{var n=!1;e((c,h=!0)=>{n=!0,i(h,c)}),n||i(!1,null)},f)}function R(s,e){return s===e||(s==null?void 0:s[z])===e}function ue(s={},e,t,a){return W(()=>{var f,i;return X(()=>{f=i,i=[],Z(()=>{s!==t(...i)&&(e(s,...i),f&&R(t(...f),s)&&e(null,...f))})}),()=>{j(()=>{i&&R(t(...i),s)&&e(null,...i)})}}),s}let g=!1,T=Symbol();function he(s,e,t){const a=t[e]??(t[e]={store:null,source:G(void 0),unsubscribe:O});if(a.store!==s&&!(T in t))if(a.unsubscribe(),a.store=s??null,s==null)a.source.v=void 0,a.unsubscribe=O;else{var f=!0;a.unsubscribe=J(s,i=>{f?a.source.v=i:ee(a.source,i)}),f=!1}return s&&T in t?se(s):te(a.source)}function oe(){const s={};function e(){ae(()=>{for(var t in s)s[t].unsubscribe();re(s,T,{enumerable:!1,value:!0})})}return[s,e]}function de(s,e,t){return s.set(t),e}function le(s){var e=g;try{return g=!1,[s(),g]}finally{g=e}}export{ie as B,he as a,ue as b,le as c,de as d,ce as i,oe as s};
