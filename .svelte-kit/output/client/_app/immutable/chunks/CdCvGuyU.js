import{r as d,t as y,v as A,w as E,N as S,x as k,y as m,z as b,A as M,u as N,B as g,C as f,E as L}from"./BWA2oz35.js";const T=Symbol("is custom element"),I=Symbol("is html");function x(e){if(d){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var c=e.value;n(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var s=e.checked;n(e,"checked",null),e.checked=s}}};e.__on_r=a,y(a),A()}}function n(e,r,a,c){var s=w(e);d&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[E]=a),a==null?e.removeAttribute(r):typeof a!="string"&&C(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function w(e){return e.__attributes??(e.__attributes={[T]:e.nodeName.includes("-"),[I]:e.namespaceURI===S})}var h=new Map;function C(e){var r=e.getAttribute("is")||e.nodeName,a=h.get(r);if(a)return a;h.set(r,a=[]);for(var c,s=e,o=Element.prototype;o!==s;){c=m(s);for(var t in c)c[t].set&&a.push(t);s=k(s)}return a}function B(e,r,a=r){var c=new WeakSet;b(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=_(e)?i(o):o,a(o),f!==null&&c.add(f),await M(),o!==(o=r())){var t=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=o??"",l!==null){var v=e.value.length;t===l&&l===u&&v>u?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=t,e.selectionEnd=Math.min(l,v))}}}),(d&&e.defaultValue!==e.value||N(r)==null&&e.value)&&(a(_(e)?i(e.value):e.value),f!==null&&c.add(f)),g(()=>{var s=r();if(e===document.activeElement){var o=L??f;if(c.has(o))return}_(e)&&s===i(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function _(e){var r=e.type;return r==="number"||r==="range"}function i(e){return e===""?null:+e}export{B as b,x as r,n as s};
