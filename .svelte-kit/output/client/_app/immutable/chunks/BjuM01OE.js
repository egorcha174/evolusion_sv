import{_ as U,A as Ee,ae as ce,a7 as H,h as w,af as Ae,a3 as be,g as ee,m as me,a4 as Ce,a5 as Te,a6 as re,a8 as L,a0 as D,ag as Ne,ah as Ie,ai as te,T as Oe,aj as b,$ as Y,a2 as ke,ak as ae,aa as Me,al as B,N as Le,am as Re,an as xe,ao as De,X as le,Z as ue,ap as F,q as de,aq as Ke,ar as Ue,as as He,Y as Fe,at as ne,au as Ge,av as Ye,aw as ze,ax as oe,ay as qe,t as Je,az as Ve,aA as Be,aB as ve}from"./BA3XBSiu.js";function tr(e,r){return r}function Pe(e,r,t){for(var a=[],n=r.length,i,s=r.length,l=0;l<n;l++){let v=r[l];ue(v,()=>{if(i){if(i.pending.delete(v),i.done.add(v),i.pending.size===0){var u=e.outrogroups;z(B(i.done)),u.delete(i),u.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=a.length===0&&t!==null;if(f){var g=t,c=g.parentNode;He(c),c.append(g),e.items.clear()}z(r,!f)}else i={pending:new Set(r),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function z(e,r=!0){for(var t=0;t<e.length;t++)Fe(e[t],r)}var ie;function ar(e,r,t,a,n,i=null){var s=e,l=new Map,f=(r&ce)!==0;if(f){var g=e;s=w?H(Ae(g)):g.appendChild(U())}w&&be();var c=null,v=me(()=>{var d=t();return Le(d)?d:d==null?[]:B(d)}),u,p=!0;function S(){o.fallback=c,Xe(o,u,s,r,a),c!==null&&(u.length===0?c.f&b?(c.f^=b,M(c,null,s)):le(c):ue(c,()=>{c=null}))}var E=Ee(()=>{u=ee(v);var d=u.length;let N=!1;if(w){var I=Ce(s)===Te;I!==(d===0)&&(s=re(),H(s),L(!1),N=!0)}for(var _=new Set,C=Oe,O=ke(),h=0;h<d;h+=1){w&&D.nodeType===Ne&&D.data===Ie&&(s=D,N=!0,L(!1));var T=u[h],k=a(T,h),y=p?null:l.get(k);y?(y.v&&te(y.v,T),y.i&&te(y.i,h),O&&C.skipped_effects.delete(y.e)):(y=Ze(l,p?s:ie??(ie=U()),T,k,h,n,r,t),p||(y.e.f|=b),l.set(k,y)),_.add(k)}if(d===0&&i&&!c&&(p?c=Y(()=>i(s)):(c=Y(()=>i(ie??(ie=U()))),c.f|=b)),w&&d>0&&H(re()),!p)if(O){for(const[R,x]of l)_.has(R)||C.skipped_effects.add(x.e);C.oncommit(S),C.ondiscard(()=>{})}else S();N&&L(!0),ee(v)}),o={effect:E,items:l,outrogroups:null,fallback:c};p=!1,w&&(s=D)}function Xe(e,r,t,a,n){var y,R,x,P,X,Z,$,Q,W;var i=(a&Ue)!==0,s=r.length,l=e.items,f=e.effect.first,g,c=null,v,u=[],p=[],S,E,o,d;if(i)for(d=0;d<s;d+=1)S=r[d],E=n(S,d),o=l.get(E).e,o.f&b||((R=(y=o.nodes)==null?void 0:y.a)==null||R.measure(),(v??(v=new Set)).add(o));for(d=0;d<s;d+=1){if(S=r[d],E=n(S,d),o=l.get(E).e,e.outrogroups!==null)for(const A of e.outrogroups)A.pending.delete(o),A.done.delete(o);if(o.f&b)if(o.f^=b,o===f)M(o,null,t);else{var N=c?c.next:f;o===e.effect.last&&(e.effect.last=o.prev),o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),m(e,c,o),m(e,o,N),M(o,N,t),c=o,u=[],p=[],f=c.next;continue}if(o.f&F&&(le(o),i&&((P=(x=o.nodes)==null?void 0:x.a)==null||P.unfix(),(v??(v=new Set)).delete(o))),o!==f){if(g!==void 0&&g.has(o)){if(u.length<p.length){var I=p[0],_;c=I.prev;var C=u[0],O=u[u.length-1];for(_=0;_<u.length;_+=1)M(u[_],I,t);for(_=0;_<p.length;_+=1)g.delete(p[_]);m(e,C.prev,O.next),m(e,c,C),m(e,O,I),f=I,c=O,d-=1,u=[],p=[]}else g.delete(o),M(o,f,t),m(e,o.prev,o.next),m(e,o,c===null?e.effect.first:c.next),m(e,c,o),c=o;continue}for(u=[],p=[];f!==null&&f!==o;)(g??(g=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue}o.f&b||u.push(o),c=o,f=o.next}if(e.outrogroups!==null){for(const A of e.outrogroups)A.pending.size===0&&(z(B(A.done)),(X=e.outrogroups)==null||X.delete(A));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||g!==void 0){var h=[];if(g!==void 0)for(o of g)o.f&F||h.push(o);for(;f!==null;)!(f.f&F)&&f!==e.fallback&&h.push(f),f=f.next;var T=h.length;if(T>0){var k=a&ce&&s===0?t:null;if(i){for(d=0;d<T;d+=1)($=(Z=h[d].nodes)==null?void 0:Z.a)==null||$.measure();for(d=0;d<T;d+=1)(W=(Q=h[d].nodes)==null?void 0:Q.a)==null||W.fix()}Pe(e,h,k)}}i&&de(()=>{var A,j;if(v!==void 0)for(o of v)(j=(A=o.nodes)==null?void 0:A.a)==null||j.apply()})}function Ze(e,r,t,a,n,i,s,l){var f=s&Re?s&xe?ae(t):Me(t,!1,!1):null,g=s&De?ae(n):null;return{v:f,i:g,e:Y(()=>(i(r,f??t,g??n,l),()=>{e.delete(a)}))}}function M(e,r,t){if(e.nodes)for(var a=e.nodes.start,n=e.nodes.end,i=r&&!(r.f&b)?r.nodes.start:t;a!==null;){var s=Ke(a);if(i.before(a),a===n)return;a=s}}function m(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}const se=[...` 	
\r\fÂ \v\uFEFF`];function nr(e,r,t){var a=e==null?"":""+e;if(r&&(a=a?a+" "+r:r),t){for(var n in t)if(t[n])a=a?a+" "+n:n;else if(a.length)for(var i=n.length,s=0;(s=a.indexOf(n,s))>=0;){var l=s+i;(s===0||se.includes(a[s-1]))&&(l===a.length||se.includes(a[l]))?a=(s===0?"":a.substring(0,s))+a.substring(l+1):s=l}}return a===""?null:a}function fe(e,r=!1){var t=r?" !important;":";",a="";for(var n in e){var i=e[n];i!=null&&i!==""&&(a+=" "+n+": "+i+t)}return a}function G(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function or(e,r){if(r){var t="",a,n;if(Array.isArray(r)?(a=r[0],n=r[1]):a=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,l=!1,f=[];a&&f.push(...Object.keys(a).map(G)),n&&f.push(...Object.keys(n).map(G));var g=0,c=-1;const E=e.length;for(var v=0;v<E;v++){var u=e[v];if(l?u==="/"&&e[v-1]==="*"&&(l=!1):i?i===u&&(i=!1):u==="/"&&e[v+1]==="*"?l=!0:u==='"'||u==="'"?i=u:u==="("?s++:u===")"&&s--,!l&&i===!1&&s===0){if(u===":"&&c===-1)c=v;else if(u===";"||v===E-1){if(c!==-1){var p=G(e.substring(g,c).trim());if(!f.includes(p)){u!==";"&&v++;var S=e.substring(g,v).trim();t+=" "+S+";"}}g=v+1,c=-1}}}}return a&&(t+=fe(a)),n&&(t+=fe(n,!0)),t=t.trim(),t===""?null:t}return e==null?null:String(e)}const $e=Symbol("is custom element"),Qe=Symbol("is html");function ir(e){if(w){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var a=e.value;q(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var n=e.checked;q(e,"checked",null),e.checked=n}}};e.__on_r=t,de(t),Be()}}function sr(e,r){var t=ge(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function q(e,r,t,a){var n=ge(e);w&&(n[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||n[r]!==(n[r]=t)&&(r==="loading"&&(e[Ye]=t),t==null?e.removeAttribute(r):typeof t!="string"&&pe(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function fr(e,r,t){var a=qe,n=Je;let i=w;w&&L(!1),oe(null),ne(null);try{r!=="style"&&(J.has(e.getAttribute("is")||e.nodeName)||!customElements||customElements.get(e.getAttribute("is")||e.tagName.toLowerCase())?pe(e).includes(r):t&&typeof t=="object")?e[r]=t:q(e,r,t==null?t:String(t))}finally{oe(a),ne(n),i&&L(!0)}}function ge(e){return e.__attributes??(e.__attributes={[$e]:e.nodeName.includes("-"),[Qe]:e.namespaceURI===ze})}var J=new Map;function pe(e){var r=e.getAttribute("is")||e.nodeName,t=J.get(r);if(t)return t;J.set(r,t=[]);for(var a,n=e,i=Element.prototype;i!==n;){a=Ve(n);for(var s in a)a[s].set&&t.push(s);n=Ge(n)}return t}async function We(){return await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function je(e){const r=await window.crypto.subtle.exportKey("raw",e),t=new Uint8Array(r);let a="";const n=t.byteLength;for(let i=0;i<n;i++)a+=String.fromCharCode(t[i]);return btoa(a)}async function er(e){const r=atob(e),t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return await window.crypto.subtle.importKey("raw",t,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function he(e,r){const t=window.crypto.getRandomValues(new Uint8Array(12)),a=new TextEncoder().encode(e),n=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},r,a),i=new Uint8Array(t.length+n.byteLength);i.set(t),i.set(new Uint8Array(n),t.length);let s="";const l=i.byteLength;for(let f=0;f<l;f++)s+=String.fromCharCode(i[f]);return btoa(s)}async function ye(e,r){const t=atob(e),a=new Uint8Array(t.length);for(let l=0;l<t.length;l++)a[l]=t.charCodeAt(l);const n=a.slice(0,12),i=a.slice(12),s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},r,i);return new TextDecoder().decode(s)}async function K(){const e=localStorage.getItem("encryption_key");if(e)return er(e);{const r=await We(),t=await je(r);return localStorage.setItem("encryption_key",t),r}}const _e=ve({activeServer:null}),we=ve({cardOrder:[],timestamp:Date.now()}),V="app_server_config_encrypted",Se="dashboard_layout_encrypted";async function cr(){try{const e=localStorage.getItem(V);if(e){const r=await K(),t=await ye(e,r),a=JSON.parse(t);a&&a.url&&a.token&&_e.update(n=>({...n,activeServer:a}))}}catch(e){console.error("Failed to load server config",e),localStorage.removeItem(V)}}async function lr(e){try{const r=await K(),t=JSON.stringify(e),a=await he(t,r);localStorage.setItem(V,a),_e.update(n=>({...n,activeServer:e}))}catch(r){throw console.error("Failed to save server config",r),r}}async function ur(){try{const e=localStorage.getItem(Se);if(e){const r=await K(),t=await ye(e,r),a=JSON.parse(t);we.set(a)}}catch(e){console.error("Failed to load layout:",e)}}async function dr(e){const r={cardOrder:e,timestamp:Date.now()};try{const t=await K(),a=JSON.stringify(r),n=await he(a,t);localStorage.setItem(Se,n),we.set(r)}catch(t){console.error("Failed to save layout:",t)}}export{or as a,_e as b,sr as c,q as d,ar as e,fr as f,dr as g,cr as h,tr as i,ur as j,we as l,ir as r,lr as s,nr as t};
